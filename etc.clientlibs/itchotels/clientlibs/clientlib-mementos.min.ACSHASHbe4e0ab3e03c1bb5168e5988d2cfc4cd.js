window.mementos=window.mementos||{},window.mementos.events={};
function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){var i;if(e)return"string"==typeof e?_arrayLikeToArray(e,t):"Map"===(i="Object"===(i={}.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:i)||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(e,t):void 0}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,a=Array(t);i<t;i++)a[i]=e[i];return a}function ownKeys(t,e){var i,a=Object.keys(t);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(t),e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,i)),a}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(i),!0).forEach(function(e){_defineProperty(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ownKeys(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}function _regenerator(){var f,e="function"==typeof Symbol?Symbol:{},t=e.iterator||"@@iterator",i=e.toStringTag||"@@toStringTag";function a(e,t,i,a){var n,o,r,s,l,d,c,h,u,t=t&&t.prototype instanceof g?t:g,t=Object.create(t.prototype);return _regeneratorDefine2(t,"_invoke",(n=e,o=i,c=a||[],h=!1,u={p:d=0,n:0,v:f,a:m,f:m.bind(f,4),d:function(e,t){return r=e,s=0,l=f,u.n=t,p}},function(e,t,i){if(1<d)throw TypeError("Generator is already running");for(h&&1===t&&m(t,i),s=t,l=i;(v=s<2?f:l)||!h;){r||(s?s<3?(1<s&&(u.n=-1),m(s,l)):u.n=l:u.v=l);try{if(d=2,r){if(v=r[e=s?e:"next"]){if(!(v=v.call(r,l)))throw TypeError("iterator result is not an object");if(!v.done)return v;l=v.value,s<2&&(s=0)}else 1===s&&(v=r.return)&&v.call(r),s<2&&(l=TypeError("The iterator does not provide a '"+e+"' method"),s=1);r=f}else if((v=(h=u.n<0)?l:n.call(o,u))!==p)break}catch(e){r=f,s=1,l=e}finally{d=1}}return{value:v,done:h}}),!0),t;function m(e,t){for(s=e,l=t,v=0;!h&&d&&!i&&v<c.length;v++){var i,a=c[v],n=u.p,o=a[2];3<e?(i=o===t)&&(l=a[(s=a[4])?5:s=3],a[4]=a[5]=f):a[0]<=n&&((i=e<2&&n<a[1])?(s=0,u.v=t,u.n=a[1]):n<o&&(i=e<3||a[0]>t||o<t)&&(a[4]=e,a[5]=t,u.n=o,s=0))}if(i||1<e)return p;throw h=!0,t}}var p={};function g(){}function n(){}function o(){}var v=Object.getPrototypeOf,e=[][t]?v(v([][t]())):(_regeneratorDefine2(v={},t,function(){return this}),v),r=o.prototype=g.prototype=Object.create(e);function s(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,o):(e.__proto__=o,_regeneratorDefine2(e,i,"GeneratorFunction")),e.prototype=Object.create(r),e}return _regeneratorDefine2(r,"constructor",n.prototype=o),_regeneratorDefine2(o,"constructor",n),_regeneratorDefine2(o,i,n.displayName="GeneratorFunction"),_regeneratorDefine2(r),_regeneratorDefine2(r,i,"Generator"),_regeneratorDefine2(r,t,function(){return this}),_regeneratorDefine2(r,"toString",function(){return"[object Generator]"}),(_regenerator=function(){return{w:a,m:s}})()}function _regeneratorDefine2(e,t,i,a){var n=Object.defineProperty;try{n({},"",{})}catch(e){n=0}(_regeneratorDefine2=function(e,t,i,a){t?n?n(e,t,{value:i,enumerable:!a,configurable:!a,writable:!a}):e[t]=i:((a=function(t,i){_regeneratorDefine2(e,t,function(e){return this._invoke(t,i,e)})})("next",0),a("throw",1),a("return",2))})(e,t,i,a)}function asyncGeneratorStep(e,t,i,a,n,o,r){try{var s=e[o](r),l=s.value}catch(e){return void i(e)}s.done?t(l):Promise.resolve(l).then(a,n)}function _asyncToGenerator(s){return function(){var e=this,r=arguments;return new Promise(function(t,i){var a=s.apply(e,r);function n(e){asyncGeneratorStep(a,t,i,n,o,"next",e)}function o(e){asyncGeneratorStep(a,t,i,n,o,"throw",e)}n(void 0)})}}function _defineProperty(e,t,i){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function _toPropertyKey(e){e=_toPrimitive(e,"string");return"symbol"==_typeof(e)?e:e+""}function _toPrimitive(e,t){if("object"!=_typeof(e)||!e)return e;var i=e[Symbol.toPrimitive];if(void 0===i)return("string"===t?String:Number)(e);i=i.call(e,t||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}((e,o)=>{e.AddComponent("itcAccordion",{init:function(e){var a=this,t=e.find(".accordion__trigger"),n=0<e.find(".accordion--only-mobile").length;n&&(a.showContentForDesktop(e,n),window.addEventListener("resize",debounce(function(){a.showContentForDesktop(e,n)},200))),e.on("click",".accordion__trigger",function(e){var t,i;a.accordionTriggerCheck(n)&&(t="true"==o(this).attr("aria-expanded"),i="#"+o(this).attr("aria-controls"),t?(o(i).attr("aria-hidden",!0).slideUp(),o(this).attr("aria-expanded",!1)):(o(i).attr("aria-hidden",!1).slideDown(),o(this).attr("aria-expanded",!0)),e.preventDefault())}),e.on("keydown",".accordion__trigger",function(e){a.accordionTriggerCheck(n)&&(40==e.keyCode&&o(this).closest(".js-accordion__panel").next().find(t).focus(),38==e.keyCode)&&o(this).closest(".js-accordion__panel").prev().find(t).focus()})},accordionTriggerCheck:function(e){var t=o(window).width();return!e||t<window.ITC.screenSize.screenMd},showContentForDesktop:function(e,t){var i=o(window).width(),a=e.find(".accordion__trigger"),e=e.find(".accordion__content");t&&i>=window.ITC.screenSize.screenMd?(a.attr("aria-expanded","true"),e.removeClass("hide").show()):t&&i<window.ITC.screenSize.screenMd&&(a.attr("aria-expanded","false"),e.addClass("hide").hide())}})})(window,window.jQuery),((e,l,t)=>{e.GetService("contentService");var d=null==(t=JSON.parse(null==(t=document.querySelector("#root"))||null==(t=t.dataset)?void 0:t.pks))?void 0:t.csepk,c=""!==d?"true":"false",h=window.crypto||window.msCrypto;e.AddComponent("bestRateForm",{init:function(e){console.log("bestRateForm inittt"),this.$el=e,this.bestRateHotelName=e.find("[name='bestRateHotelName']"),this.bestRateReservNo=e.find("[name='bestRateReservNo']"),this.bestRateFName=e.find("[name='bestRateFName']"),this.bestRateLName=e.find("[name='bestRateLName']"),this.bestRateEmail=e.find("[name='bestRateEmail']"),this.bestRateMobile=e.find("[name='bestRateMobile']"),this.bestRateInfo=e.find("[name='bestRateInfo']"),this.bestRatelowRateMedium=e.find("[name='bestRatelowRateMedium']"),this.bestRateWeb=e.find("[name='bestRateWeb']"),this.bestRateApp=e.find("[name='bestRateApp']"),this.bestRateFile=e.find("[name='bestRateFile']"),this.bestRateRecaptcha=e.find("[name='bestRateRecaptcha']"),this.bestRateTerms=e.find("[name='bestRateTerms']"),this.errplaceholder=e.find(".best-rate-form__backend-error .itc-textfield__label-error"),this.successMsg=e.find(".best-rate-form__backend-success"),this.formContainer=e.find(".best-rate-form__container"),this.formMsg=this.$el.data("message-form"),this.loader=e.find(".best-rate-form__loader"),this.fillData="",this.selectPlaceholder=e.find(".custom-file .custom-file-label").data("select-placeholder");var t=!1,i=getUserCookie();l("form").get(0).reset(),this.formValidation(e),this.bindEvents(),l(".oninput-event").on("input click focus tap",function(e){t||(pushEventToDataLayer("page","form","name","best-rate-form"),analyticSSattelite("Form_Start")),t=!0}),i&&i.member_number&&this.getData(i),this.removeAttachedFile()},getData:function(e){this.$el.find("#bestRateFName").val(e.member_firstname),this.$el.find("#bestRateLName").val(e.member_lastname),this.$el.find("#bestRateEmail").val(e.email_address),this.$el.find("#bestRateMobile").val(e.mobile_number)},removeAttachedFile:function(){var e=this;e.$el.find(".custom-file .custom-file-xButton, .custom-file .custom-file-input").on("click",function(){l("#bestRateFile").val(""),e.$el.find(".custom-file .custom-file-label.selected").removeClass("selected"),e.$el.find(".custom-file .custom-file-label").text(e.selectPlaceholder),e.$el.find(".custom-file .custom-file-xButton").css("display","none")})},bindEvents:function(){var i=this;this.bestRateFile.on("change",function(){for(var e=[],t=0;t<l(this).get(0).files.length;t++)e.push(l(this).get(0).files[t].name);i.fillData=e.filter(function(e,t,i){return t==i.indexOf(e)}).join(","),0<e.length&&i.$el.find(".custom-file .custom-file-xButton").css("display","inline-block")}),this.bestRatelowRateMedium.on("keyup",function(){var e=l(this).val();e&&"website"==e.toLowerCase()?(i.$el.find(".best-rate-form__web").removeClass("hide"),i.$el.find(".best-rate-form__app").addClass("hide")):(i.$el.find(".best-rate-form__web").addClass("hide"),i.$el.find(".best-rate-form__app").removeClass("hide"))})},formValidation:function(e){var t=this,i=".form-best-rate";window.ITC.enableFormForValidation(e.find(i)),e.find(i).validate({submitHandler:t.submitForm.bind(t),focusInvalid:!1,invalidHandler:function(e,t){t.numberOfInvalids()&&l("html, body").animate({scrollTop:l(t.errorList[0].element).offset().top-150},200)},rules:_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty({bestRateHotelName:{required:!0,entityName:!0},bestRateReservNo:{required:!0},bestRateFName:{required:!0,personName:!0},bestRateLName:{required:!0,personName:!0},bestRateEmail:{required:!0,email:!0},bestRateMobile:{required:!0,internationalPhone:!0},bestRateInfo:{required:function(){return"true"!==t.$el.data("disable-bestrateinfo")}},bestRatelowRateMedium:{required:function(){return"true"!==t.$el.data("disable-bestratelowratemedium")}},bestRateWeb:{required:function(){return"true"!==t.$el.data("disable-bestratelowratemedium")}},bestRateApp:{required:function(){return"true"!==t.$el.data("disable-bestratelowratemedium")}}},"bestRateInfo",{required:function(){return"true"!==t.$el.data("disable-bestrateinfo")}}),"bestRatelowRateMedium",{required:function(){return"true"!==t.$el.data("disable-bestratelowratemedium")}}),"bestRateWeb",{required:function(){return"true"!==t.$el.data("disable-bestratelowratemedium")}}),"bestRateApp",{required:function(){return"true"!==t.$el.data("disable-bestratelowratemedium")}}),"bestRateFile",{filesize:parseFloat(t.formMsg.bestRateFileMb),extension:"pdf|doc|docx|jpg|png|jpeg|gif|xls|xlsx",filename:!0}),"bestRateRecaptcha",{required:!0}),"bestRateTerms",{required:!0}),messages:{bestRateHotelName:{required:t.formMsg.bestRateHotelName,entityName:t.formMsg.bestRateImproperHotelName},bestRateReservNo:{required:t.formMsg.bestRateReservNo},bestRateFName:{required:t.formMsg.bestRateFName,personName:t.formMsg.bestRateFNameExpressionValidation},bestRateLName:{required:t.formMsg.bestRateLName,personName:t.formMsg.bestRateLNameExpressionValidation},bestRateEmail:{required:t.formMsg.bestRateEmail,email:t.formMsg.bestRateEmail},bestRateMobile:{required:t.formMsg.bestRateMobile,internationalPhone:t.formMsg.bestRateMobile},bestRateInfo:{required:t.formMsg.bestRateInfo},bestRatelowRateMedium:{required:t.formMsg.bestRatelowRateMedium},bestRateWeb:{required:t.formMsg.bestRateWeb},bestRateApp:{required:t.formMsg.bestRateApp},bestRateFile:{filesize:t.formMsg.bestRateFileSize,extension:t.formMsg.bestRateFileType,filename:t.formMsg.bestRateFileName},bestRateRecaptcha:{required:t.formMsg.bestRateRecaptcha},bestRateTerms:{required:t.formMsg.bestRateTerms}}}),e.find(".best-rate-reset").on("click",function(){l("form").get(0).reset(),l("#bestRateFile").val(""),t.$el.find(".custom-file .custom-file-label.selected").removeClass("selected"),t.$el.find(".custom-file .custom-file-label").text(t.selectPlaceholder),t.$el.find(".custom-file .custom-file-xButton").css("display","none"),e.find(".best-rate-form__web").hasClass("hide")||e.find(".best-rate-form__web").addClass("hide"),e.find(".best-rate-form__app").hasClass("hide")||e.find(".best-rate-form__app").addClass("hide"),e.find(".squareRadioButton").find(".button-box").hasClass("active")&&e.find(".squareRadioButton").find(".button-box").removeClass("active")})},submitForm:function(){var e,t=this,i=this.$el.data("url")||"/",a=(this.$el.data("disable-bestrateinfo"),this.$el.data("disable-bestratelowratemedium"),"true"===this.$el.data("disable-bestrateinfo")),n="true"===this.$el.data("disable-bestratelowratemedium"),o={templateType:"claim",hotelName:this.bestRateHotelName.val(),reservationNumber:this.bestRateReservNo.val(),firstname:this.bestRateFName.val(),lastname:this.bestRateLName.val(),email:this.bestRateEmail.val(),mobile:this.bestRateMobile.val(),rate:a?"":this.bestRateInfo.val(),lowRateMedium:n?"":this.bestRatelowRateMedium.val(),websiteUrl:n?"":this.bestRateWeb.val(),appDetails:n?"":this.bestRateApp.val(),fileName:this.fillData};function r(e){e&&e.submitted?(this.formContainer.hide(),this.successMsg.removeClass("hide").html(this.formMsg.defaultSuccessMsg),scrollToTop(),pushEventToDataLayer("page","form","name","best-rate-form"),analyticSSattelite("Form_Submision")):(this.errplaceholder.html(this.formMsg.defaultErr).show(),getScrollDownToErrorMsg(this.errplaceholder),e=[{layerType:"page",sublLayerType:"form",dataElement:"name",value:"best-rate-form"},{layerType:"page",sublLayerType:"error",dataElement:"name",value:this.formMsg.defaultErr}],pushEventToMulitpleDataLayer(e),analyticSSattelite("Form_Error_Tracking")),this.loader.addClass("hide")}function s(e){this.errplaceholder.html(this.formMsg.defaultErr).show(),this.loader.addClass("hide"),getScrollDownToErrorMsg(this.errplaceholder);var t=[{layerType:"page",sublLayerType:"form",dataElement:"name",value:"best-rate-form"},{layerType:"page",sublLayerType:"error",dataElement:"name",value:this.formMsg.defaultErr}];pushEventToMulitpleDataLayer(t),analyticSSattelite("Form_Error_Tracking")}this.loader.removeClass("hide"),getLoaderScrollTop(this.loader),h&&"true"==c?0<this.bestRateFile[0].files.length?getFileProps(this.bestRateFile[0].files[0],function(e){var t=this;o.fileUploaded=e.base64,o.fileType=e.fileType,o.fileSize=e.fileSize,o.fileName=e.fileName,o.fileExt=e.fileExt,initRestAPIDataSecurityService(d,function(){invokeRestAPIWithDataSecurity(i,"post","",o,"application/json","json",function(){},function(){},r.bind(t),s.bind(t))})}.bind(this),s.bind(this)):initRestAPIDataSecurityService(d,function(){invokeRestAPIWithDataSecurity(i,"post","",o,"application/json","json",function(){},function(){},r.bind(t),s.bind(t))}):((e=new FormData).append("templateType","claim"),e.append("hotelName",this.bestRateHotelName.val()),e.append("reservationNumber",this.bestRateReservNo.val()),e.append("firstname",this.bestRateFName.val()),e.append("lastname",this.bestRateLName.val()),e.append("email",this.bestRateEmail.val()),e.append("mobile",this.bestRateMobile.val()),e.append("rate",a?"":this.bestRateInfo.val()),e.append("lowRateMedium",n?"":this.bestRatelowRateMedium.val()),e.append("websiteUrl",n?"":this.bestRateWeb.val()),e.append("appDetails",n?"":this.bestRateApp.val()),e.append("fileName",this.fillData),e.append("fileUploaded",this.bestRateFile[0].files[0]),e.append("encrypt","none"),l.ajax({type:"POST",url:i,cache:!1,data:e,processData:!1,contentType:!1,success:r.bind(this),error:s.bind(this)}))}})})(window,window.jQuery),((e,t)=>{e.AddComponent("buttonComp",{init:function(e){this.$el=e,this.bindEvents()},bindEvents:function(){this.$el.find(".btn-primary").on("click",function(e){e.preventDefault();var e=t(this).data("target")||"diwali-container",e=t("#"+e);e.length&&(e=e.offset().top-100-50,t("html, body").animate({scrollTop:e},600))})}})})(window,window.jQuery),(e=>{e.AddComponent("callToAction",{init:function(e){this.$el=e,this.bindEvents()},bindEvents:function(){var a=this;this.$el.on("click",function(){var e=a.$el.data("phone-no"),t=a.$el.data("url"),i=a.$el.data("url-target")||"_blank";isMobileAndTablet()?e&&(window.location.href="tel:"+e):t&&window.open(t,i)})}})})(window,window.jQuery),((e,a)=>{e.AddComponent("cardList",{init:function(e){this.$el=e,isMobileScreen()&&e.find(".itc-card-list__rightRow .itc-card-list__spouse-content").on("click",function(){a(this).toggleClass("active");var e=a(this).find("#text"),t=a(this).find(".itc-card-list__readMore"),i=a(this).find(".itc-card-list__readLess");a(this).hasClass("active")?(e.css("webkit-line-clamp","unset"),a(window).width()<769?(t.css({display:"none"}),i.css({display:"block"})):(i.css({display:"none"}),t.css({display:"none"}))):(e.css("webkit-line-clamp","2"),t.css({display:"block"}),i.css({display:"none"}))})}})})(window,window.jQuery),((e,a,t)=>{var r=e.GetService("contentService"),n=null==(t=JSON.parse(null==(t=document.querySelector("#root"))||null==(t=t.dataset)?void 0:t.pks))?void 0:t.csepk,s=null==t?void 0:t.oicpk,l=null==t?void 0:t.oicEndPoint,d=""!==s?"true":"false",c=window.crypto||window.msCrypto;e.AddComponent("changePassword",{init:function(t){var i=this;return _asyncToGenerator(_regenerator().m(function e(){return _regenerator().w(function(e){for(;;)switch(e.n){case 0:return i.$el=t,i.loginUserDetails="",i.loginEmail=t.find("#changeEmail"),i.loginMobile=t.find("#changeMobile"),i.loginPwd=t.find("#changeCurrentPwd"),i.loginNewPwd=t.find("#changeNewPwd"),i.loginConfirmPwd=t.find("#changeConfirmPwd"),i.errplaceholder=t.find(".change-password__backend-msg"),i.formMsg=t.data("message-form"),i.loader=t.find(".change-password__loader"),i.step1Elements=t.find(".change-password__step1"),a("form").get(0).reset(),i.checkLoggedInStatus(),e.n=1,getAuthorizationHeader(n,c);case 1:i.apiAuthHeader=e.v,i.formValidation(t),i.$el.data("satellite")&&(pushEventToDataLayer("page","form","name","change-password-form"),analyticSSattelite("Form_Start"));case 2:return e.a(2)}},e)}))()},checkLoggedInStatus:function(){var e;this.loginUserDetails=cookieToObj(window.ITC.cookie.memberDetails),window&&"false"===window.edit_mode&&(isUserLoggedin()?this.loginUserDetails&&""!==this.loginUserDetails.email_address&&""!==this.loginUserDetails.mobile_number&&(this.loginEmail.val(this.loginUserDetails.email_address),this.loginMobile.val(this.loginUserDetails.mobile_number)):(e=this.formMsg.redirectionUrl||"/",window.location.href=e))},configureApiHeaders:function(){var e={"x-token":cookieToObj(window.ITC.cookie.authToken).token},t=this.apiAuthHeader;return _objectSpread(_objectSpread({},e),t)},validatePasswordRules:function(){var e,t=!1;return this.loginNewPwd.val()!==this.loginConfirmPwd.val()?(e=this.formMsg.changePwdMismatch,t=!0):this.loginPwd.val()===this.loginNewPwd.val()&&(e=this.formMsg.invalidPassword1,t=!0),!t||(this.showHideMsgs(!1,void 0,!0,e),!1)},formValidation:function(e){var t=this,i=".form-change-password";window.ITC.enableFormForValidation(e.find(i)),e.find(i).validate({submitHandler:t.submitForm.bind(t),rules:{changeEmail:{required:!0},changeMobile:{required:!0},changeCurrentPwd:{required:!0},changeNewPwd:{required:!0,pwcheck:!0},changeConfirmPwd:{required:!0,equalTo:"#changeNewPwd"}},messages:{changeEmail:{required:t.formMsg.changeName},changeMobile:{required:t.formMsg.changeName},changeCurrentPwd:{required:t.formMsg.changePwd},changeNewPwd:{required:t.formMsg.changeNewPwd,pwcheck:t.formMsg.changePwdPattern},changeConfirmPwd:{required:t.formMsg.changeConfirmPwd,equalTo:t.formMsg.changePwdMismatch}}})},showHideMsgs:function(e,t,i,a){var n=this.errplaceholder.find(".change-password__label-error"),o=this.errplaceholder.find(".change-password__label-success");e&&void 0!==t?o.show():o.hide(),i&&void 0!==a?(n.show(),n&&n.text(a)):n.hide()},submitForm:function(){var e=this,t=l+window.ITC.OIC_API_DETAILS.CHANGE_PASSWORD_API,i=this.configureApiHeaders(),a={MemberNumber:this.loginUserDetails.member_number,EmailID:this.loginEmail.val().toLowerCase(),PhoneNumber:this.loginMobile.val(),CurrentPassword:this.loginPwd.val(),NewPassword:this.loginNewPwd.val(),Source:"WebSite"};function n(e){var t,i;e&&"SUCCESS"===e.Result?(scrollToTop(),t=e.Response,this.showHideMsgs(!0,t,!1,void 0),this.step1Elements.addClass("hide"),this.$el.data("layerPageName")&&(pushEventToDataLayer("page","form","name","change-password-form"),analyticSSattelite("Form_Submision"))):(e&&"FAULT"===e.Result?(i=e.Response,this.showHideMsgs(!1,void 0,!0,i)):this.showHideMsgs(!1,void 0,!0,this.formMsg.serviceUnavailable),this.$el.data("layerPageName")&&(pushEventToMulitpleDataLayer([{layerType:"page",sublLayerType:"form",dataElement:"name",value:"change-password-form"},{layerType:"page",sublLayerType:"error",dataElement:"name",value:i}]),analyticSSattelite("Form_Error_Tracking"))),this.loader.addClass("hide")}function o(){this.showHideMsgs(!1,void 0,!0,this.formMsg.defaultErr),this.loader.addClass("hide")}this.validatePasswordRules()&&(this.showHideMsgs(!1,void 0,!1,void 0),this.loader.removeClass("hide"),c&&"true"==d?initRestAPIDataSecurityService(s,function(){invokeRestAPIWithDataSecurity(t,"post",i,a,"application/json","json",function(){},function(){},n.bind(e),o.bind(e))}):(a.encrypt="none",r.post(t,a,!0).fail(o.bind(this)).then(n.bind(this))))}})})(window,window.jQuery),((e,r)=>{e.AddComponent("chatInfo",{init:function(e){this.$el=e,this.infoBtn=e.find(".chat-info__icon-info"),this.chatBtn=e.find(".chat-info__icon-chat"),this.chatArea=e.find(".chat-info__chat-area"),this.showHideInfoIcon(),this.bindEvents(),this.hideOverlayClickOut("chat-info"),this.checkChatSession()},checkChatSession:function(){"active"==sessionStorage.getItem("chat")&&this.chatArea.toggleClass("hide")},showHideInfoIcon:function(){r(".itc-generic__modal").length<1&&(this.infoBtn.addClass("noPopupInpage"),this.chatBtn.addClass("border-radiuss"))},bindEvents:function(){var i=this;this.chatBtn.on("click",function(){var e=new XMLHttpRequest,t=window.location.origin+"/Media/ChatActions/ChatAction.ashx";top.window.location.href;e.open("POST",t,!1),e.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),e.send("doCheck=1&CurURL="+top.window.location.href+"&CaseID=0&TeamID=2053&MediaID=6&Email=pravat@this.com&Auto=join&Name=pravat"),""!=e.responseText&&("0"==e.responseText.charAt(12)?(i.chatArea.toggleClass("hide"),OpenChat()):window.confirm(i.$el.data("no-users-text"))&&(window.location.href=i.$el.data("redirect-link")))})},hideOverlayClickOut:function(n){var o=this;r(document).on("click",function(e){var t=r(e.target).attr("class"),t=!!t&&-1<t.indexOf(n),e=0<r(e.target).closest("."+n).length,i=r("."+n),a=o.infoBtn.attr("class");t||e||!i.length||(o.chatArea.addClass("hide"),a&&a.indexOf("noPopupInpage")<0&&o.infoBtn.removeClass("hide"))})}})})(window,window.jQuery),(e=>{e.AddComponent("clubItcBenefit",{init:function(e){this.$el=e,getCardMaxHeight(this.$el)}})})(window,window.jQuery),((e,n)=>{var a=e.GetService("contentService");e.AddComponent("clubItcEnrollmentForm",{init:function(e){this.$el=e,this.enrollSolution=this.$el.find("[name='enrollSolution']"),this.enrollFirstName=this.$el.find("#enrollFirstName"),this.enrollLastName=this.$el.find("#enrollLastName"),this.enrollGender=this.$el.find("[name='enrollGender']"),this.enrollEmail=this.$el.find("#enrollEmail"),this.enrollPhone=this.$el.find("#enrollPhone"),this.enrollCountry=this.$el.find("[name='enrollCountry']"),this.enrollCCode=this.$el.find("#dropdownEnrollCCode"),this.enrollCity=this.$el.find("[name='enrollCity']"),this.referralCode=this.$el.find("#referralCode"),this.enrollCheckbox=this.$el.find("#enrollCheckbox"),this.enrollRecaptha=this.$el.find("#enrollRecaptha"),this.loaderEl=this.$el.find(".loader-cmp"),this.successMsg=this.$el.find(".enrollment__msg-area > .success-msg"),this.errorMsg=this.$el.find(".enrollment__form__msg-area > .error-msg");var t=!1,e=(n("form").get(0).reset(),e.find(".itc-select--country-menu").find("li a[data-value='India']").trigger("click"),this.formValidation(e),this.loaderEl.hide(),window.ITC.pubsub.subscribe("enrollment-form-data",this.captureFullEnrollmentData.bind(this)),n(".oninput-event").on("input click focus tap",function(e){t||(pushEventToDataLayer("page","form","name","enrollment-form"),analyticSSattelite("Form_Start")),t=!0}),n(".enrollment-form").find("button.dropdown-toggle").siblings(".dropdown-menu"));select2DropdownMenu(e,!0,"India","")},formValidation:function(t){var i=this,e=".enrollment__form",a=t.data("message-form");window.ITC.enableFormForValidation(t.find(e)),t.find(e).validate({submitHandler:i.submitForm.bind(i),rules:{enrollSolution:{required:!0},enrollFirstName:{required:!0},enrollLastName:{required:!0},enrollEmail:{required:!0,email:!0},enrollGender:{required:!0},enrollCountry:{required:!0},enrollCCode:{required:!1},enrollCity:{required:!0},enrollPhone:{required:{depends:function(){return"+91"==t.find("#dropdownEnrollCCode span").text()}},indianMobile:{depends:function(){return"+91"==t.find("#dropdownEnrollCCode span").text()}}},referralCode:{required:!0},enrollCheckbox:{required:!0},enrollRecaptha:{required:!0}},messages:{enrollSolution:{required:a.enrollSolution},enrollFirstName:{required:a.enrollFirstName},enrollLastName:{required:a.enrollLastName},enrolleEmail:{required:a.enrollEmail,email:a.enrolleEmail},enrollGender:{required:a.enrollGender},enrollCountry:{required:a.enrollCountry},enrollCCode:{required:a.enrollCCode},enrollCity:{required:a.enrollCity},enrollPhone:{required:a.enrollMobile,indianMobile:a.enrollValidPhone},referralCode:{required:a.referralCode},enrollCheckbox:{required:a.enrollCheckbox},enrollRecaptha:{required:a.enrollRecaptha}}}),t.find(".enroll-reset").on("click",function(){t.find(".enrollment__form").validate().resetForm(),t.find(".select-solution, .squareRadioButton").find(".button-box").hasClass("active")&&t.find(".select-solution, .squareRadioButton").find(".button-box").removeClass("active"),t.find(".itc-select").find("#dropdownEnrollCCode").next(".dropdown-menu").find("li:first-child a").click(),n(".enrollment-form").find("button.dropdown-toggle").siblings(".dropdown-menu").val("").trigger("change"),t.find(".select2-selection__arrow").removeClass("hide")}),t.on("click",".dropdown-menu.itc-select--country-menu > li >  a",function(e){e.preventDefault(),"India"!==n(this).data("value")&&"+91"!==t.find("#dropdownEnrollCCode span").text()&&i.enrollPhone.next(".validation-error-placeholder").find("label").hide()})},captureFullEnrollmentData:function(e,t){this.enrollmentFormFullData=t},analyticsCall:function(e,t){t=[{layerType:"page",sublLayerType:"pageInfo",dataElement:"pageName",value:n(".analytics-hidden-element").data("page-name")},{layerType:"login",sublLayerType:"registration",dataElement:"type",value:"email"},{layerType:"account",sublLayerType:"info",dataElement:"custID",value:t}];pushEventToMulitpleDataLayer(t),analyticSSattelite(e)},submitForm:function(){this.loaderEl.show(),getLoaderScrollTop(this.loaderEl);var e=this.$el.data("url")||"/",i=this.$el.data("message-form"),t={salutation:this.enrollSolution.val(),firstname:this.enrollFirstName.val(),lastname:this.enrollLastName.val(),gender:this.enrollGender.val(),email:this.enrollEmail.val(),mobile:this.enrollPhone.val(),countryCode:this.enrollCCode.find("span").text(),country:this.enrollCountry.val(),city:this.enrollCity.val(),referralCode:this.referralCode.val(),templateType:"clubItcEnrol",checkbox:this.enrollCheckbox.prop("checked"),reCaptha:this.enrollRecaptha.prop("checked")};a.post(e,t,!0).fail(function(){var e;this.errorMsg.html(i.genericErrMsg).removeClass("hide"),this.successMsg.html("").addClass("hide"),getScrollDownToErrorMsg(this.errorMsg),this.loaderEl.hide(),i.genericErrMsg&&(e=[{layerType:"page",sublLayerType:"form",dataElement:"name",value:"enrollment-form"},{layerType:"page",sublLayerType:"error",dataElement:"name",value:i.genericErrMs}],pushEventToMulitpleDataLayer(e),analyticSSattelite("Form_Error_Tracking"))}.bind(this)).then(function(e){var t=e&&e.errMsg;t&&t.indexOf("mobile"),t&&t.indexOf("email");this.loaderEl.hide(),e&&e.submitted?(t=this.$el.find(".success-msg-hidden-value").html(),this.errorMsg.html("").addClass("hide"),this.successMsg.html(t).removeClass("hide"),this.$el.find(".personal-text-area").hide(),this.$el.find(".enrollment-form").hide(),this.$el.find(".enrollment__msg-area").show(),scrollToTop(),pushEventToDataLayer("page","form","name","enrollment-form"),analyticSSattelite("Form_Submision")):(e="",this.errorMsg.html(i.genericErrMsg).removeClass("hide"),e=i.genericErrMsg,this.successMsg.html("").addClass("hide"),getScrollDownToErrorMsg(this.errorMsg),pushEventToMulitpleDataLayer([{layerType:"page",sublLayerType:"form",dataElement:"name",value:"club-itc-enrollment-form"},{layerType:"page",sublLayerType:"error",dataElement:"name",value:e}]),analyticSSattelite("Form_Error_Tracking"))}.bind(this))},verifyCaptcha:function(){document.getElementById("g-recaptcha-error").innerHTML=""}})})(window,window.jQuery),((e,a)=>{e.AddComponent("contactUsComp",{init:function(e){this.$el=e,this.handleActivePanel()},handleActivePanel:function(){var t=this.$el,i=this.$el.find(".header-second__nav-ul").find(".header-second__nav-a");i.on("click",function(){var e=a(this).data("href");i.removeClass("active"),a(this).addClass("active"),a(".contactus__panels__panel").hide(),e&&a(e).show(),setTimeout(function(){a("html, body").animate({scrollTop:0},500)},500),isMobileScreen()&&t.find(".header-second__more-links").trigger("click")}),i.first().trigger("click")}})})(window,window.jQuery),((e,n)=>{e.AddComponent("contactUsHotels",{init:function(e){this.$el=e,this.previousTop=0,this.searchHotelByAlphabet()},searchHotelByAlphabet:function(){var i=this.$el,a=this;i.find(".contactUs-itcHotels__alphabet > .alaphabet").on("click",function(e){e.preventDefault();var e=n(this).attr("data-alphabetId"),e=n("#"+e),t=i.find(".contactUs-hotelListing").offset().top,e=parseInt(e.offset().top)-parseInt(t),t=0;0!=a.previousTop&&null!=a.previousTop?(a.previousTop==e?t=e:a.previousTop<e?t=e+a.previousTop:a.previousTop>e&&(t=a.previousTop+e),a.previousTop=t):a.previousTop=t=e,i.find(".contactUs-hotelListing").stop().animate({scrollTop:t},500)})}})})(window,window.jQuery),!function(root,$){var renderer=root.GetComponent("renderer"),destinationList=[];root.AddComponent("DestinationListing",{init:function(e){this.$el=e,this.locationsArray=[],this.latLongCenter={},this.mapLoaded=!1,$(".destinations-map").css("display","none"),window.ITC.pubsub.subscribe("destination",this.getData.bind(this)),window.ITC.pubsub.subscribe("view",this.switchView.bind(this))},switchView:function(e,t){"gridView"==t?($(".destinations-map").css("display","none"),$(".itc-listdestinations").css("display","block")):"mapView"==t&&($(".destinations-map").css("display","block"),$(".itc-listdestinations").css("display","none"),this.mapLoaded||this.loadMap())},getData:function getData(msg,data){var _this6=this,destinationArr=[],brandNotshow=(destinationList=[],eval(this.$el.data("brands-not-to-show"))),sortTotalList=data.totalList.filter(function(e){return-1==brandNotshow.indexOf(e.brand.value)});window.ITC.pubsub.publish("offerCount",sortTotalList.length),this.$el.find(".itc-listdestinations").data("templateId")&&(sortTotalList.forEach(function(t){destinationArr.includes(t.destinations.title)||(e=sortTotalList.filter(function(e){return t.destinations.title==e.destinations.title}),destinationArr.push(t.destinations.title),i=[],e.forEach(function(e){i.push({hotelName:e.hotel.title,label:e.label,hotelURL:e.hotelURL,brandName:e.brand.title,brandValue:e.brand.value,brandColor:e.brand.brandColor})}),destinationList.push({destinationName:t.destinations.title,destinationUrl:t.destinations.url,hotels:i}));var i,e=[];e.push(t.hotelURL),e.push(t.hotelLatitude),e.push(t.hotelLongitude),e.push(t.hotel.title),e.push(t.brand.value),e.push(t.brand.brandColor),_this6.locationsArray.push(e)}),this.latLongCenter=getCenter(this.locationsArray),renderer.init(this.$el.find(".itc-listdestinations"),{dataObject:sortArrObjByKey(destinationList,"destinationName")}))},loadMap:function(){var e=this;setTimeout(function(){"undefined"!==initMap&&(initMap(e.locationsArray,e.$el.find(".itc-destinations__map")[0],e.latLongCenter),e.mapLoaded=!0)},500)}})}(window,window.jQuery),((e,s)=>{e.AddComponent("diwaliComp",{init:function(e){this.$el=e,this.bindEvents()},bindEvents:function(){var e=this.$el,t=e.find("#orderNow"),i=e.find("#overlay"),a=e.find("#popup"),n=e.find("#closePopup"),o=e.find("#continueBtn"),r=e.find("#hotelSelect");t.on("click",function(){i.css("display","flex"),s("body").css("overflow","hidden"),setTimeout(function(){return a.addClass("show")},50)}),n.on("click",function(){a.removeClass("show"),setTimeout(function(){i.css("display","none"),s("body").css("overflow","auto")},300)}),o.on("click",function(){var e=r.val();e&&(window.location.href=e)})}})})(window,window.jQuery),(e=>{e.AddComponent("experienceDesign",{init:function(e){var t=document.querySelectorAll(".experience-design"),i=new IntersectionObserver(function(e){e.forEach(function(e){e.isIntersecting&&1===e.intersectionRatio&&!e.target.classList.contains("active")?e.target.classList.add("active"):(e.isIntersecting&&e.intersectionRatio<.1&&e.target.classList.contains("active")||!e.isIntersecting&&e.target.classList.contains("active"))&&e.target.classList.remove("active")})},{root:null,rootMargin:"0px",threshold:[0,.1,1]});t.forEach(function(e){i.observe(e)})}})})(window,window.jQuery),((e,t)=>{e.AddComponent("facilitiesComp",{init:function(e){this.$el=e,this.bindEvents()},bindEvents:function(){this.$el.find(".itc-facilities_viewAll a").on("click",function(e){e.preventDefault();var e=t(this).data("target")||"terms-accordion-id",e=t("#"+e);e.length&&(e=e.offset().top-100-50,t("html, body").animate({scrollTop:e},600))})}})})(window,window.jQuery),((e,s,t)=>{e.GetService("contentService");var l=null==(t=JSON.parse(null==(t=document.querySelector("#root"))||null==(t=t.dataset)?void 0:t.pks))?void 0:t.csepk,d=null==t?void 0:t.oicpk,c=null==t?void 0:t.oicEndPoint,h=""!==d?"true":"false",u=window.crypto||window.msCrypto;e.AddComponent("feedbackForm",{init:function(o){var r=this;return _asyncToGenerator(_regenerator().m(function e(){var t,i,a,n;return _regenerator().w(function(e){for(;;)switch(e.n){case 0:return r.$el=o,r.feedbackCategory=o.find("[name='feedbackCategory']"),r.feedbackFile=o.find("[name='feedbackFile']"),r.feedbackDesc=o.find("[name='feedbackDesc']"),r.feedbackSalutation=r.$el.find("[name='feedbackSalutation']"),r.feedbackFName=o.find("[name='feedbackFName']"),r.feedbackLName=o.find("[name='feedbackLName']"),r.feedbackCountry=o.find("[name='feedbackCountry']"),r.feedbackCity=o.find("[name='feedbackCity']"),r.feedbackCCode=o.find("[name='feedbackCCode']"),r.feedbackMobile=o.find("[name='feedbackMobile']"),r.feedbackEmail=o.find("[name='feedbackEmail']"),r.tncCheckbox=r.$el.find("#tncCheckbox"),r.errplaceholder=o.find(".feedback-form__backend-error .itc-textfield__label-error"),r.successMsg=o.find(".feedback-form__backend-success"),r.formContainer=o.find(".feedback-form__container"),r.formMsg=r.$el.data("message-form"),r.loader=o.find(".feedback-form__loader"),r.fillData="",r.selectPlaceholder=o.find(".custom-file .custom-file-label").data("select-placeholder"),t=!1,i=getUserCookie(),s("form").get(0).reset(),o.find(".itc-select--country-menu").find("li a[data-value='India']").trigger("click"),r.formValidation(o),(a=r).feedbackFile.on("change",function(){for(var e=[],t=0;t<s(this).get(0).files.length;t++)e.push(s(this).get(0).files[t].name);a.fillData=e.filter(function(e,t,i){return t==i.indexOf(e)}).join(","),0<e.length&&a.$el.find(".custom-file .custom-file-xButton").css("display","inline-block")}),s(".oninput-event").on("input click focus tap",function(e){t||(pushEventToDataLayer("page","form","name","feedback-form"),analyticSSattelite("Form_Start")),t=!0}),r.removeAttachedFile(),n=s(".form-feedback").find("button.dropdown-toggle").siblings(".dropdown-menu"),select2DropdownMenu(n,!0,"India",""),i&&i.member_number&&r.getData(i),e.n=1,getAuthorizationHeader(l,u);case 1:r.apiAuthHeader=e.v;case 2:return e.a(2)}},e)}))()},removeAttachedFile:function(){var e=this;e.$el.find(".custom-file .custom-file-xButton, .custom-file .custom-file-input").on("click",function(){s("#feedbackFile").val(""),e.$el.find(".custom-file .custom-file-label.selected").removeClass("selected"),e.$el.find(".custom-file .custom-file-label").text(e.selectPlaceholder),e.$el.find(".custom-file .custom-file-xButton").css("display","none")})},getData:function(e){this.$el.find("#feedbackFName").val(e.member_firstname),this.$el.find("#feedbackLName").val(e.member_lastname),this.$el.find("#feedbackEmail").val(e.email_address),this.$el.find("#feedbackMobile").val(e.mobile_number)},formValidation:function(e){var t=this,i=".form-feedback";window.ITC.enableFormForValidation(e.find(i)),e.find(i).validate({focusInvalid:!1,invalidHandler:function(e,t){t.numberOfInvalids()&&s("html, body").animate({scrollTop:s(t.errorList[0].element).offset().top-150},200)},submitHandler:t.submitForm.bind(t),rules:{feedbackCategory:{required:!0},feedbackDesc:{required:!0,description:!0},feedbackSalutation:{required:!0},feedbackFName:{required:!0,personName:!0},feedbackLName:{required:!0,personName:!0},feedbackCountry:{required:!0},feedbackCity:{required:!0},feedbackCCode:{required:!1},tncCheckbox:{required:!0},feedbackMobile:{required:{depends:function(){return"+91"==e.find("#dropdownfeedbackCCode span").text()}},indianMobile:{depends:function(){return"+91"==e.find("#dropdownfeedbackCCode span").text()}}},feedbackEmail:{required:!0,email:!0},feedbackRecaptcha:{required:!0},feedbackFile:{filesize:parseFloat(t.formMsg.feedbackFileMb),extension:"pdf|doc|docx|jpg|png|jpeg|gif|xls|xlsx",filename:!0}},messages:{feedbackCategory:{required:t.formMsg.feedbackCategory},feedbackDesc:{required:t.formMsg.feedbackDesc,description:t.formMsg.feedbackValidDesc},feedbackSalutation:{required:t.formMsg.feedbackSalutation},feedbackFName:{required:t.formMsg.feedbackFName,personName:t.formMsg.feedbackFNameExpressionValidation},feedbackLName:{required:t.formMsg.feedbackLName,personName:t.formMsg.feedbackLNameExpressionValidation},feedbackCountry:{required:t.formMsg.feedbackCountry},feedbackCity:{required:t.formMsg.feedbackCity},feedbackCCode:{required:t.formMsg.feedbackCCode},tncCheckbox:{required:t.formMsg.tncCheckbox},feedbackMobile:{required:t.formMsg.feedbackMobile,indianMobile:t.formMsg.feedbackMobile},feedbackEmail:{required:t.formMsg.feedbackEmail,email:t.formMsg.feedbackEmail},feedbackRecaptcha:{required:t.formMsg.feedbackRecaptcha},feedbackFile:{filesize:t.formMsg.feedbackFileSize,extension:t.formMsg.feedbackFileType,filename:t.formMsg.feedbackFileName}}}),e.find(".feedback-reset").on("click",function(){e.find(".form-feedback").validate().resetForm(),s("#feedbackFile").val(""),t.$el.find(".custom-file .custom-file-label.selected").removeClass("selected"),t.$el.find(".custom-file .custom-file-label").text(t.selectPlaceholder),t.$el.find(".custom-file .custom-file-xButton").css("display","none"),e.find(".squareRadioButton").find(".button-box").hasClass("active")&&e.find(".squareRadioButton").find(".button-box").removeClass("active"),e.find(".itc-select").find("#dropdownfeedbackCCode").next(".dropdown-menu").find("li:first-child a").click(),s(".form-feedback").find("button.dropdown-toggle").siblings(".dropdown-menu").val("").trigger("change"),e.find(".select2-selection__arrow").removeClass("hide")})},configureApiHeaders:function(){return _objectSpread({},getAuthorizationHeader(l,u))},submitForm:function(){var t=this;return _asyncToGenerator(_regenerator().m(function e(){var i,a,n,o,r;return _regenerator().w(function(e){for(;;)switch(e.n){case 0:return r=function(e){this.errplaceholder.html(this.formMsg.defaultErr).show(),getScrollDownToErrorMsg(this.errplaceholder),this.loader.addClass("hide");var t=[{layerType:"page",sublLayerType:"form",dataElement:"name",value:"feedback-form"},{layerType:"page",sublLayerType:"error",dataElement:"name",value:this.formMsg.defaultErr}];pushEventToMulitpleDataLayer(t),analyticSSattelite("Form_Error_Tracking")},o=function(e){e&&"SUCCESS"===e.Result?(e=e.Response.split(":").at(1),e=this.formMsg.defaultSuccessMsg.replace("${serviceRequestNumber}",e),this.successMsg.removeClass("hide").html(e),this.formContainer.hide(),scrollToTop(),pushEventToDataLayer("page","form","name","feedback-form"),analyticSSattelite("Form_Submision")):(this.errplaceholder.html(this.formMsg.defaultErr).show(),getScrollDownToErrorMsg(this.errplaceholder),e=[{layerType:"page",sublLayerType:"form",dataElement:"name",value:"feedback-form"},{layerType:"page",sublLayerType:"error",dataElement:"name",value:this.formMsg.defaultErr}],pushEventToMulitpleDataLayer(e),analyticSSattelite("Form_Error_Tracking")),this.loader.addClass("hide")},i=c+window.ITC.OIC_API_DETAILS.SR_FEEDBACK_API,e.n=1,getAuthorizationHeader(l,u);case 1:a=e.v,n={Title:"Feedback Request",SRType_c:"CUSTOMER_REQUEST",L1TYPE_c:"FEEDBACK_AND_QUERIES",L2TYPE_c:t.feedbackCategory.val(),L3TYPE_c:"GENERAL_QUERY_OR_COMPLAINT",Salutation_c:t.feedbackSalutation.val(),FirstName_c:t.feedbackFName.val(),LastName_c:t.feedbackLName.val(),EmailAddress_c:t.feedbackEmail.val(),MobileNumber_c:t.feedbackMobile.val(),CountryTelCode_c:t.feedbackCCode.closest(".itc-select").find("#dropdownfeedbackCCode span").text(),Country_c:getCapitalizedString(t.feedbackCountry.val()),CustomerCity_c:getCapitalizedString(t.feedbackCity.val()),Feedback_c:t.feedbackDesc.val(),AttachmentName:"",Attachment:"",ChannelTypeCd:window.ITC.OIC_API_DETAILS.SOURCE_INFO},t.loader.removeClass("hide"),getLoaderScrollTop(t.loader),u&&"true"==h?0<t.feedbackFile[0].files.length?getFileProps(t.feedbackFile[0].files[0],function(e){var t=this;n.Attachment=e.base64.substr(e.base64.indexOf(",")+1),n.AttachmentName=e.fileName,initRestAPIDataSecurityService(d,function(){invokeRestAPIWithDataSecurity(i,"post",a,n,"application/json","json",function(){},function(){},o.bind(t),r.bind(t))})}.bind(t),r.bind(t)):initRestAPIDataSecurityService(d,function(){invokeRestAPIWithDataSecurity(i,"post",a,n,"application/json","json",function(){},function(){},o.bind(t),r.bind(t))}):(t.errplaceholder.html(t.formMsg.defaultErr).show(),t.loader.addClass("hide"));case 2:return e.a(2)}},e)}))()}})})(window,window.jQuery),((e,t)=>{var n=e.GetService("contentService");e.GetComponent("renderer"),e.AddComponent("flexibleTravelPlanSummaryComp",{init:function(e){this.$el=e,this.nomineeDetailsName=this.$el.find("#nomineeDetailsName"),this.nomineeDetailsRelationship=this.$el.find("#nomineeDetailsRelationship"),this.nomineeDetailsEmail=this.$el.find("#nomineeDetailsEmail"),this.nomineeDetailsPhone=this.$el.find("#nomineeDetailsPhone"),this.successMsg=this.$el.find(".nomineedetailsContainer__form__msg-area > .success-msg"),this.errorMsg=this.$el.find(".nomineedetailsContainer__form__msg-area > .error-msg"),this.loaderEl=this.$el.find(".loader-cmp"),this.getPersonalInfo(),window.ITC.pubsub.subscribe("personal-info",this.capturePernalInfotData.bind(this)),window.ITC.pubsub.subscribe("pernsonal-info-form-data",this.getData.bind(this)),this.formValidation(e),this.loaderEl.hide(),this.pageTitle=t("#hiddenPageTitle").text(),pushEventToDataLayer("page","form","name",this.pageTitle),analyticSSattelite("Form_Start")},getPersonalInfo:function(){var e=cookieToObj(window.ITC.cookie.userInfo);e&&e.memberId&&(this.loaderEl.show(),e=this.$el.data("url"),n.post(e,{},!0).then(function(e){e&&window.ITC.pubsub.publish("pernsonal-info-form-data",e)}))},getData:function(e,t){t=t&&t.listOfItcHotelCqfLoyMember&&t.listOfItcHotelCqfLoyMember.loyMember;t&&0<t.length&&(this.$el.find("#nomineeDetailsName").val(t[0].FName),this.$el.find("#nomineeDetailsEmail").val(t[0].email),this.$el.find("#nomineeDetailsPhone").val(t[0].mob),this.loaderEl.hide())},resetServiceMessages:function(){this.errorMsg.html("").addClass("hide"),this.successMsg.html("").addClass("hide")},formValidation:function(e){var t=this,i=".nomineedetailsContainer-form",a=getObjFromHtml(e.data("message-form"));window.ITC.enableFormForValidation(e.find(i)),e.find(i).validate({submitHandler:t.submitForm.bind(t),onclick:t.resetServiceMessages.bind(t),onkeyup:t.resetServiceMessages.bind(t),onfocusout:function(e){return t.errorMsg.html("").addClass("hide"),t.successMsg.html("").addClass("hide"),!0},rules:{nomineeDetailsName:{required:!0},nomineeDetailsRelationship:{required:!0},nomineeDetailsEmail:{required:!0,email:!0},nomineeDetailsPhone:{required:!0,indianMobile:!0}},messages:{nomineeDetailsName:{required:a.nomineeDetailsName},nomineeDetailsRelationship:{required:a.nomineeDetailsRelationship},nomineeDetailsEmail:{required:a.nomineeDetailsEmail,email:a.nomineeDetailsEmail},nomineeDetailsPhone:{required:a.nomineeDetailsPhone,indianMobile:a.nomineeDetailsValidPhone}}})},capturePernalInfotData:function(e,t){this.capturePernalInfotData=t},submitForm:function(){var e=this.$el.data("url")||"/",t=getObjFromHtml(this.$el.data("message-form")),i=t&&t.apiSuccess?t.apiSuccess:"",a=t&&t.apiError?t.apiError:"",t=cookieToObj(window.ITC.cookie.userInfo);t&&t.memberId&&(t={memberId:t.memberId,nomineeName:this.nomineeDetailsName.val(),relationship:this.nomineeDetailsRelationship.val(),email:this.nomineeDetailsEmail.val().toLowerCase(),mob:this.nomineeDetailsPhone.val()},n.post(e,t,!0).fail(function(){var e;this.errorMsg.html(a).removeClass("hide"),this.successMsg.html("").addClass("hide"),a&&(e=[{layerType:"page",sublLayerType:"form",dataElement:"name",value:this.pageTitle},{layerType:"page",sublLayerType:"error",dataElement:"name",value:a}],pushEventToMulitpleDataLayer(e),analyticSSattelite("Form_Error_Tracking"))}.bind(this)).then(function(e){e&&"Y"==e.resultMsg?(this.errorMsg.html("").addClass("hide"),this.successMsg.html(i).removeClass("hide"),pushEventToDataLayer("page","form","name",this.pageTitle),analyticSSattelite("Form_Submision")):(this.errorMsg.html(e.errorMsg).removeClass("hide"),this.successMsg.html("").addClass("hide"),e=[{layerType:"page",sublLayerType:"form",dataElement:"name",value:this.pageTitle},{layerType:"page",sublLayerType:"error",dataElement:"name",value:e.errorMsg}],pushEventToMulitpleDataLayer(e),analyticSSattelite("Form_Error_Tracking"))}.bind(this)))}})})(window,window.jQuery),((e,n)=>{var o=e.GetService("contentService"),r=e.GetComponent("renderer");e.AddComponent("foodForThoughtVolumeListing",{init:function(t){this.$el=t,this.category=this.$el.find("[name='fft-volume-category']");var i=this;this.$el.find(".itc-food-for-thought-volume-listing").data("templateId")&&this.renderVolumeList(),t.on("click",".food-for-thought-volume-listing__reset",function(e){i.category.val(""),t.find(".itc-select").find(".dropdown-menu > li >  a")[0].click()}),t.on("click",".dropdown-menu > li >  a",function(e){e.preventDefault(),i.renderDisplayVolumeList()})},renderDisplayVolumeList:function(){var t=this,e=this.volumeData.filter(function(e){return e.category==t.category.val()});""==this.category.val()?r.init(this.$el.find(".itc-food-for-thought-volume-listing"),{volume:this.volumeData}):r.init(this.$el.find(".itc-food-for-thought-volume-listing"),{volume:e})},renderVolumeList:function(){var t=this,i=n.Deferred(),e=this.$el.data("api-url"),a={category:this.category.val()};return o.get(e,a).then(function(e){e?i.resolve(e):i.reject(e.ErrMsg),e&&("string"==typeof e&&(e=JSON.parse(e)),t.volumeData=e,r.init(t.$el.find(".itc-food-for-thought-volume-listing"),{volume:e}),t.$el.find(".loader-cmp").hide())}).fail(function(){t.$el.find(".loader-cmp").hide()}),i.promise()}})})(window,window.jQuery),(e=>{var n=e.GetComponent("renderer");e.AddComponent("FoodAndBeverageOfferListing",{init:function(e){this.$el=e,window.ITC.pubsub.subscribe("fnboffer",this.getData.bind(this)),window.ITC.pubsub.subscribe("view",this.switchView.bind(this)),this.getUrlParams=getUrlParams(window.location.href),this.hotel=this.getUrlParams?this.getUrlParams.hotel:""},switchView:function(e,t){"listView"==t?this.$el.addClass("list-view"):"gridView"==t&&this.$el.removeClass("list-view")},getData:function(e,t){if(this.$el.find(".itc-offer-listing").data("templateId")){t.totalList=t.totalList.filter(function(t,e,i){return e==i.indexOf(i.filter(function(e){return e.offer.offerName==t.offer.offerName})[0])});for(var i,a=0;a<t.totalList.length;a++)this.hotel==t.totalList[a].hotel.value&&((i=document.createElement("span")).id="hotelid",i.setAttribute("data-hotelid",t.totalList[a].hotel.hotelCode),pushEventToDataLayer("page","pageInfo","hotelID",t.totalList[a].hotel.hotelCode),i.className="hide",document.body.appendChild(i));window.ITC.pubsub.publish("offerCount",t.totalList.length),n.init(this.$el.find(".itc-offer-listing"),{dataObject:t.totalList})}}})})(window,window.jQuery),((e,o,t)=>{var d=e.GetService("contentService"),a=null==(t=JSON.parse(null==(t=document.querySelector("#root"))||null==(t=t.dataset)?void 0:t.pks))?void 0:t.csepk,c=null==t?void 0:t.oicpk,h=null==t?void 0:t.oicEndPoint,u=""!==c?"true":"false",m=window.crypto||window.msCrypto;e.AddComponent("forgotPasswordComp",{init:function(t){var i=this;return _asyncToGenerator(_regenerator().m(function e(){return _regenerator().w(function(e){for(;;)switch(e.n){case 0:return i.$el=t,i.forgotPwdEmailPhone=i.$el.find("#forgotPwdEmailPhone"),i.successMsg=i.$el.find(".forgotPwd__forgotForm__msg-area > .success-msg"),i.errorMsg=i.$el.find(".forgotPwd__forgotForm__msg-area > .error-msg"),i.loaderEl=i.$el.find(".loader-cmp"),o("form").get(0).reset(),i.formValidation(t),i.resetPasswordFirstTimeLogin(t),window.ITC.pubsub.subscribe("forgotPassword-form-data",i.captureUserData.bind(i)),e.n=1,getAuthorizationHeader(a,m);case 1:i.apiAuthHeader=e.v,i.loaderEl.hide(),i.$el.data("satellite")&&-1===window.location.href.indexOf("profile")&&(pushEventToDataLayer("page","form","name","forgotPwd-form"),analyticSSattelite("Form_Start"));case 2:return e.a(2)}},e)}))()},configureApiHeaders:function(){return _objectSpread(_objectSpread({},this.apiAuthHeader),{"x-token-required":"N"})},formValidation:function(e){var t=".forgotPwd__forgotForm__form",i=e.data("message-form");window.ITC.enableFormForValidation(e.find(t)),e.find(t).validate({submitHandler:this.submitForm.bind(this),rules:{forgotPwdEmailPhone:{required:!0,email_or_mobile:!0}},messages:{forgotPwdEmailPhone:{required:i.forgotPwdEmailPhone,email_or_mobile:i.forgotPwdEmailPhone}}}),e.find(".forgot-reset").on("click",function(){e.find(t).validate().resetForm()})},captureUserData:function(e,t){this.enrollmentFormFullData=t},submitForm:function(){var e=this,t=(this.loaderEl.show(),h+window.ITC.OIC_API_DETAILS.OTP_GENERATION_API),i=this.$el.data("message-form"),a=i&&i.apiSuccess?i.apiSuccess:"",n=-1<this.forgotPwdEmailPhone.val().indexOf("@"),o=this.configureApiHeaders(),r=_objectSpread(_objectSpread(_objectSpread({},n&&{EmailAddress:this.forgotPwdEmailPhone.val().toLowerCase()}),!n&&{PhoneNumber:this.forgotPwdEmailPhone.val()}),{},{service:"FORGOTPASSWORD_OTP",return_otp:!0});function s(e){e&&"SUCCESS"===e.Status?(scrollToTop(),this.loaderEl.hide(),this.successMsg.html(a).removeClass("hide"),this.errorMsg.html("").addClass("hide"),r.timer=!0,window.ITC.pubsub.publish("itc-otpForm",r),this.$el.closest(".form-container-forgotpwd").hide(),this.$el.closest(".forgotPwd").find(".form-container-otp").show(),this.$el.data("layerPageName")&&(pushEventToDataLayer("page","form","name","forgotPwd-form"),analyticSSattelite("Form_Submision"))):e&&"FAULT"===e.Status&&(e=e&&"00030"===e.Status_Code?i.invalidMemberStatus:i.defaultErr,this.loaderEl.hide(),this.errorMsg.html(e).removeClass("hide"),this.successMsg.html("").addClass("hide"),this.$el.data("layerPageName"))&&(pushEventToMulitpleDataLayer([{layerType:"page",sublLayerType:"form",dataElement:"name",value:"forgotPwd-form"},{layerType:"page",sublLayerType:"error",dataElement:"name",value:e}]),analyticSSattelite("Form_Error_Tracking"))}function l(){this.loaderEl.hide(),this.errorMsg.html(i.serviceUnavailable).removeClass("hide"),this.successMsg.html("").addClass("hide")}m&&"true"==u?initRestAPIDataSecurityService(c,function(){invokeRestAPIWithDataSecurity(t,"post",o,r,"application/json","json",function(){},function(){},s.bind(e),l.bind(e))}):(r.encrypt="none",d.post(t,r,!0).fail(l.bind(this)).then(s.bind(this)))},resetPasswordFirstTimeLogin:function(e){var t,i,a=e.closest(".forgotPwd__restPwdFirstTimeLogin");a&&0<a.length&&(t=getCookieDetail("member-details")&&JSON.parse(getCookieDetail("member-details")),i=this,t&&"Y"===(null==t?void 0:t.firsttimelogin_flag)&&a.hasClass("hide")&&a.removeClass("hide"),a.find(".forgotPwd-close").on("click",function(){i.closeModal(e)}),this.onOutsideClickCloseHandler(a))},closeModal:function(e){e=e.closest(".forgotPwd__restPwdFirstTimeLogin");e.hasClass("hide")||e.addClass("hide")},onOutsideClickCloseHandler:function(a){var n=this;o(document).on("click",function(e){var t=a.closest(".forgotPwd__restPwdFirstTimeLogin"),i=t.find(".modal-content__inner");t.hasClass("hide")||!i||i.is(e.target)||0!==i.has(e.target).length||n.closeModal(a)})}})})(window,window.jQuery);var logoutSuccessEvent=function(e){return new CustomEvent("logoutSuccessEvent",e)};((e,i)=>{var l=e.GetService("contentService");e.AddComponent("otpformComp",{init:function(i){var a=this;return _asyncToGenerator(_regenerator().m(function e(){var t;return _regenerator().w(function(e){for(;;)switch(e.n){case 0:return a.$el=i,a.forgotPwdOTP=a.$el.find("#forgotPwdOTP"),a.forgotPwdSet=a.$el.find("#forgotPwdSet"),a.forgotPwdConfirm=a.$el.find("#forgotPwdConfirm"),a.successMsg=a.$el.find(".forgotPwd__OTP__form__msg-area > .success-msg"),a.errorMsg=a.$el.find(".forgotPwd__OTP__form__msg-area > .error-msg"),a.loaderEl=a.$el.find(".loader-cmp"),a.memberContactEle=a.$el.closest(".form-container__left").find(".form-container-forgotpwd").find("#forgotPwdEmailPhone"),a.forgotFormData=void 0,a.timerId={},a.apiConfigurations=JSON.parse(null==(t=document.querySelector("#root"))||null==(t=t.dataset)?void 0:t.pks),a.csePubKey=null==(t=a.apiConfigurations)?void 0:t.csepk,a.oicPubKey=null==(t=a.apiConfigurations)?void 0:t.oicpk,a.oicEndpoint=null==(t=a.apiConfigurations)?void 0:t.oicEndPoint,a.isOICSecurityEnabled=""!==a.oicPubKey?"true":"false",a.isCryptoAvailable=window.crypto||window.msCrypto,a.formValidation(i),window.ITC.pubsub.subscribe("itc-otpForm",a.captureOtpData.bind(a)),e.n=1,getAuthorizationHeader(a.csePubKey,a.isCryptoAvailable);case 1:a.apiAuthHeader=e.v,a.loaderEl.hide();case 2:return e.a(2)}},e)}))()},resetFormFields:function(){this.forgotPwdOTP.val(""),this.forgotPwdSet.val(""),this.forgotPwdConfirm.val(""),this.forgotFormData&&this.otpTimer(this.forgotFormData,!0)},generateOTP:function(){var e=this.$el.data("url")||"/",i=this.$el.data("message-form"),t=(i&&i.apiSuccess&&i.apiSuccess,this.loaderEl.show(),{emailPhone:this.forgotFormData.emailPhone,memberId:this.forgotFormData.memberId,requestType:"forgotPwd"});function a(e){this.loaderEl.hide(),this.errorMsg.html(i.serviceUnavailable).removeClass("hide"),this.successMsg.html("").addClass("hide")}function n(e){var t;e&&"Y"==e.resultMsg?this.loaderEl.hide():(t=i.defaultErr,!!(e=e.vMsg?e.vMsg.toLowerCase():void 0)&&-1<e.indexOf("account locked")&&(t=i.accountLocked),this.loaderEl.hide(),this.errorMsg.html(t).removeClass("hide"),this.successMsg.html("").addClass("hide"),this.$el.data("layerPageName")&&(e=[{layerType:"page",sublLayerType:"form",dataElement:"name",value:this.$el.data("layerPageName")},{layerType:"page",sublLayerType:"error",dataElement:"name",value:t}],pushEventToMulitpleDataLayer(e),analyticSSattelite("Form_Error_Tracking")))}this.isCryptoAvailable&&"true"===this.isSecurityEnabled?invokeRestAPIWithDataSecurity(e,"post",t,"application/json","json",function(){},function(){},n.bind(this),a.bind(this)):(t.encrypt="none",l.post(e,t,!0).fail(a.bind(this)).then(n.bind(this)))},captureOtpData:function(e,t){this.$el.data("otptime");this.forgotFormData=t,this.otpTimer(t)},otpTimer:function(e,t){var n,o;e&&e.timer&&(e=parseInt(this.$el.data("otptime")),n=this.millisToMinutesAndSeconds(e),this.$el.find(".forgotPwd__OTP__form").find(".otp-form-elment").find(".otp-timer"),t&&clearTimeout(this.timerId),this.timerId=setInterval(function(){var e,t,i,a=o.find(".forgotPwd__OTP__form").find(".otp-form-elment").find(".otp-timer");-1==n?clearTimeout(this.timerId):(t=n.split(":"),e=parseInt(t[0],10),t=parseInt(t[1],10),(e=--t<0?--e:e)<0&&clearInterval(interval),i="("+e+":"+(t=(t=t<0?59:t)<10?"0"+t:t)+"s)",a.text(i),n=e+":"+t)},1e3),o=this.$el)},millisToMinutesAndSeconds:function(e){var t=Math.floor(e/6e4),e=(e%6e4/1e3).toFixed(0);return t+":"+(e<10?"0":"")+e},formValidation:function(t){var i=this,a=".forgotPwd__OTP__form",e=t.data("message-form");window.ITC.enableFormForValidation(t.find(a)),t.find(a).validate({submitHandler:i.submitForm.bind(i),rules:{forgotPwdOTP:{required:!0},forgotPwdSet:{required:!0,minlength:8,pwcheck:!0},forgotPwdConfirm:{required:!0,equalTo:"#forgotPwdSet"}},messages:{forgotPwdOTP:{required:e.forgotPwdOTP},forgotPwdSet:{required:e.forgotPwdSet,pwcheck:e.forgotPwdSet},forgotPwdConfirm:{required:e.forgotPwdConfirm}}}),t.find(".otp-reset").on("click",function(e){e.preventDefault(),t.find(a).validate().resetForm(),i.forgotPwdOTP.val(""),i.forgotPwdSet.val(""),i.forgotPwdConfirm.val("")})},analyticsCall:function(e){var t=[{layerType:"page",sublLayerType:"pageInfo",dataElement:"pageName",value:i(".analytics-hidden-element").data("page-name")}];pushEventToMulitpleDataLayer(t),analyticSSattelite(e)},configureApiHeaders:function(){return _objectSpread(_objectSpread({},this.apiAuthHeader),{"x-token-required":"N"})},submitForm:function(){var e=this,t=(this.loaderEl.show(),this.oicEndpoint+window.ITC.OIC_API_DETAILS.FORGOT_PASSWORD_API),i=this.$el.data("message-form"),a=(i&&i.apiSuccess&&i.apiSuccess,-1<this.memberContactEle.val().indexOf("@")),n=_objectSpread(_objectSpread(_objectSpread({},a&&{EmailAddress:this.memberContactEle.val().toLowerCase()}),!a&&{PhoneNumber:this.memberContactEle.val()}),{},{NewPassword:this.forgotPwdSet.val(),OTP:this.forgotPwdOTP.val(),Source:"WebSite"}),o=this.configureApiHeaders();getCookieDetail("member-details")&&JSON.parse(getCookieDetail("member-details"));function r(e){e&&"SUCCESS"==e.Result?(scrollToTop(),this.loaderEl.hide(),this.errorMsg.html("").addClass("hide"),this.$el.find(".forgotPwd__OTP__form").hide(),this.$el.find(".forgotPwd__OTP__successMsg").removeClass("hide"),this.$el.data("layerPageName")&&(pushEventToDataLayer("page","form","name",this.$el.data("layerPageName")),analyticSSattelite("Form_Submision")),this.analyticsCall("Forgot_Password_Success"),setTimeout(function(){document.dispatchEvent(logoutSuccessEvent({bubbles:!0,detail:{}}))},500)):e&&"FAULT"==e.Result&&(this.loaderEl.hide(),e=e.Response||i.defaultErr,this.errorMsg.html(e).removeClass("hide"),this.successMsg.html("").addClass("hide"),this.$el.data("layerPageName"))&&(e=[{layerType:"page",sublLayerType:"form",dataElement:"name",value:this.$el.data("layerPageName")},{layerType:"page",sublLayerType:"error",dataElement:"name",value:e}],pushEventToMulitpleDataLayer(e),analyticSSattelite("Form_Error_Tracking"))}function s(){this.loaderEl.hide(),this.errorMsg.html(i.serviceUnavailable).removeClass("hide"),this.successMsg.html("").addClass("hide")}this.isCryptoAvailable&&"true"===this.isOICSecurityEnabled?initRestAPIDataSecurityService(this.oicPubKey,function(){invokeRestAPIWithDataSecurity(t,"post",o,n,"application/json","json",function(){},function(){},r.bind(e),s.bind(e))}):(n.encrypt="none",l.post(t,n,!0).fail(s.bind(this)).then(r.bind(this)))}})})(window,window.jQuery),((e,s)=>{var i=e.GetService("contentService"),o=e.GetComponent("renderer"),l=[],d="";e.AddComponent("itcSelect",{init:function(e){this.$el=e;var a=this;this.searchText="",a.keyboardSearch(),e.on("shown.bs.dropdown",function(e){var t=this;setTimeout(function(){s(t).find(".dropdown-menu li.active a").focus()},300)}),e.on("hidden.bs.dropdown",function(e){a.searchText=""}),this.$el.data("itc-places")&&(this.countriesList=[],this.citiesList=[],this.statesList=[],this.countryCodeList=[],window.ITC.pubsub.subscribe("itc-palces",this.getPlacesData.bind(this)),this.getCountryStateCityData()),this.$el.data("itc-places-code")&&(this.loadCountryDialCode(),window.ITC.pubsub.subscribe("itc-country-code",this.getCountryCodeData.bind(this))),e.on("click",".dropdown-menu > li >  a",function(e){e.preventDefault();var e=s(this).data("value"),t=s(this).data("title")||"",i=s(this).closest(".itc-select");s(this).closest("ul").find("li").removeClass("active"),s(this).closest("li").addClass("active"),i.find(".itc-select__btn > span").html(s(this).text()),i.find(".itc-select__btn").val(e),""!=e?i.find(".itc-select__btn").addClass("itc-select__btn-not-empty"):i.find(".itc-select__btn").removeClass("itc-select__btn-not-empty"),i.find(".itc-select__visible-hidden").val(e).attr("data-title",t).trigger("keyup"),a.commonDropdown(e,t,this,i)}),s(".dropdown-menu").on("select2:select",function(e){e.preventDefault();var e=s(e.currentTarget),t=e.val(),e=e.text(),i=s(this).closest(".itc-select");a.commonDropdown(t,e,this,i)})},commonDropdown:function(e,t,i,a){var n,o=0<s(i).closest(".hms-country-state-city").length?".hms-country-state-city":0<s(this).closest(".hms-project-country-state-city").length?".hms-project-country-state-city":"form",r=this;s(i).closest(".dropdown-menu").hasClass("itc-select--country-menu")?(n=this.$el.data("states-cities"),d=e,"countryState"===n?"India"==d?(r.statesList=getCountryStateCity(l,d,n),r.renderStates(r.statesList,o),r.getDailcodeByCountryName(l,d)):(r.citiesList=getCountryStateCity(l,d,"countryCity"),r.renderCities(r.citiesList,o),".hms-project-country-state-city"!=o&&r.getDailcodeByCountryName(l,d)):(r.citiesList=getCountryStateCity(l,d,n),r.renderCities(r.citiesList,o),r.getDailcodeByCountryName(l,d))):s(i).closest(".dropdown-menu").hasClass("itc-select--state-menu")?(r.citiesList=getCountryStateCity(l,d,null,e),r.renderCities(r.citiesList,o)):a.find(".itc-select__visible-hidden").val(e).trigger("change")},keyboardSearch:function(){var i=this;i.$el.on("keypress",function(e){(47<e.which&&e.which<58||96<e.which&&e.which<123||32==e.which)&&(null==i.searchText?i.searchText=String.fromCharCode(e.which):i.searchText=i.searchText+String.fromCharCode(e.which))}),i.$el.on("keyup",debounce(function(e){var t="";(47<e.which&&e.which<58||64<e.keyCode&&e.keyCode<91)&&(null!=(t=null!=i.searchText&&""!=i.searchText?i.$el.find("a").filter(function(){return 0===s(this).text().toLowerCase().indexOf(i.searchText.toLowerCase())}).first():t)&&t.focus(),i.searchText="",i.selectedItem="")},300))},getPlacesData:function(e,t){if(this.$el.find(".itc-select--country-menu").data("templateId")){for(var i=0;i<t.length;i++){var a=(a=t[i].countryName).charAt(0).toUpperCase()+a.slice(1).toLowerCase();t[i].countryName=a}o.init(this.$el.find(".itc-select--country-menu"),{dataObject:t}),this.$el.find(".itc-select--country-menu").find("li a[data-value='India']").trigger("click")}},getCountryStateCityData:function(){var t=this,e=this.$el.data("itc-places");i.get(e).then(function(e){e&&(l=e,window.ITC.pubsub.publish("itc-places-full-details",e),t.countriesList=getCountryStateCity(e),t.countryCodeList=t.countriesList,window.ITC.pubsub.publish("itc-palces",t.countriesList))})},renderCities:function(e,t){for(var t=this.$el.closest(t).find(".itc-select--city-menu"),i=e,a=0;a<i.length;a++){var n=(n=i[a]).charAt(0).toUpperCase()+n.slice(1).toLowerCase();i[a]=n}t.data("templateId")&&(o.init(t,{dataObject:i}),t.find("li:first-child a").trigger("click"))},renderStates:function(e,t){t=this.$el.closest(t).find(".itc-select--state-menu");t.data("templateId")&&(o.init(t,{dataObject:e}),t.find("li:first-child a").trigger("click"))},getCountryCodeData:function(e,t){this.$el.find(".itc-select--country-code").data("templateId")&&(o.init(this.$el.find(".itc-select--country-code"),{dataObject:t}),this.$el.find(".itc-select--country-code").find("li a[data-value='+91']").trigger("click"))},loadCountryDialCode:function(){var e=this.$el.data("itc-places-code");i.get(e).then(function(e){e&&(e=getCountryDailCode(e),window.ITC.pubsub.publish("itc-country-code",e))})},getDailcodeByCountryName:function(e,t){e=getCountryDailCode(e,t);0<e.length?this.$el.closest("form").find(".itc-select--country-code").closest(".itc-select").find(".itc-select__btn").addClass("itc-select__btn-not-empty").find("span").text(e[0].countryCode):(t=this.$el.closest("form").find(".itc-select--country-code").find("li:first-child a").text(),this.$el.closest("form").find(".itc-select--country-code").closest(".itc-select").find(".itc-select__btn").removeClass("itc-select__btn-not-empty").find("span").text(t))}})})(window,window.jQuery),((e,t)=>{e.AddComponent("customFileInput",{init:function(e){e.find(".custom-file-input").on("change",function(){var e=t(this).val().split("\\").pop().replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;");t(this).siblings(".custom-file-label").addClass("selected").html(e)})}})})(window,window.jQuery),((e,i)=>{e.AddComponent("reCaptha",{init:function(t){var e=t.closest("form");e.find(":reset").on("click",function(){var e=t.closest(".recaptha-element").find(".hidden-element");e.val("").trigger("change"),grecaptcha&&grecaptcha.reset(i(e).attr("data-widgetid"))})}})})(window,window.jQuery),((e,a)=>{e.AddComponent("squareRadioButton",{init:function(t){var i=this;t.find(".squareRadioButton__btn-area button").each(function(e){a(this).on("click",function(){i.removeActiveSolution(t);var e=a(this).data("selection-value");t.find(".squareRadioButton__visible-hidden").val(e),t.find(".squareRadioButton__visible-hidden").trigger("keyup"),a(this).addClass("active")})})},removeActiveSolution:function(e){e.find(".squareRadioButton__btn-area button").each(function(e){a(this).removeClass("active")})}})})(window,window.jQuery),((e,l)=>{var i=e.GetService("contentService"),t=e.GetComponent("renderer");e.AddComponent("galleryContainer",{init:function(e){this.$el=e,this.galleryData=[],this.getUrlParams=getUrlParams(),this.brandFilterEle=e.find(".gallery-container__filters-brands"),this.brandFilterEleName="[name='galleryBrand']",this.hotelFilterEle=e.find(".gallery-container__filters-hotels"),this.hotelFilterEleName="[name='galleryHotel']",this.onload=!1,this.leftArrowBtn=e.find(".itc-tabs__left-arrow"),this.rightArrowBtn=e.find(".itc-tabs__right-arrow"),l(document).ready(function(){l(".tab-"+sessionStorage.getItem("gallery-tab")+" > button").trigger("click")});var t=this;this.leftArrowBtn.on("click",function(){var e=l(this).closest(".itc-tabs__item").attr("aria-posinset");t.moveTabPanel(Number(e)-1,e)}),this.rightArrowBtn.on("click",function(){var e=l(this).closest(".itc-tabs__item").attr("aria-posinset");t.moveTabPanel(Number(e)+1,e)}),this.bindEventToGalleryArrow(),this.brandFilterEle.length&&this.hotelFilterEle.length&&(this.bindEventToDropdown(),this.getFilterData())},getHotelPagePath:function(){var s=this;setTimeout(function(){for(var e=l(s.hotelFilterEle).find("#galleryDropdownHotel").val(),t=l(s.brandFilterEle).find("#galleryDropdownBrand").val(),i=0;i<s.galleryData.length;i++)if(t&&t==s.galleryData[i].value)for(var a=s.galleryData[i].value,n=s.galleryData[i].title,o=0;o<s.galleryData[i].totalList.length;o++)if(e&&e==s.galleryData[i].totalList[o].value){var r=s.galleryData[i].totalList[o].hotelPath;getBreadcrumbStructure(r,"Gallery",a,s.galleryData[i].totalList[o],n);break}},200)},moveTabPanel:function(e,t){var i=this.$el.find(".itc-tabs__slide .itc-tabs__item ");(e=e>i.length?1:e)<1&&(e=i.length);for(var a=0;a<i.length;a++)i.eq(a).hide(),l(document).find("#gallery-tab-panel-"+(a+1)).removeClass("is-current");i.eq(e-1).show(),l(document).find("#gallery-tab-panel-"+e).addClass("is-current")},bindEventToDropdown:function(){var t=this;this.$el.on("change",this.brandFilterEleName,function(){t.renderHotelList()}),this.$el.on("change",this.hotelFilterEleName,function(){var e=l(t.brandFilterEleName).val();t.onload||(e=window.location.origin+window.location.pathname+"?brand="+e+"&hotel="+l(this).val(),window.open(e,"_self"))})},bindEventToGalleryArrow:function(){var t=this;l(document).keydown(function(e){e=e.keyCode||e.which;37==e&&t.moveSlides(!0),39==e&&t.moveSlides()})},moveSlides:function(e){window.ITC.pubsub.publish("itc-gallery-move-slides",e?{prev:!0}:{next:!0})},getFilterData:function(){var t=this,e=this.$el.data("gallery-url")||"/";i.get(e).then(function(e){e&&e.gallery&&(t.onload=!0,t.galleryData=e.gallery,t.renderBrandlist(!0),t.renderHotelList(),t.getHotelPagePath())})},captureAnalytics:function(){for(var e=0;e<this.galleryData.length;e++)if(this.getUrlParams.brand==this.galleryData[e].value){this.galleryData[e].totalList;break}},renderBrandlist:function(e){this.brandFilterEle.data("templateId")&&(t.init(this.brandFilterEle,{result:this.galleryData}),setTimeout(function(){this.getUrlParams&&this.getUrlParams.brand&&this.onload&&this.brandFilterEle.find("a[data-value='"+this.getUrlParams.brand+"']").trigger("click")}.bind(this),200))},renderHotelList:function(){var i=l(this.brandFilterEleName).val(),e=this.galleryData.filter(function(e){var t=!1;return t=e.value?e.value==i:t});this.hotelFilterEle.data("templateId")&&(t.init(this.hotelFilterEle,{result:e.length?e[0].totalList:[]}),setTimeout(function(){this.getUrlParams&&this.getUrlParams.hotel&&this.onload?(this.hotelFilterEle.find("a[data-value='"+this.getUrlParams.hotel+"']").trigger("click"),this.onload=!1):this.getUrlParams||(this.onload=!1)}.bind(this),200))}})})(window,window.jQuery),((e,s)=>{e.GetService("contentService"),e.AddComponent("gallery",{init:function(e){this.$el=e,this.slideIndex=1,this.modalEle=e.find(".itc-gallery__modal"),this.slidMap=new Map,this.showSlides(this.slideIndex,this.slidMap,!1),this.initClickForGallery(e),this.bindClickToSocial(),this.xDown=null,this.yDown=null,window.ITC.pubsub.subscribe("itc-gallery-move-slides",this.moveSlide.bind(this))},initClickForGallery:function(e){var i=this;e.find(".itc-gallery__click").on("click",function(){var e,t;"#"==s(this).attr("href")&&(e=s(this).data("img-index"),t=new Map,i.currentSlide(e,t,!0))}),e.find(".itc-gallery__modal-close").on("click",function(){e.find(".itc-gallery__modal").hide().attr("aria-hidden","true").removeClass("show")}),e.find(".itc-gallery__img-area").on("touchstart",function(e){i.handleTouchStart(e)}),e.find(".itc-gallery__img-area").on("touchmove",function(e){i.handleTouchMove(e)}),e.find(".itc-gallery__modal-prev").on("click",function(){i.prevSlide()}),e.find(".itc-gallery__modal-next").on("click",function(){i.nextSlide()}),e.find(".itc-gallery__left-arrow").on("click",function(){i.prevTab()}),e.find(".itc-gallery__right-arrow").on("click",function(){i.nextTab()}),i.modalEle.on("hide.bs.modal",function(){})},handleTouchStart:function(e){e=e.touches||e.originalEvent.touches;this.xDown=e[0].clientX,this.yDown=e[0].clientY},handleTouchMove:function(e){var t,i=this;i.xDown&&i.yDown&&(t=e.touches[0].clientX,e=e.touches[0].clientY,t=i.xDown-t,e=i.yDown-e,Math.abs(t)>Math.abs(e)&&(0<t?i.nextSlide():i.prevSlide()),i.xDown=null,i.yDown=null)},currentSlide:function(e,t,i){this.showSlides(this.slideIndex=e,this.slidMap=t,i)},moveSlide:function(e,t){if(!this.modalEle.hasClass("show"))return!1;t.prev?this.prevSlide():t.next&&this.nextSlide()},prevSlide:function(){this.showSlides(this.slideIndex=Number(localStorage.getItem("slideIndex"))-1,this.slidMap,!0)},nextSlide:function(){this.showSlides(this.slideIndex=Number(localStorage.getItem("slideIndex"))+1,this.slidMap,!0)},prevTab:function(){var e=this.$el.closest(".itc-tabs__panels").find(".is-current"),e=s(e).data("tab-position");this.showTabs(--e,this.slidMap)},nextTab:function(){var e=this.$el.closest(".itc-tabs__panels").find(".is-current"),e=s(e).data("tab-position");this.showTabs(e+=1,this.slidMap)},showTabs:function(e,t){var i=this.$el.closest(".itc-tabs__panels").children().length,t=this.getSlideMap(t,i);this.pauseAllVideos(),0<t.size&&(e=i<e?1:e)<1&&(e=i),this.slideIndex=1,this.openSlides(t,i,e,!0)},showSlides:function(e,t,i){var a=this.$el.closest(".itc-tabs__panels").children().length,n=this.$el.closest(".itc-tabs__panel").data("tab-position");this.$el.closest("#gallery-tab-panel-"+n);t=this.getSlideMap(t,a),this.pauseAllVideos(),0<t.size&&(e>t.get(n).get("slides").length&&(this.slideIndex=1,a<=n?n=1:n++),e<1)&&(n<=1?n=a:n--,this.slideIndex=t.get(n).get("slides").length),this.openSlides(t,a,n,i)},getSlideMap:function(e,t){if(0===e.size)for(var i=1;i<=t;i++){var a=this.$el.closest(".itc-tabs__panels").find("#gallery-tab-panel-"+i);e.set(i,new Map([["slides",s(a).find(".itc-gallery__slides")],["dots",s(a).find(".itc-gallery__click-img")],["captionTextEl",s(a).find(".itc-gallery__curr-text")],["captionPointerEle",s(a).find(".itc-gallery__curr-number")],["socialShareEle",s(a).find(".itc-gallery__social .social-handles__social-icon > a")],["downloadEle",s(a).find(".itc-gallery__download .itc-gallery__curr-link")],["mediaShareUrl",""],["mediaShareUrl",""],["mediaShareUrl",""]]))}return e},openSlides:function(e,t,i,a){var n=s(document).find("[aria-controls=gallery-tab-panel-"+i+"]").text();this.$el.closest("#gallery-tab-panel-"+i).find(".modal-tab-name").html(n);for(var o=1;o<=t;o++)if(0<e.size){for(var r=0;r<e.get(o).get("slides").length;r++)e.get(o).get("slides").eq(r).hide();for(r=0;r<e.get(o).get("dots").length;r++)e.get(o).get("slides").eq(r).removeClass("active"),e.get(o).get("dots").eq(r).removeClass("active")}for(o=1;o<=t;o++)0<e.size&&1==a&&(e.get(o).get("slides").closest(".itc-gallery__modal").hide().attr("aria-hidden","true").removeClass("show"),e.get(o).get("slides").closest(".itc-tabs__panel").attr("aria-hidden","true").removeClass("is-current"),s(document).find("[aria-controls=gallery-tab-panel-"+o+"]").closest(".itc-tabs__nav-item").removeClass("is-active"),s(document).find("[aria-labelledby=gallery-tab-panel-"+o+"]").hide());1==a&&(e.get(i).get("slides").closest(".itc-gallery__modal").addClass("show").show().attr("aria-hidden","false"),e.get(i).get("slides").closest(".itc-tabs__panel").attr("aria-hidden","false").addClass("is-current"),s(document).find("[aria-controls=gallery-tab-panel-"+i+"]").closest(".itc-tabs__nav-item").addClass("is-active"),s(document).find("[aria-labelledby=gallery-tab-panel-"+i+"]").show()),e.get(i).get("slides").eq(this.slideIndex-1).addClass("active").show(),e.get(i).get("dots").eq(this.slideIndex-1).addClass("active"),e.get(i).set("mediaShareUrl",e.get(i).get("slides").eq(this.slideIndex-1).find("img, video source").attr("src")),e.get(i).set("captionText",e.get(i).get("dots").eq(this.slideIndex-1).closest(".itc-gallery__click").find(".itc-gallery__desc").text()),e.get(i).set("captionPointer",e.get(i).get("dots").eq(this.slideIndex-1).closest(".itc-gallery__click").find(".itc-gallery__numbertext").text()),e.get(i).get("captionTextEl").html(e.get(i).get("captionText")),e.get(i).get("captionPointerEle").html(e.get(i).get("captionPointer")),e.get(i).get("downloadEle").attr("href",e.get(i).get("mediaShareUrl")),localStorage.setItem("slideIndex",this.slideIndex)},bindClickToSocial:function(){var n=this;this.$el.find(".itc-gallery__social .social-handles__social-icon > button").on("click",function(e){e.preventDefault(),e.stopPropagation();var e=s(this).data("href"),t=n.$el.find(".itc-gallery__slides.active").find("img, video source").attr("src"),i=n.$el.find(".itc-gallery__curr-text").text(),a=s(this).data("target"),e=e.replace("{text}",i).replace("{imgUrl}",location.origin+t);window.open(e,a)})},onOverlayHide:function(e){var t=this;this.modalEle.on("hide.bs.modal",function(){t.pauseAllVideos()})},hideOverlayClickOut:function(a){s(document).on("click",function(e){var t=s(e.target).attr("class"),t=!!t&&-1<t.indexOf(a),e=0<s(e.target).closest("."+a).length,i=s("."+a);t||e||!i.length||i.modal("hide")})},pauseAllVideos:function(){this.$el.find("video").each(function(){this.pause()})}})})(window,window.jQuery),(e=>{e.AddComponent("gdprComp",{init:function(t){var e=getCookieDetail("gdprData");(e&&0==e.length||""==e)&&t.removeClass("hide"),t.find(".itc-gdpr__close-btn").on("click",function(){t.addClass("hide")}),t.find(".itc-gdpr__agree-btn").on("click",function(e){e.preventDefault();setCookieDetail("gdprData",'{"isUser": true}',2592e6),t.addClass("hide")})}})})(window,window.jQuery),((e,r,t)=>{e.GetService("contentService");var s=null==(t=JSON.parse(null==(t=document.querySelector("#root"))||null==(t=t.dataset)?void 0:t.pks))?void 0:t.csepk,l=null==t?void 0:t.oicpk,d=null==t?void 0:t.oicEndPoint,c=""!==l?"true":"false",h=window.crypto||window.msCrypto;e.AddComponent("genericLeadForm",{init:function(n){var o=this;return _asyncToGenerator(_regenerator().m(function e(){var t,i,a;return _regenerator().w(function(e){for(;;)switch(e.n){case 0:return o.$el=n,o.genericSalutation=n.find("[name='genericSalutation']"),o.genericFirstName=n.find("[name='genericFirstName']"),o.genericLastName=n.find("[name='genericLastName']"),o.genericCCode=n.find("#dropdowngenericCCode"),o.genericMobile=n.find("[name='genericMobile']"),o.genericEmail=n.find("[name='genericEmail']"),o.genericCountry=n.find("[name='genericCountry']"),o.genericCity=n.find("[name='genericCity']"),o.genericRecaptha=o.$el.find("#genericRecaptha"),o.genericCheckbox=o.$el.find("#genericCheckbox"),o.genericCustomeField1=o.$el.find("#genericCustomeField1"),o.genericCustomeField2=o.$el.find("#genericCustomeField2"),o.genericCustomeField3=o.$el.find("#genericCustomeField3"),o.genericCustomDDField1=n.find("[name='genericCustomDDField1']"),o.genericCustomDDField2=n.find("[name='genericCustomDDField2']"),o.genericCustomDDField3=n.find("[name='genericCustomDDField3']"),o.formContainer=n.find(".generic-lead-form__container"),o.pageTitle=r("#hiddenPageTitle").text(),o.formMsg=o.$el.data("message-form"),o.loader=n.find(".generic-lead-form__loader"),o.errplaceholder=n.find(".generic-lead-form__backend-error .itc-textfield__label-error"),o.successMsg=n.find(".generic-lead-form__backend-success"),o.mailTemplatePath=o.$el.data("mail-template-path"),o.modValidationFlag1=o.$el.find("#genericCustomeField1").data("mod-validation"),o.descriptionFlag1=!0,o.modValidationFlag2=o.$el.find("#genericCustomeField2").data("mod-validation"),o.descriptionFlag2=!0,o.modValidationFlag3=o.$el.find("#genericCustomeField3").data("mod-validation"),o.descriptionFlag3=!0,t=!1,i=getUserCookie(),!0===o.modValidationFlag1&&(o.descriptionFlag1=!1),!0===o.modValidationFlag2&&(o.descriptionFlag2=!1),!0===o.modValidationFlag3&&(o.descriptionFlag3=!1),r("form").get(0).reset(),n.find(".itc-select--country-menu").find("li a[data-value='India']").trigger("click"),o.formValidation(n),a=r(".form-generic-options").find("button.dropdown-toggle").siblings(".dropdown-menu"),select2DropdownMenu(a,!0,"India",""),i&&i.member_number&&o.getData(i),r(".oninput-event").on("input click focus tap",function(e){t||(pushEventToDataLayer("page","form","name",this.pageTitle),analyticSSattelite("Form_Start")),t=!0}),e.n=1,getAuthorizationHeader(s,h);case 1:o.apiAuthHeader=e.v;case 2:return e.a(2)}},e)}))()},getData:function(e){this.$el.find("#genericFirstName").val(e.member_firstname),this.$el.find("#genericLastName").val(e.member_lastname),this.$el.find("#genericEmail").val(e.email_address),this.$el.find("#genericMobile").val(e.mobile_number)},formValidation:function(e){var t=this,i=".form-generic-options";window.ITC.enableFormForValidation(e.find(i)),e.find(i).validate({focusInvalid:!1,invalidHandler:function(e,t){t.numberOfInvalids()&&r("html, body").animate({scrollTop:r(t.errorList[0].element).offset().top-150},200)},submitHandler:t.submitForm.bind(t),rules:{genericSalutation:{required:!0},genericFirstName:{required:!0,personName:!0},genericLastName:{required:!0,personName:!0},genericCCode:{required:!1},genericCountry:{required:!0},genericRecaptha:{required:!0},genericCheckbox:{required:!0},genericCity:{required:!0},genericMobile:{required:{depends:function(){return"+91"==e.find("#dropdowngenericCCode span").text()}},indianMobile:{depends:function(){return"+91"==e.find("#dropdowngenericCCode span").text()}}},genericEmail:{required:!0,email:!0},genericCustomeField1:{required:t.formMsg.genericCustomeField1Required,description:t.descriptionFlag1,modSevenCheck:t.modValidationFlag1},genericCustomeField2:{required:t.formMsg.genericCustomeField2Required,description:t.descriptionFlag2,modSevenCheck:t.modValidationFlag2},genericCustomeField3:{required:t.formMsg.genericCustomeField3Required,description:t.descriptionFlag3,modSevenCheck:t.modValidationFlag3},genericCustomDDField1:{required:t.formMsg.genericCustomeField1Required},genericCustomDDField2:{required:t.formMsg.genericCustomeField2Required},genericCustomDDField3:{required:t.formMsg.genericCustomeField3Required}},messages:{genericSalutation:{required:t.formMsg.genericSalutation},genericFirstName:{required:t.formMsg.genericFirstName,personName:t.formMsg.genericFirstNameExpressionValidation},genericLastName:{required:t.formMsg.genericLastName,personName:t.formMsg.genericLastNameExpressionValidation},genericCCode:{required:t.formMsg.genericCCode},genericCountry:{required:t.formMsg.genericCountry},genericCity:{required:t.formMsg.genericCity},genericMobile:{required:t.formMsg.genericMobile,indianMobile:t.formMsg.genericPhone},genericEmail:{required:t.formMsg.genericEmail,email:t.formMsg.genericValidEmail},genericRecaptha:{required:t.formMsg.genericRecaptha},genericCheckbox:{required:t.formMsg.genericCheckbox},genericCustomeField1:{required:t.formMsg.genericCustomeField1,description:t.formMsg.genericInvalidCustomField1,modSevenCheck:t.formMsg.genericInvalidCustomField1},genericCustomeField2:{required:t.formMsg.genericCustomeField2,description:t.formMsg.genericInvalidCustomField2,modSevenCheck:t.formMsg.genericInvalidCustomField2},genericCustomeField3:{required:t.formMsg.genericCustomeField3,description:t.formMsg.genericInvalidCustomField3,modSevenCheck:t.formMsg.genericInvalidCustomField3},genericCustomDDField1:{required:t.formMsg.genericCustomDDField1},genericCustomDDField2:{required:t.formMsg.genericCustomDDField2},genericCustomDDField3:{required:t.formMsg.genericCustomDDField3}}}),e.find(".generic-reset").on("click",function(){e.find(".form-generic-options").validate().resetForm(),e.find(".itc-select").find("#dropdowngenericCCode").next(".dropdown-menu").find("li:first-child a").click(),r(".form-generic-options").find("button.dropdown-toggle").siblings(".dropdown-menu").val("").trigger("change"),e.find(".select2-selection__arrow").removeClass("hide")})},configureApiHeaders:function(){return _objectSpread({},this.apiAuthHeader)},submitForm:function(){var e=this,t=d+window.ITC.OIC_API_DETAILS.LEAD_REQUEST_API,i=this.configureApiHeaders(),a=this.formMsg&&this.formMsg.defaultSuccessMsg?this.formMsg.defaultSuccessMsg:"",n=this.formMsg&this.formMsg.defaultErr?this.formMsg.defaultErr:"",o={Name:"Generic Lead Form",LeadType_c:this.formMsg.genericLeadType,PrimaryContactPersonFirstName:this.genericFirstName.val(),PrimaryContactPersonLastName:this.genericLastName.val(),PrimaryContactCountry:this.genericCountry.val(),PrimaryContactCity:this.genericCity.val(),PrimaryPhoneNumber:this.genericMobile.val(),PrimaryContactEmailAddress:this.genericEmail.val(),SBEnquiryFor_c:(0<this.genericCustomeField1.length?this.genericCustomeField1:this.genericCustomDDField1).val(),SBQuantity_c:(0<this.genericCustomeField2.length?this.genericCustomeField2:this.genericCustomDDField2).val(),Description:(0<this.genericCustomeField3.length?this.genericCustomeField3:this.genericCustomDDField3).val(),Roomrequired_c:"N",ChannelType:window.ITC.OIC_API_DETAILS.LEAD_SOURCE_INFO};this.loader.removeClass("hide"),getLoaderScrollTop(this.loader),h&&"true"==c&&initRestAPIDataSecurityService(l,function(){invokeRestAPIWithDataSecurity(t,"post",i,o,"application/json","json",function(){},function(){this.loader.addClass("hide")}.bind(e),function(e){e&&"SUCCESS"===e.Result?(e=e.Response.split(":").at(1),e=a.replace("${leadRequestNumber}",e),this.formContainer.hide(),this.successMsg.removeClass("hide").html(e),scrollToTop(),pushEventToDataLayer("page","form","name",this.pageTitle),analyticSSattelite("Form_Submision")):(this.errplaceholder.html(n).show(),getScrollDownToErrorMsg(this.errplaceholder),e=[{layerType:"page",sublLayerType:"form",dataElement:"name",value:this.pageTitle},{layerType:"page",sublLayerType:"error",dataElement:"name",value:n}],pushEventToMulitpleDataLayer(e),analyticSSattelite("Form_Error_Tracking")),this.loader.addClass("hide")}.bind(e),function(e){this.errplaceholder.html(n).show(),getScrollDownToErrorMsg(this.errplaceholder),this.loader.addClass("hide");var t=[{layerType:"page",sublLayerType:"form",dataElement:"name",value:this.pageTitle},{layerType:"page",sublLayerType:"error",dataElement:"name",value:this.formMsg.defaultErr}];pushEventToMulitpleDataLayer(t),analyticSSattelite("Form_Error_Tracking")}.bind(e))})},verifyCaptcha:function(){document.getElementById("g-recaptcha-error").innerHTML=""}})})(window,window.jQuery),((e,a,t)=>{var o=e.GetService("contentService"),r=null==(t=JSON.parse(null==(t=document.querySelector("#root"))||null==(t=t.dataset)?void 0:t.pks))?void 0:t.csepk,s=""!==r?"true":"false",l=window.crypto||window.msCrypto;e.AddComponent("giftingOptionsForm",{init:function(e){this.$el=e,this.giftingTypeOfVoucher=e.find("[name='giftingTypeOfVoucher']"),this.giftingRemarks=e.find("[name='giftingRemarks']"),this.giftingName=e.find("[name='giftingName']"),this.giftingTotalNoOfVouchers=e.find("[name='giftingTotalNoOfVouchers']"),this.giftingCCode=e.find("#dropdowngiftingCCode"),this.giftingMobile=e.find("[name='giftingMobile']"),this.giftingEmail=e.find("[name='giftingEmail']"),this.giftingCountry=e.find("[name='giftingCountry']"),this.giftingRecaptha=this.$el.find("#giftingRecaptha"),this.tncCheckbox=this.$el.find("#tncCheckbox"),this.errplaceholder=e.find(".gifting-options-form__backend-error .itc-textfield__label-error"),this.successMsg=e.find(".gifting-options-form__backend-success"),this.formContainer=e.find(".gifting-options-form__container"),this.formMsg=this.$el.data("message-form"),this.loader=e.find(".gifting-options-form__loader"),this.fillData="";var t=!1,i=getUserCookie(),e=(a("form").get(0).reset(),e.find(".itc-select--country-menu").find("li a[data-value='India']").trigger("click"),this.formValidation(e),a(".oninput-event").on("input click focus tap",function(e){t||(pushEventToDataLayer("page","form","name","gifting-options-form"),analyticSSattelite("Form_Start")),t=!0}),a(".form-gifting-options").find("button.dropdown-toggle").siblings(".dropdown-menu"));select2DropdownMenu(e,!0,"India",""),i&&i.member_number&&this.getData(i)},getData:function(e){this.$el.find("#giftingName").val(e.member_firstname+" "+e.member_lastname),this.$el.find("#giftingEmail").val(e.email_address),this.$el.find("#giftingMobile").val(e.mobile_number)},formValidation:function(e){var t=this,i=".form-gifting-options";window.ITC.enableFormForValidation(e.find(i)),e.find(i).validate({focusInvalid:!1,invalidHandler:function(e,t){t.numberOfInvalids()&&a("html, body").animate({scrollTop:a(t.errorList[0].element).offset().top-150},200)},submitHandler:t.submitForm.bind(t),rules:{giftingTypeOfVoucher:{required:!0},giftingRemarks:{required:!0,description:!0},giftingTotalNoOfVouchers:{required:!0},giftingName:{required:!0,personName:!0},giftingCCode:{required:!1},giftingCountry:{required:!0},giftingRecaptha:{required:!0},tncCheckbox:{required:!0},giftingMobile:{required:{depends:function(){return"+91"==e.find("#dropdowngiftingCCode span").text()}},indianMobile:{depends:function(){return"+91"==e.find("#dropdowngiftingCCode span").text()}}},giftingEmail:{required:!0,email:!0}},messages:{giftingTypeOfVoucher:{required:t.formMsg.giftingTypeOfVoucher},giftingRemarks:{required:t.formMsg.giftingRemarks,description:t.formMsg.giftingValidRemarks},giftingName:{required:t.formMsg.giftingName,personName:t.formMsg.giftingNameExpressionValidation},giftingTotalNoOfVouchers:{required:t.formMsg.giftingTotalNoOfVouchers},giftingCCode:{required:t.formMsg.giftingCCode},giftingCountry:{required:t.formMsg.giftingCountry},giftingMobile:{required:t.formMsg.giftingMobile,indianMobile:t.formMsg.giftingPhone},giftingEmail:{required:t.formMsg.giftingEmail,email:t.formMsg.giftingValidEmail},tncCheckbox:{required:t.formMsg.tncCheckbox},giftingRecaptha:{required:t.formMsg.giftingRecaptha}}}),e.find(".gifting-reset").on("click",function(){e.find(".form-gifting-options").validate().resetForm(),e.find(".itc-select").find("#dropdowngiftingCCode").next(".dropdown-menu").find("li:first-child a").click(),a(".form-gifting-options").find("button.dropdown-toggle").siblings(".dropdown-menu").val("").trigger("change"),e.find(".select2-selection__arrow").removeClass("hide")})},submitForm:function(){var e,t=this,i=this.$el.data("url")||"/";function a(e){e&&e.submitted?(this.formContainer.hide(),this.successMsg.removeClass("hide").html(this.formMsg.defaultSuccessMsg),scrollToTop(),pushEventToDataLayer("page","form","name","gifting-options-form"),analyticSSattelite("Form_Submision")):(this.errplaceholder.html(this.formMsg.defaultErr).show(),getScrollDownToErrorMsg(this.errplaceholder),e=[{layerType:"page",sublLayerType:"form",dataElement:"name",value:"gifting-options-form"},{layerType:"page",sublLayerType:"error",dataElement:"name",value:this.formMsg.defaultErr}],pushEventToMulitpleDataLayer(e),analyticSSattelite("Form_Error_Tracking")),this.loader.addClass("hide")}function n(e){this.errplaceholder.html(this.formMsg.defaultErr).show(),getScrollDownToErrorMsg(this.errplaceholder),this.loader.addClass("hide");var t=[{layerType:"page",sublLayerType:"form",dataElement:"name",value:"gifting-options-form"},{layerType:"page",sublLayerType:"error",dataElement:"name",value:this.formMsg.defaultErr}];pushEventToMulitpleDataLayer(t),analyticSSattelite("Form_Error_Tracking")}e={templateType:"gifting",typeofvoucher:this.giftingTypeOfVoucher.val(),remarks:this.giftingRemarks.val(),name:this.giftingName.val(),country:this.giftingCountry.val(),giftingTotalNoOfVouchers:this.giftingTotalNoOfVouchers.val(),countryCode:this.giftingCCode.find("span").text(),mobile:this.giftingMobile.val(),email:this.giftingEmail.val(),tncCheckbox:this.tncCheckbox.prop("checked"),reCaptha:this.giftingRecaptha.prop("checked")},this.loader.removeClass("hide"),getLoaderScrollTop(this.loader),l&&"true"==s?initRestAPIDataSecurityService(r,function(){invokeRestAPIWithDataSecurity(i,"post","",e,"application/json","json",function(){},function(){},a.bind(t),n.bind(t))}):(e.encrypt="none",o.post(i,e,!0).fail(n.bind(this)).then(a.bind(this)))},verifyCaptcha:function(){document.getElementById("g-recaptcha-error").innerHTML=""}})})(window,window.jQuery),((e,l)=>{var r,t=e.GetService("contentService"),s=e.GetComponent("renderer"),d=[],c=[],h=[],o=[],u=[],m=[];e.AddComponent("globalFilters",{init:function(e){var t=this,i=(this.$el=e).data("sticky-start-position"),a=(window.addEventListener("scroll",debounce(function(){t.scrollView(e,parseInt(i))},200)),this.getFilterData(e),this.onMainFilterChange(),this.onMainFilterChangeMobile(),this.onSubFilterChange(),this.applySubFilters(),this.resetSubFilters(),this.resetAllFilters(),this.closeSubFilters(),this.switchMapView(),this.switchGridView(),this.switchListView(),this.removeSelectedFilter(),this.initSubfiltersDropdown(),window.ITC.pubsub.subscribe("offerCount",this.getOfferCount.bind(this)),e.find(".dropdown-menu").parent());stopClosingBS4Dropdown(a)},initSubfiltersDropdown:function(){this.$el.find("#global-sub-filters").on("show.bs.dropdown",function(){l("body").toggleClass("overflow-hidden")}),this.$el.find("#global-sub-filters").on("hide.bs.dropdown",function(){l("body").removeClass("overflow-hidden")})},getOfferCount:function(e,t){this.$el.find(".global-filters__total-results-count").text(t)},switchMapView:function(){this.$el.find(".global-filters__map-btn").on("click",function(e){e.preventDefault(),l(".global-filters__map-btn").removeClass("in-act"),l(".global-filters__grid-btn").addClass("in-act"),window.scrollTo({top:0}),window.ITC.pubsub.publish("view","mapView")})},switchGridView:function(){this.$el.find(".global-filters__grid-btn").on("click",function(e){e.preventDefault(),l(".global-filters__grid-btn").removeClass("in-act"),l(".global-filters__map-btn").addClass("in-act"),l(".global-filters__list-btn").addClass("in-act"),window.scrollTo({top:0}),window.ITC.pubsub.publish("view","gridView")})},switchListView:function(){this.$el.find(".global-filters__list-btn").on("click",function(e){e.preventDefault(),l(".global-filters__list-btn").removeClass("in-act"),l(".global-filters__grid-btn").addClass("in-act"),window.scrollTo({top:0}),window.ITC.pubsub.publish("view","listView")})},applySubFilters:function(){var i,a=this;this.$el.find(".global-filters__apply-btn").on("click",function(e){e.preventDefault(),h=JSON.parse(JSON.stringify(c)),i=a.mergeArrays(m,h),a.filterData();var t=0;h.forEach(function(e){t+=e[Object.keys(e)[0]].length}),l(".global-filters__bubble").text(t),s.init(a.$el.find(".global-filters__selected"),{subFiltersApplied:i}),a.updateSubFilterSelection(),l(this).closest("#global-sub-filters").find(".global-filters__filter-btn").trigger("click")})},mergeArrays:function(){for(var i=[],e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.forEach(function(e){i=[].concat(_toConsumableArray(i),_toConsumableArray(e))}),i.filter(function(e,t){return i.indexOf(e)===t})},resetSubFilters:function(){var t=this;this.$el.find(".global-filters__reset-btn").on("click",function(e){e.preventDefault(),h=[],c=[],t.filterData(),l(".global-filters__bubble").text("0"),s.init(t.$el.find(".global-filters__selected"),{subFiltersApplied:[].concat(_toConsumableArray(m),_toConsumableArray(h))}),t.updateSubFilterSelection()})},resetAllFilters:function(){var t=this;this.$el.find(".global-filters__user-reset").on("click",function(e){e.preventDefault(),h=[],c=[],d=[],m=[],t.filterData(!0),l(".global-filters__bubble").text("0"),s.init(t.$el.find(".global-filters__selected"),{subFiltersApplied:h}),t.updateSubFilterSelection()})},closeSubFilters:function(){var t=this;this.$el.find(".global-filters__close-btn").on("click",function(e){e.preventDefault(),c=JSON.parse(JSON.stringify(h)),t.updateSubFilterSelection(),l(this).closest("#global-sub-filters").find(".global-filters__filter-btn").trigger("click")})},updateSubFilterSelection:function(){0==h.length?o.forEach(function(e){e.filterValues.forEach(function(e){l('input[name="'+e.value+'"]')[0].checked=!1})}):o.forEach(function(t){var i=!1;h.forEach(function(e){Object.keys(e)[0]==t.filterName.value&&(i=!0,t.filterValues.forEach(function(t){var i=!1;e[Object.keys(e)[0]].forEach(function(e){e.value==t.value&&(i=!0,l('input[name="'+t.value+'"]')[0].checked=!0)}),i||(l('input[name="'+t.value+'"]')[0].checked=!1)}))}),i||t.filterValues.forEach(function(e){l('input[name="'+e.value+'"]')[0].checked=!1})})},removeSelectedFilter:function(){var a=this;this.$el.on("click",".global-filters__selected-remove-btn",function(e){e.preventDefault();var t=this.parentElement.dataset.keyName,e=this.parentElement.dataset.keyValue,i=(a.mainFilters.filter(function(e){return e.filterName===t}).length?(a.removeItemFromArray(m,t,e),a.filterData(!1,t)):(a.removeItemFromArray(h,t,e),c=JSON.parse(JSON.stringify(h)),a.filterData()),0);h.forEach(function(e){i+=e[Object.keys(e)[0]].length}),l(".global-filters__bubble").text(i),s.init(a.$el.find(".global-filters__selected"),{subFiltersApplied:[].concat(_toConsumableArray(m),_toConsumableArray(h))}),a.updateSubFilterSelection()})},removeItemFromArray:function(a,n,o){var r;a.forEach(function(e,t){if(e.hasOwnProperty(n)){r=t;for(var i=0;i<a[r][n].length;i++)a[r][n][i].value==o&&a[r][n].splice(i,1);0==a[r][n].length&&a.splice(r,1)}})},onSubFilterChange:function(){this.$el.on("change",".global-filters__sub-input",function(e){e.preventDefault();var i=!1,a=-1,n=this.parentElement.parentElement.parentElement.dataset.name,t=(c.forEach(function(e,t){e.hasOwnProperty(n)&&(i=!0,a=t)}),this.value.replace("/","")),e=l(this).closest("label").text().replace(/\n/g,"").trim();if(i){for(var o=!1,r=0;r<c[a][n].length;r++)c[a][n][r].value==t&&(c[a][n].splice(r,1),o=!0);0==c[a][n].length&&c.splice(a,1),o||c[a][n].push({title:e,value:t})}else{var s=_defineProperty({},n,[]);s[n].push({title:e,value:t}),c.push(s)}})},onMainFilterChange:function(){var t=this;this.$el.on("change",".global-filters__dropdown",function(e){e.preventDefault(),t.primaryFilterSelection(this)})},onMainFilterChangeMobile:function(){var t=this;this.$el.on("change",".global-filters__dropdown-mobile",function(e){e.preventDefault(),t.primaryFilterSelection(this),t.filterData()})},primaryFilterSelection:function(i){var a,n=!1,o=-1,e="",e=(i.classList.contains("global-filters__dropdown-mobile")?l(".global-filters__dropdown-mobile[name=".concat(i.name,"] :selected")):l(".global-filters__dropdown[name=".concat(i.name,"] :selected"))).text();d.forEach(function(e,t){e.hasOwnProperty(i.name)&&(n=!0,o=t)}),n?(d[o][i.name]=i.value,d[o][i.name]?m.push(_defineProperty({},i.name,[{title:e,value:i.value}])):(a=-1,m.forEach(function(e,t){e.hasOwnProperty(i.name)&&(a=t)}),-1<a&&m.splice(a,1))):(d.push(_defineProperty({},i.name,i.value)),m.push(_defineProperty({},i.name,[{title:e,value:i.value}]))),s.init(this.$el.find(".global-filters__selected"),{subFiltersApplied:[].concat(_toConsumableArray(m),_toConsumableArray(h))}),this.filterData()},filterData:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,i=JSON.parse(JSON.stringify(r)),i=this.mainFiltering(i),i=0<c.length?this.subFiltering(i):i,a=this.initMainFilters(i);this.mainFilters=a,e&&l.each(a,function(e,t){a[e].filterValues.map(function(e){return e.selected&&delete e.selected,e})}),this.initSubFilters(i),this.$el.find(".global-filters__total-results-count").text(i.totalList.length),window.ITC.pubsub.publish(i.listingType,i),s.init(this.$el.find(".itc-global-filters__main"),{mainFilters:a}),s.init(this.$el.find(".global-filters__main-mobile"),{mainFilters:a}),s.init(this.$el.find(".itc-global-filters__sub"),{subFilters:o}),this.updateMainFilterDropdown(d),this.updateSubFilterSelection(),t&&((e=l(".global-filters__dropdown[name=".concat(t,"]"))).val(""),e.trigger("change")),m.length||h.length?this.$el.find(".global-filters__user-reset").removeAttr("disabled"):this.$el.find(".global-filters__user-reset").attr("disabled","disabled")},mainFiltering:function(e){return JSON.parse(JSON.stringify(d)).forEach(function(i){""!=i[Object.keys(i)[0]]&&0<e.totalList.length&&!Object.keys(i)[0].includes("utm_")&&(Array.isArray(e.totalList[0][Object.keys(i)[0]])?e.totalList=e.totalList.filter(function(e){var t=!1;return e[Object.keys(i)].forEach(function(e){e.value==i[Object.keys(i)[0]]&&(t=!0)}),t}):e.totalList=e.totalList.filter(function(e){return e[Object.keys(i)[0]].value==i[Object.keys(i)[0]]}))}),e},subFiltering:function(e){var t=JSON.parse(JSON.stringify(c)),i=this;return e.totalList=e.totalList.filter(function(e){return i.itemExists(e,t)}),e},itemExists:function(t,e){var i=!1;return e.forEach(function(e){t[Object.keys(e)].forEach(function(t){e[Object.keys(e)[0]].forEach(function(e){e.value==t.value&&(i=!0)})})}),i},updateMainFilterDropdown:function(e){e.forEach(function(e){l("select[name="+Object.keys(e)[0]+"]").val(e[Object.keys(e)[0]])})},getFilterData:function(i){var a=this,n=l.Deferred(),e=i.data("api-url");return t.get(e,{},!0).then(function(e){e?n.resolve(e):n.reject(e.ErrMsg),r=JSON.parse(JSON.stringify(e));var t=a.initMainFilters(r);a.setFilterValueFromParam(t),a.filterData(),s.init(i.find(".itc-global-filters__main"),{mainFilters:t}),s.init(i.find(".global-filters__main-mobile"),{mainFilters:t}),a.initSubFilters(e),s.init(i.find(".itc-global-filters__sub"),{subFilters:o}),d&&d.forEach(function(e){l("select[name="+Object.keys(e)[0]+"]").trigger("change")}),0==e.subFilters.length?(l(".global-filters__filter-btn").addClass("hide_desktop"),l(".global-filters__btn-area .global-filters__reset-btn, .global-filters__btn-area .global-filters__close-btn").addClass("d-none")):l(".global-filters__bubble").text("0"),a.$el.addClass(e.listingType),("destination"==e.listingType?l(".global-filters__list-btn"):("offer"!=e.listingType&&(l(".global-filters__list-btn").addClass("hide"),l(".global-filters__grid-btn").addClass("hide")),l(".global-filters__map-btn"))).addClass("hide"),a.getHotelPagePath(r)}),n.promise()},setFilterValueFromParam:function(n){var e=getUrlParams()||{},t=Object.keys(e),i=Object.values(e),o=-1,a=!1;i.length&&l.each(i,function(e,t){"["===t.charAt(0)&&"]"===t.charAt(t.length-1)&&(a=!0)}),t.length&&!a&&l.each(e,function(i,t){n.some(function(e,t){if(e.filterName===i)return o=t,!0;o=-1});var e={},a=o;-1<a&&(e[i]=t,n[a].filterValues.map(function(e){e.value===t&&(e.selected=!0)}),u.push(e),d.push(e))})},initMainFilters:function(t){var n=[],o=r.brandsOrderPreference;return t.mainFilters.forEach(function(e){var i=e.value,a=[];t.totalList.forEach(function(t){0==a.length?(a.push({value:"",title:""+e.title}),Array.isArray(t[i])?a=a.concat(t[i]):a.push(t[i])):Array.isArray(t[i])?t[i].forEach(function(t){null==a.find(function(e){return e.value===t.value})&&a.push(t)}):null==a.find(function(e){if(t[i])return e.value===t[i].value})&&a.push(t[i]),"destinations"!==i&&"hotel"!==i||a.sort(function(e,t){return""==e.value?-1:""==t.value?1:e.title<t.title?-1:e.title>t.title?1:e.title-t.title}),"hotel"===i&&a.sort(function(e,t){return o.indexOf(e.brand)-o.indexOf(t.brand)})}),n.push({filterName:i,filterValues:a})}),n[0].filterValues.sort(function(e,t){return o.indexOf(e.value)-o.indexOf(t.value)}),n},initSubFilters:function(t){o=[],t.subFilters.forEach(function(e){var i=e.value,a=[];t.totalList.forEach(function(t){Array.isArray(t[i])?t[i].forEach(function(t){null==a.find(function(e){return e.value===t.value})&&a.push(t)}):null==a.find(function(e){if(t[i])return e.value===t[i].value})&&a.push(t[i])}),o.push({filterName:e,filterValues:a})})},scrollView:function(e,t){window.pageYOffset>=t?e.addClass("sticky"):e.removeClass("sticky")},getHotelPagePath:function(n){var o;!n||"offer"!=n.listingType&&"restaurant"!=n.listingType||(o=this,setTimeout(function(){for(var e=l(".global-filters__dropdown-mobile[name=hotel] :selected").text(),t=0;t<n.totalList.length;t++)if(e&&e==n.totalList[t].hotel.title){o.$el.find(".global-filters__container").addClass("global-filters__"+n.listingType),o.$el.find(".secmenu-breadcrumb").addClass("breadcrumb-"+n.listingType);n.totalList[t].brand.value;var i=n.totalList[t].brand.title,a=n.totalList[t].hotel.hotelPath;getBreadcrumbStructure(a,n.listingType,"",n.totalList[t].hotel,i);break}},200))}})})(window,window.jQuery),((e,a)=>{e.GetService("contentService"),e.GetComponent("renderer"),e.AddComponent("headMask",{init:function(e){var t=(this.$el=e).closest(".global-headmast").position(),i=e.closest(".global-headmast").siblings(".secondaryheader").position(),a=(this.paused=!1,this.played=!1,e.find("video")),n=e.outerHeight();0<a.length&&this.getVideoPauseOnScroll(a,n),null!=t&&null!=i&&t.top<=i.top&&(e.closest(".global-headmast").find(".itc-image__label--top-right,.itc-image__label--top-center").addClass("itc-image__label--shift-down"),e.closest(".global-headmast").find(".itc-image__label--top-left").addClass("itc-image__label--shift-down--top-left")),this.bindScrollToHashClick()},getVideoPauseOnScroll:function(e,t){var i=a(e)[0],e=a("video:is([autoplay])");0<a("video:is([controls])").length&&(0<e.length&&(self.paused=!1,self.played=!0),a(i).on("play",function(){self.played=!0,self.paused=!1}),a(i).on("pause",function(){self.paused=!0}),a(window).on("scroll",function(e){e.originalEvent&&(a(this).scrollTop()<t&&self.played&&!self.paused?i.play():a(this).scrollTop()>t&&self.paused?i.pause():a(this).scrollTop()>t&&!self.paused&&(i.pause(),setTimeout(function(){self.paused=!1},100)))}))},bindScrollToHashClick:function(){document.querySelector(".enrol_now").addEventListener("click",function(e){window.location.hash="enrol_now"})}})})(window,window.jQuery),((e,o)=>{e.AddComponent("hambergerMenu",{init:function(e){var i=this;this.hambergerMenuDesktop(),this.hambergerMenuMobile(),this.closeHambergerMenu(),this.windowResize(),o(".hamberger__icons").on("click",function(){var e=o(".hamberger__menu").attr("class").indexOf("hide")<0,t=o(".header-prime");i.addHeightHambergerOverlay(),o("body").toggleClass("overflow-hidden"),o(this).find("i").toggleClass("hide"),o(this).parent().find(".hamberger__menu").toggleClass("hide"),o(this).parent().find(".hamberger__subnav-content, .hamberger__subnav").removeClass("active mobile-hidden"),isMobileScreen()||o(this).parent().find(".primary:first").addClass("active").find(".hamberger__subnav-content:first").addClass("active").find(".hamberger__subnav:first").addClass("active").find(".hamberger__subnav-content:first").addClass("active").find(".hamberger__subnav:first").addClass("active").find(".hamberger__subnav-content:first").addClass("active"),e?t.css("z-index","3"):t.css("z-index","4")})},hambergerMenuDesktop:function(){o(".primary > .hamberger__subnav-btn").on("click",function(){isMobileScreen()||(o(".primary, .level-1, .level-2, .hamberger__subnav").removeClass("active"),o(this).parent().addClass("active").find(".hamberger__subnav-content:first").addClass("active").find(".hamberger__subnav:first").addClass("active").find(".hamberger__subnav-content:first").addClass("active").find(".hamberger__subnav:first").addClass("active").find(".hamberger__subnav-content:first").addClass("active"))}),o(".level-1 > .hamberger__subnav > .hamberger__subnav-btn").on("click",function(){isMobileScreen()||(o(".level-2, .level-1 .hamberger__subnav, .level-3").removeClass("active"),o(this).parent().addClass("active").find(".hamberger__subnav-content:first").addClass("active").find(".hamberger__subnav:first").addClass("active").find(".hamberger__subnav-content:first").addClass("active").find(".hamberger__subnav:first").addClass("active"))}),o(".level-2 > .hamberger__subnav > .hamberger__subnav-btn").on("click",function(){isMobileScreen()||(o(".level-2 .hamberger__subnav, .level-3").removeClass("active"),o(this).parent().addClass("active").find(".hamberger__subnav-content:first").addClass("active"))})},hambergerMenuMobile:function(){var i=this;o(".hamberger__subnav-btn").on("click",function(){var e=o(this).next(".hamberger__subnav-content").length;isMobileScreen()&&e&&(e=i.getParentClass(this),o(e).addClass("mobile-hidden"),o(this).parent().find(".hamberger__subnav-content:first").addClass("active"))}),o(".hamberger__subnav-parent").on("click",function(){var e,t;isMobileScreen()&&(e=i.getParentClass(this),t="."+o(e+".active").closest(".mobile-hidden").attr("class").split(" ").join("."),o(this).closest(".hamberger__subnav-content").removeClass("active"),o(t).removeClass("mobile-hidden"),".level-1"==e)&&o(e).removeClass("mobile-hidden").find(".mobile-hidden").removeClass("mobile-hidden")})},getParentClass:function(e){var t="",i=o(e).parent().hasClass("primary"),a=0<o(e).closest(".level-1").length,n=0<o(e).closest(".level-2").length,e=0<o(e).closest(".level-3").length;return i?t=".primary":e?t=".level-3":n?t=".level-2":a&&(t=".level-1"),t},closeHambergerMenu:function(){o(document).on("click",function(e){var t=o(".hamberger__menu").attr("class").indexOf("hide")<0;0==o(e.target).closest(".hamberger").length&&t&&(e=o(".header-prime"),o(".hamberger__menu").find(".mobile-hidden").removeClass(".mobile-hidden"),o(".hamberger__menu").addClass("hide"),o(".hamberger__icons i").toggleClass("hide"),o("body").removeClass("overflow-hidden"),e.css("z-index","3"))})},windowResize:function(){var e=this;window.addEventListener("resize",debounce(function(){e.addHeightHambergerOverlay()},300))},addHeightHambergerOverlay:function(){var e,t=o(".header-prime"),i=o(".hamberger__menu");t.length&&i.length&&(e=t.position().top,t=t.height(),e=o(window).outerHeight()-(e+t),i.css({minHeight:e,maxHeight:e}))}})})(window,window.jQuery),((e,a)=>{e.AddComponent("primaryHeader",{init:function(t){var i=this;window.addEventListener("scroll",debounce(function(){var e;a(window).width()<window.ITC.screenSize.screenMd&&(e=t.height(),i.scrollView(t,e))},200))},scrollView:function(e,t){window.pageYOffset>t?e.addClass("sticky"):e.removeClass("sticky")}})})(window,window.jQuery),((e,r)=>{e.AddComponent("secondaryHeader",{init:function(e){this.$el=e,this.navMoreBtn=e.find(".header-second__more-links"),this.scrollListener(),this.bindEvents(),this.hideSecondaryLink("header-second__links")},scrollListener:function(){var e=this,t=this.$el.data("sticky-start-position");window.addEventListener("scroll",function(){e.scrollView(e.$el,parseInt(t))})},scrollView:function(e,t){window.pageYOffset>=t?e.addClass("sticky"):e.removeClass("sticky")},bindEvents:function(){this.navMoreBtn.on("click",function(){var e=r(this).closest(".header-second__links");r(this).find("i").toggleClass("hide"),e.toggleClass("nav-active")})},hideSecondaryLink:function(o){r("body").on("click",function(e){var t=r(e.target).attr("class"),i=!!t&&-1<t.indexOf(o),a=0<r(e.target).closest("."+o).length,n=r("."+o);t&&-1<t.indexOf("expand-header-icon")&&r(e.target).toggleClass("rotate-icon"),i||a||!n.length||-1<n.attr("class").indexOf("nav-active")&&(n.find("i").toggleClass("hide"),n.removeClass("nav-active"))})}})})(window,window.jQuery),((e,t)=>{e.GetComponent("renderer"),e.AddComponent("HighlightsBrandUnifiers",{init:function(e){this.$el=e,this.$el.find(".itc-teaser").each(function(){var e;t(this).data("color")&&""!=t(this).data("color")&&(e=t(this).data("color"),0!==t(this).find(".itc-heading").length)&&t(this).find(".itc-heading").find("h1, h2, h3").addClass("brand-unifiers--"+e)})}})})(window,window.jQuery),((e,t)=>{var n=e.GetComponent("renderer"),o=e.GetService("contentService");e.AddComponent("historyTimeline",{init:function(e){this.$el=e;t(document).on("click","a.cmp-button",function(e){e.preventDefault(),t("#datalist li:hidden").slice(0,3).show(),t("#datalistmob li:hidden").slice(0,3).show(),t("#datalist li").length==t("#datalist li:visible").length&&t("a.cmp-button").hide(),t("#datalistmob li").length==t("#datalistmob li:visible").length&&t("a.cmp-button").hide()}),this.$el.find(".history-timeline-listing").data("templateId")&&this.renderHistoryTimeline()},renderHistoryTimeline:function(){var i=this,a=t.Deferred(),e=this.$el.data("api-url");return o.get(e,"").then(function(e){var t;e?a.resolve(e):a.reject(e.ErrMsg),e&&(t=[],t=_toConsumableArray(e),i.data=e,i.timelineData=t.splice(0,3),n.init(i.$el.find(".history-timeline-listing"),{timeline:i.timelineData}),n.init(i.$el.find(".history-timeline-listing-mob"),{timeline:i.timelineData}),window.ITC.pubsub.publish("history-timeline",{timeline:e}))}).fail(function(){}),a.promise()}})})(window,window.jQuery),((e,r,t)=>{e.GetService("contentService"),e.GetComponent("renderer");var s=null==(t=JSON.parse(null==(t=document.querySelector("#root"))||null==(t=t.dataset)?void 0:t.pks))?void 0:t.csepk,l=""!==s?"true":"false",d=window.crypto||window.msCrypto;e.AddComponent("hmiapplyNowForm",{init:function(e){this.$el=e,this.formContainer=e.find(".hmi-apply-now-form__container"),this.loader=e.find(".loader-cmp"),this.formMsg=getObjFromHtml(this.$el.data("message-form")),this.applyNowProgramType=this.$el.find("[name='applyNowProgramType']"),this.applyNowName=this.$el.find("[name='applyNowName']"),this.applyNowDob=this.$el.find("#applyNowDob"),this.applyNowCCode=this.$el.find("#applyNowCCode"),this.applyNowPhone=this.$el.find("[name='applyNowPhone']"),this.applyNowRemarks=this.$el.find("[name='applyNowRemarks']"),this.applyNowMail=e.find("[name='applyNowMail']"),this.applyNowEducation=e.find("[name='applyNowEducation']"),this.tncCheckbox=this.$el.find("#tncCheckbox"),this.applyNowQualification=this.$el.find("[name='applyNowQualification']"),this.applyNowAttachment=this.$el.find("[name='applyNowAttachment']"),this.applyNowRecaptcha=this.$el.find("[name='applyNowRecaptcha']"),this.fillData="",this.successMsg=e.find(".hmi-apply-now-form__backend-success"),this.errorMsg=this.$el.find("hmi-apply-now-form__backend-error .itc-textfield__label-error"),this.selectPlaceholder=e.find(".custom-file .custom-file-label").data("select-placeholder");var t=!1,i=getUserCookie(),e=(r("form").get(0).reset(),e.find(".custom-file-input").on("change",function(){var e=r(this).val().split("\\").pop().replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;");r(this).siblings(".custom-file-label").addClass("selected").html(e)}),this.formValidation(e),this.loader.hide(),initDOBpicker(e,{minDate:dateBefore26Years(),maxDate:dateBefore18Years()}),this.bindEvents(),r(".oninput-event").on("input click focus tap",function(e){t||(pushEventToDataLayer("page","form","name","hmi-apply-now"),analyticSSattelite("Form_Start")),t=!0}),r(".form-hmi-apply-now").find("button.dropdown-toggle").siblings(".dropdown-menu"));select2DropdownMenu(e,!1,"India",""),i&&i.member_number&&this.getData(i),this.removeAttachedFile()},getData:function(e){this.$el.find("#applyNowName").val(e.member_firstname+" "+e.member_lastname),this.$el.find("#applyNowMail").val(e.email_address),this.$el.find("#applyNowPhone").val(e.mobile_number)},removeAttachedFile:function(){var e=this;e.$el.find(".custom-file .custom-file-xButton, .custom-file .custom-file-input").on("click",function(){r("#bestRateFile").val(""),e.$el.find(".custom-file .custom-file-label.selected").removeClass("selected"),e.$el.find(".custom-file .custom-file-label").text(e.selectPlaceholder),e.$el.find(".custom-file .custom-file-xButton").css("display","none")})},bindEvents:function(){var i=this;this.applyNowAttachment.on("change",function(){for(var e=[],t=0;t<r(this).get(0).files.length;t++)e.push(r(this).get(0).files[t].name);i.fillData=e.filter(function(e,t,i){return t==i.indexOf(e)}).join(","),0<e.length&&i.$el.find(".custom-file .custom-file-xButton").css("display","inline-block")})},formValidation:function(e){var t=this,i=".form-hmi-apply-now";window.ITC.enableFormForValidation(e.find(i)),e.find(i).validate({focusInvalid:!1,invalidHandler:function(e,t){t.numberOfInvalids()&&r("html, body").animate({scrollTop:r(t.errorList[0].element).offset().top-150},200)},submitHandler:t.submitForm.bind(t),rules:{applyNowProgramType:{required:!0},applyNowName:{required:!0,personName:!0},applyNowDob:{required:!0},applyNowCCode:{required:!1},applyNowMail:{required:!0,email:!0},tncCheckbox:{required:!0},applyNowPhone:{required:{depends:function(){return"+91"==e.find("#applyNowCCodedropdown span").text()}},indianMobile:{depends:function(){return"+91"==e.find("#applyNowCCodedropdown span").text()}}},applyNowQualification:{required:!0},applyNowRecaptcha:{required:!0},applyNowRemarks:{required:!0,description:!0},applyNowEducation:{required:!0,entityName:!0},applyNowAttachment:{filesize:parseFloat(t.formMsg.applyNowAttachmentMb),extension:"pdf|doc|docx|jpg|png|jpeg|gif|xls|xlsx",filename:!0}},messages:{applyNowProgramType:{required:t.formMsg.applyNowProgramType},applyNowName:{required:t.formMsg.applyNowName,personName:t.formMsg.applyNowValidName},applyNowDob:{required:t.formMsg.applyNowDob},applyNowCCode:{required:t.formMsg.applyNowCCode},applyNowPhone:{required:t.formMsg.applyNowMobile,indianMobile:t.formMsg.applyNowPhone},applyNowRecaptcha:{required:t.formMsg.applyNowRecaptcha},applyNowRemarks:{required:t.formMsg.applyNowRemarks,description:t.formMsg.applyNowProperRemarks},applyNowMail:{required:t.formMsg.applyNowMail,email:t.formMsg.applyNowInvalidMail},applyNowEducation:{required:t.formMsg.applyNowEducation,entityName:t.formMsg.applyNowProperEducation},tncCheckbox:{required:t.formMsg.tncCheckbox},applyNowQualification:{required:t.formMsg.applyNowQualification},applyNowAttachment:{filesize:t.formMsg.applyNowAttachmentSize,extension:t.formMsg.applyNowAttachmentType,filename:t.formMsg.applyNowAttachmentName}}}),e.find(".hmi-apply-now-form-reset").on("click",function(){e.find(".form-hmi-apply-now").validate().resetForm(),r("#applyNowAttachment").val(""),t.$el.find(".custom-file .custom-file-label.selected").removeClass("selected"),t.$el.find(".custom-file .custom-file-label").text(t.selectPlaceholder),t.$el.find(".custom-file .custom-file-xButton").css("display","none"),r(".form-hmi-apply-now").find("button.dropdown-toggle").siblings(".dropdown-menu").val("").trigger("change"),e.find(".select2-selection__arrow").removeClass("hide")})},calculateAge:function(e){var t=new Date,e=new Date(e),t=new Date(t-e).getUTCFullYear();return String(t-1970)},submitForm:function(){var i,e=this,a=this.$el.data("hmi-url")||"/";function n(){this.errorMsg.html(this.formMsg.defaultErr).removeClass("hide"),getScrollDownToErrorMsg(this.errorMsg),this.loader.hide();var e=[{layerType:"page",sublLayerType:"form",dataElement:"name",value:"hmi-apply-now"},{layerType:"page",sublLayerType:"form",dataElement:"error",value:this.formMsg.defaultErr}];pushEventToMulitpleDataLayer(e),analyticSSattelite("Form_Error_Tracking")}function o(e){e&&e.submitted?(this.formContainer.hide(),this.successMsg.html(this.formMsg.defaultSuccessMsg).removeClass("hide"),scrollToTop(),pushEventToDataLayer("page","form","name","hmi-apply-now"),analyticSSattelite("Form_Submision")):(this.successMsg.html("").addClass("hide"),this.errorMsg.html(this.formMsg.defaultErr).removeClass("hide"),getScrollDownToErrorMsg(this.errorMsg),this.$el.data("layerPageName")&&(e=[{layerType:"page",sublLayerType:"form",dataElement:"name",value:"hmi-apply-now"},{layerType:"page",sublLayerType:"form",dataElement:"error",value:this.formMsg.defaultErr}],pushEventToMulitpleDataLayer(e),analyticSSattelite("Form_Error_Tracking"))),this.loader.hide()}this.loader.show(),getLoaderScrollTop(this.loader),d&&"true"==l?(i={templateType:"hmiapplynow",programType:this.applyNowProgramType.val(),name:this.applyNowName.val(),dob:this.applyNowDob.val(),countryCode:this.applyNowCCode.closest(".itc-select").find("#applyNowCCodedropdown span").text(),mobile:this.applyNowPhone.val(),remarks:this.applyNowRemarks.val(),email:this.applyNowMail.val(),tncCheckbox:this.tncCheckbox.prop("checked"),educationInstitute:this.applyNowEducation.val(),qualification:this.applyNowQualification.val(),age:this.calculateAge(this.applyNowDob.val()),fileName:this.fillData},0<this.applyNowAttachment[0].files.length?getFileProps(this.applyNowAttachment[0].files[0],function(e){var t=this;i.fileUploaded=e.base64,i.fileType=e.fileType,i.fileSize=e.fileSize,i.fileName=e.fileName,i.fileExt=e.fileExt,initRestAPIDataSecurityService(s,function(){invokeRestAPIWithDataSecurity(a,"post","",i,"application/json","json",function(){},function(){},o.bind(t),n.bind(t))})}.bind(this),n.bind(this)):initRestAPIDataSecurityService(s,function(){invokeRestAPIWithDataSecurity(a,"post","",i,"application/json","json",function(){},function(){},o.bind(e),n.bind(e))})):((i=new FormData).append("templateType","hmiapplynow"),i.append("programType",this.applyNowProgramType.val()),i.append("name",this.applyNowName.val()),i.append("dob",this.applyNowDob.val()),i.append("countryCode",this.applyNowCCode.closest(".itc-select").find("#applyNowCCodedropdown span").text()),i.append("mobile",this.applyNowPhone.val()),i.append("remarks",this.applyNowRemarks.val()),i.append("email",this.applyNowMail.val()),i.append("educationInstitute",this.applyNowEducation.val()),i.append("qualification",this.applyNowQualification.val()),i.append("age",this.calculateAge(this.applyNowDob.val())),i.append("fileName",this.fillData),i.append("fileUploaded",this.applyNowAttachment[0].files[0]),i.append("encrypt","none"),r.ajax({type:"POST",url:a,cache:!1,data:i,processData:!1,contentType:!1,success:o.bind(this),error:n.bind(this)}))}})})(window,window.jQuery),((e,a,t)=>{var o=e.GetService("contentService");e.GetComponent("renderer");var r=null==(t=JSON.parse(null==(t=document.querySelector("#root"))||null==(t=t.dataset)?void 0:t.pks))?void 0:t.csepk,s=""!==r?"true":"false",l=window.crypto||window.msCrypto;e.AddComponent("hmiwelcomeDeskForm",{init:function(e){this.$el=e,this.formContainer=e.find(".hmi-welcome-desk-form__container"),this.loader=e.find(".loader-cmp"),this.formMsg=getObjFromHtml(this.$el.data("message-form")),this.welcomeDeskName=this.$el.find("[name='welcomeDeskName']"),this.welcomeDeskDob=this.$el.find("#welcomeDeskDob"),this.welcomeDeskCCode=this.$el.find("#welcomeDeskCCode"),this.welcomeDeskPhone=this.$el.find("[name='welcomeDeskPhone']"),this.welcomeDeskQuery=this.$el.find("[name='welcomeDeskQuery']"),this.welcomeDeskMail=e.find("[name='welcomeDeskMail']"),this.welcomeDeskEducation=e.find("[name='welcomeDeskEducation']"),this.tncCheckbox=this.$el.find("#tncCheckbox"),this.welcomeDeskQualification=this.$el.find("[name='welcomeDeskQualification']"),this.welcomeDeskArea=this.$el.find("[name='welcomeDeskArea']"),this.welcomeDeskRecaptcha=this.$el.find("[name='welcomeDeskRecaptcha']"),this.successMsg=e.find(".hmi-welcome-desk-form__backend-success"),this.errorMsg=this.$el.find("hmi-welcome-desk-form__backend-error .itc-textfield__label-error");var t=!1,i=getUserCookie(),e=(a("form").get(0).reset(),this.formValidation(e),this.loader.hide(),initDOBpicker(e,{minDate:dateBefore26Years(),maxDate:dateBefore18Years()}),a(".oninput-event").on("input click focus tap",function(e){t||(pushEventToDataLayer("page","form","name","hmi-welcome-desk"),analyticSSattelite("Form_Start")),t=!0}),a(".form-hmi-welcome-desk").find("button.dropdown-toggle").siblings(".dropdown-menu"));select2DropdownMenu(e,!1,"India",""),i&&i.member_number&&this.getData(i)},getData:function(e){this.$el.find("#welcomeDeskName").val(e.member_firstname+" "+e.member_lastname),this.$el.find("#welcomeDeskMail").val(e.email_address),this.$el.find("#welcomeDeskPhone").val(e.mobile_number)},formValidation:function(e){var t=this,i=".form-hmi-welcome-desk";window.ITC.enableFormForValidation(e.find(i)),e.find(i).validate({focusInvalid:!1,invalidHandler:function(e,t){t.numberOfInvalids()&&a("html, body").animate({scrollTop:a(t.errorList[0].element).offset().top-150},200)},submitHandler:t.submitForm.bind(t),rules:{welcomeDeskName:{required:!0,personName:!0},welcomeDeskDob:{required:!0},welcomeDeskCCode:{required:!1},welcomeDeskMail:{required:!0,email:!0},tncCheckbox:{required:!0},welcomeDeskPhone:{required:{depends:function(){return"+91"==e.find("#welcomeDeskCCodedropdown span").text()}},indianMobile:{depends:function(){return"+91"==e.find("#welcomeDeskCCodedropdown span").text()}}},welcomeDeskQualification:{required:!0},welcomeDeskRecaptcha:{required:!0},welcomeDeskQuery:{required:!0,description:!0},welcomeDeskEducation:{required:!0,entityName:!0},welcomeDeskArea:{required:!0,address:!0}},messages:{welcomeDeskName:{required:t.formMsg.welcomeDeskName,personName:t.formMsg.welcomeDeskValidName},welcomeDeskDob:{required:t.formMsg.welcomeDeskDob},welcomeDeskCCode:{required:t.formMsg.welcomeDeskCCode},welcomeDeskPhone:{required:t.formMsg.welcomeDeskMobile,indianMobile:t.formMsg.welcomeDeskPhone},welcomeDeskRecaptcha:{required:t.formMsg.welcomeDeskRecaptcha},welcomeDeskQuery:{required:t.formMsg.welcomeDeskQuery,description:t.formMsg.welcomeDeskProperQuery},tncCheckbox:{required:t.formMsg.tncCheckbox},welcomeDeskMail:{required:t.formMsg.welcomeDeskMail,email:t.formMsg.welcomeDeskInvalidMail},welcomeDeskEducation:{required:t.formMsg.welcomeDeskEducation,entityName:t.formMsg.welcomeDeskProperEducation},welcomeDeskQualification:{required:t.formMsg.welcomeDeskQualification},welcomeDeskArea:{required:t.formMsg.welcomeDeskArea,address:t.formMsg.welcomeDeskProperArea}}}),e.find(".hmi-welcome-desk-form-reset").on("click",function(){e.find(".form-hmi-welcome-desk").validate().resetForm(),a(".form-wedding").find("button.dropdown-toggle").siblings(".dropdown-menu").val("").trigger("change"),e.find(".select2-selection__arrow").removeClass("hide")})},calculateAge:function(e){var t=new Date,e=new Date(e),t=new Date(t-e).getUTCFullYear();return String(t-1970)},submitForm:function(){var e=this,t=this.$el.data("hmi-url")||"/",i={templateType:"hmiwelcomedesk",name:this.welcomeDeskName.val(),dob:this.welcomeDeskDob.val(),countryCode:this.welcomeDeskCCode.closest(".itc-select").find("#welcomeDeskCCodedropdown span").text(),mobile:this.welcomeDeskPhone.val(),query:this.welcomeDeskQuery.val(),email:this.welcomeDeskMail.val(),educationInstitute:this.welcomeDeskEducation.val(),qualification:this.welcomeDeskQualification.val(),tncCheckbox:this.tncCheckbox.prop("checked"),area:this.welcomeDeskArea.val(),age:this.calculateAge(this.welcomeDeskDob.val())};function a(){this.errorMsg.html(this.formMsg.defaultErr).removeClass("hide"),getScrollDownToErrorMsg(this.errorMsg),this.loader.hide();var e=[{layerType:"page",sublLayerType:"form",dataElement:"name",value:"hmi-welcome-desk"},{layerType:"page",sublLayerType:"form",dataElement:"error",value:this.formMsg.defaultErr}];pushEventToMulitpleDataLayer(e),analyticSSattelite("Form_Error_Tracking")}function n(e){e&&e.submitted?(this.formContainer.hide(),this.successMsg.html(this.formMsg.defaultSuccessMsg).removeClass("hide"),scrollToTop(),pushEventToDataLayer("page","form","name","hmi-welcome-desk"),analyticSSattelite("Form_Submision")):(this.successMsg.html("").addClass("hide"),this.errorMsg.html(this.formMsg.defaultErr).removeClass("hide"),getScrollDownToErrorMsg(this.errorMsg),this.$el.data("layerPageName")&&(e=[{layerType:"page",sublLayerType:"form",dataElement:"name",value:"hmi-welcome-desk"},{layerType:"page",sublLayerType:"form",dataElement:"error",value:this.formMsg.defaultErr}],pushEventToMulitpleDataLayer(e),analyticSSattelite("Form_Error_Tracking"))),this.loader.hide()}this.loader.show(),getLoaderScrollTop(this.loader),l&&"true"==s?initRestAPIDataSecurityService(r,function(){invokeRestAPIWithDataSecurity(t,"post","",i,"application/json","json",function(){},function(){},n.bind(e),a.bind(e))}):(i.encrypt="none",o.post(t,i).fail(a.bind(this)).then(n.bind(this)))}})})(window,window.jQuery),!function(root,$){var renderer=root.GetComponent("renderer");root.AddComponent("HotelsListing",{init:function(e){this.$el=e,window.ITC.pubsub.subscribe("hotel",this.getData.bind(this))},getData:function getData(msg,data){var self=this,brandNotshow=eval(this.$el.data("brands-not-to-show")),sortTotalList=data.totalList.filter(function(e){return-1==brandNotshow.indexOf(e.brand.value)}),filteredData,hotelListingData;window.ITC.pubsub.publish("offerCount",sortTotalList.length),this.$el.find(".itc-hotelListing").data("templateId")&&sortTotalList&&0<sortTotalList.length&&(filteredData=getFilteredRestaurantList(sortTotalList,window.location.search),hotelListingData=0!==filteredData.length?filteredData:sortTotalList,setTimeout(function(){self.$el.parents().siblings().find(".global-filters> *").find(".global-filters__total-results-count").text(hotelListingData.length)},100),renderer.init(this.$el.find(".itc-hotelListing"),{dataObject:hotelListingData}))}})}(window,window.jQuery),((e,s,t)=>{e.GetService("contentService");var l=null==(t=JSON.parse(null==(t=document.querySelector("#root"))||null==(t=t.dataset)?void 0:t.pks))?void 0:t.csepk,c=null==t?void 0:t.oicpk,h=null==t?void 0:t.oicEndPoint,u=""!==c?"true":"false",m=window.crypto||window.msCrypto;e.AddComponent("hotelManagementServicesForm",{init:function(o){var r=this;return _asyncToGenerator(_regenerator().m(function e(){var t,i,a,n;return _regenerator().w(function(e){for(;;)switch(e.n){case 0:return r.$el=o,r.formattedPlacesData=Object.create(null),r.hmsSalutation=r.$el.find("[name='hmsSalutation']"),r.hmsFirstName=r.$el.find("[name='hmsFirstName']"),r.hmsLastName=r.$el.find("[name='hmsLastName']"),r.hmsCountry=r.$el.find("#hmsCountry"),r.hmsState=r.$el.find("#hmsState"),r.hmsCity=r.$el.find("#hmsCity"),r.hmsCCode=r.$el.find("#hmsCCode"),r.hmsPhone=r.$el.find("[name='hmsPhone']"),r.hmsTextarea=r.$el.find("[name='hmsTextarea']"),r.hmsEmail=o.find("[name='hmsEmail']"),r.hmsCompanyName=o.find("[name='hmsCompanyName']"),r.hmsCompanyAddressLine1=o.find("[name='hmsCompanyAddressLine1']"),r.hmsCompanyAddressLine2=o.find("[name='hmsCompanyAddressLine2']"),r.hmsPostalCode=o.find("[name='hmsPostalCode']"),r.hmsProjectType=r.$el.find("[name='hmsProjectType']"),r.hmsProjectCity=r.$el.find("[name='hmsProjectCity']"),r.hmsProjectState=r.$el.find("[name='hmsProjectState']"),r.hmsProjectCountry=r.$el.find("[name='hmsProjectCountry']"),r.hmsProjectStateTextfield=r.$el.find("[name='hmsProjectStateTextfield']"),r.hmsStateTextfield=r.$el.find("[name='hmsStateTextfield']"),r.hmsRecaptha=r.$el.find("[name='hmsRecaptha']"),r.tncCheckbox=r.$el.find("#tncCheckbox"),r.formContainer=o.find(".hotel-management-services-form__container"),r.countryTemplateEl=r.$el.find(".hms-country-list"),r.projectCountryTemplateEl=r.$el.find(".hms-project-country-list"),r.pageTitle=s("#hiddenPageTitle").text(),r.formMsg=getObjFromHtml(r.$el.data("message-form")),r.successMsg=o.find(".hotel-management-services-form__backend-success"),r.errplaceholder=r.$el.find(".hotel-management-services-form__backend-error .itc-textfield__label-error"),r.loader=o.find(".hotel-management-services-form__loader"),t=r,i=!1,a=getUserCookie(),s("form").get(0).reset(),o.find(".itc-select--country-menu").find("li a[data-value='India']").trigger("click"),s("body").on("click",".hms-country-list li a",function(){t.hmsCountry.trigger("change")}),s("body").on("click",".hms-project-country-list li a",function(){t.hmsProjectCountry.trigger("change")}),r.formValidation(o),n=s(".form-hotel-management-services").find("button.dropdown-toggle").siblings(".dropdown-menu"),select2DropdownMenu(n,!0,"India",""),s(n).on("select2:select",function(e){s(this).valid();t.bindEventForDropdowns(e,this)}),a&&a.member_number&&r.getData(a),e.n=1,getAuthorizationHeader(l,m);case 1:r.apiAuthHeader=e.v,s(".oninput-event").on("input click focus tap",function(e){i||(pushEventToDataLayer("page","form","name",this.pageTitle),analyticSSattelite("Form_Start")),i=!0}),window.ITC.pubsub.subscribe("itc-places-full-details",r.formatPlacesData.bind(r)),window.ITC.pubsub.subscribe("hotel-management-services-form-data",r.captureFullEnrollmentData.bind(r));case 2:return e.a(2)}},e)}))()},formatPlacesData:function(e,t){this.formattedPlacesData=t.reduce(function(e,t){var i=t.name,a=t.code,n=t.dial_code,t=(t.states||[]).reduce(function(e,t){var i=t.name,t=t.stateProvCode;return e[i.toUpperCase()]={stateProvCode:t,name:i},e},Object.create(null));return e[i.toUpperCase()]={name:i,code:a,dial_code:n,states:t},e},Object.create(null))},getData:function(e){this.$el.find("#hmsFirstName").val(e.member_firstname),this.$el.find("#hmsLastName").val(e.member_lastname),this.$el.find("#hmsEmail").val(e.email_address),this.$el.find("#hmsPhone").val(e.mobile_number)},bindEventForDropdowns:function(e,t){var i=this,e=s(e.currentTarget).val();s(t).hasClass("hms-country-list")?"India"!=e?(i.hmsStateTextfield.parent().closest("div").removeClass("hide"),i.hmsState.addClass("hide"),i.hmsState.parent().closest("div").css("display","none")):(i.hmsStateTextfield.parent().closest("div").addClass("hide"),i.hmsState.removeClass("hide"),i.hmsState.parent().closest("div").css("display","inline-block")):s(t).hasClass("hms-project-country-list")&&("India"!=e?(i.hmsProjectStateTextfield.parent().closest("div").removeClass("hide"),i.hmsProjectState.addClass("hide"),i.hmsProjectState.parent().closest("div").css("display","none")):(i.hmsProjectStateTextfield.parent().closest("div").addClass("hide"),i.hmsProjectState.removeClass("hide"),i.hmsProjectState.parent().closest("div").css("display","inline-block")))},formValidation:function(e){var t=this;window.ITC.enableFormForValidation(e.find(".form-wedding")),e.find(".form-hotel-management-services").validate({focusInvalid:!1,invalidHandler:function(e,t){t.numberOfInvalids()&&s("html, body").animate({scrollTop:s(t.errorList[0].element).offset().top-150},200)},submitHandler:t.submitForm.bind(t),rules:{hmsSalutation:{required:!0},hmsFirstName:{required:!0,personName:!0},hmsLastName:{required:!0,personName:!0},hmsCountry:{required:!0},hmsState:{required:!0},hmsCity:{required:!0},hmsCCode:{required:!1},hmsEmail:{required:!0,email:!0},tncCheckbox:{required:!0},hmsStateTextfield:{required:!0},hmsProjectStateTextfield:{required:!0},hmsPhone:{required:{depends:function(){return"+91"==e.find("#hmsCCodedropdown span").text()}},indianMobile:{depends:function(){return"+91"==e.find("#hmsCCodedropdown span").text()}}},hmsRecaptha:{required:!0},hmsTextarea:{required:!0,description:!0},hmsCompanyName:{required:!0,entityName:!0},hmsCompanyAddressLine1:{required:!0,address:!0},hmsCompanyAddressLine2:{required:!0,address:!0},hmsProjectCity:{required:!0},hmsProjectState:{required:!0},hmsProjectCountry:{required:!0},hmsPostalCode:{required:!0,postalCode:!0},hmsProjectType:{required:!0}},messages:{hmsSalutation:{required:t.formMsg.hmsSalutation},hmsFirstName:{required:t.formMsg.hmsFirstName,personName:t.formMsg.hmsFirstNameExpressionValidation},hmsLastName:{required:t.formMsg.hmsLastName,personName:t.formMsg.hmsLastNameExpressionValidation},hmsCountry:{required:t.formMsg.hmsCountry},hmsState:{required:t.formMsg.hmsState},hmsCity:{required:t.formMsg.hmsCity},hmsCCode:{required:t.formMsg.hmsCCode},hmsPhone:{required:t.formMsg.hmsMobile,indianMobile:t.formMsg.hmsPhone},hmsRecaptha:{required:t.formMsg.hmsRecaptha},hmsTextarea:{required:t.formMsg.hmsTextarea,description:t.formMsg.hmsImproperDescription},hmsEmail:{required:t.formMsg.hmsEmail,email:t.formMsg.hmsInvalidEmail},hmsCompanyName:{required:t.formMsg.hmsCompanyName,entityName:t.formMsg.hmsImproperCompanyName},hmsCompanyAddressLine1:{required:t.formMsg.hmsCompanyAddressLine1,address:t.formMsg.hmsImproperCompanyAddress},hmsCompanyAddressLine2:{required:t.formMsg.hmsCompanyAddressLine2,address:t.formMsg.hmsImproperCompanyAddress},hmsProjectCountry:{required:t.formMsg.hmsProjectCountry},hmsProjectState:{required:t.formMsg.hmsProjectState},hmsProjectCity:{required:t.formMsg.hmsProjectCity},hmsPostalCode:{required:t.formMsg.hmsPostalCode,postalCode:t.formMsg.hmsInvalidPostalCode},tncCheckbox:{required:t.formMsg.tncCheckbox},hmsProjectType:{required:t.formMsg.hmsProjectType},hmsStateTextfield:{required:t.formMsg.hmsStateTextfield},hmsProjectStateTextfield:{required:t.formMsg.hmsProjectStateTextfield}}}),e.find(".hotel-management-services-reset").on("click",function(){e.find(".form-hotel-management-services").validate().resetForm(),e.find(".select-solution, .squareRadioButton").find(".button-box").hasClass("active")&&e.find(".select-solution, .squareRadioButton").find(".button-box").removeClass("active"),e.find(".itc-select").find("#hmsCCodedropdown").next(".dropdown-menu").find("li:first-child a").click(),s(".form-hotel-management-services").find("button.dropdown-toggle").siblings(".dropdown-menu").val("").trigger("change"),e.find(".select2-selection__arrow").removeClass("hide"),s("#preferredHotel").val(sessionStorage.getItem("hotel-title"))})},captureFullEnrollmentData:function(e,t){this.enrollmentFormFullData=t},configureApiHeaders:function(){return _objectSpread({},this.apiAuthHeader)},submitForm:function(){var e=this,t=h+window.ITC.OIC_API_DETAILS.HOTEL_DEVELOPMENT_API,i=this.configureApiHeaders(),a=this.formMsg&&this.formMsg.defaultSuccessMsg?this.formMsg.defaultSuccessMsg:"",n=this.formMsg&this.formMsg.defaultErr?this.formMsg.defaultErr:"",o=this.formattedPlacesData[this.hmsCountry.val().toUpperCase()].code,r="India"===this.hmsCountry.val()?this.formattedPlacesData[this.hmsCountry.val().toUpperCase()].states[this.hmsState.val().toUpperCase()].stateProvCode:this.hmsStateTextfield.val(),s=this.formattedPlacesData[this.hmsProjectCountry.val().toUpperCase()].code,l="India"===this.hmsCountry.val()?this.formattedPlacesData[this.hmsProjectCountry.val().toUpperCase()].states[this.hmsProjectState.val().toUpperCase()].stateProvCode:this.hmsProjectStateTextfield.val(),d={Title:"Hotel Development",SRType_c:"CUSTOMER_REQUEST",L1TYPE_c:"PARTNER_DEVELOPMENT",L2TYPE_c:"HOTEL_DEVELOPMENT",Title_c:this.hmsSalutation.val().trim().replace(/\./g,"").toUpperCase(),FirstName_c:this.hmsFirstName.val(),LastName_c:this.hmsLastName.val(),Country_c:o,CustomerCity_c:this.hmsCity.val(),CountryTelCode_c:this.hmsCCode.closest(".itc-select").find("#hmsCCodedropdown span").text(),EmailAddress_c:this.hmsEmail.val(),MobileNumber_c:this.hmsPhone.val(),CompName_c:this.hmsCompanyName.val(),CompAddL1_c:this.hmsCompanyAddressLine1.val(),CompAddL2_c:this.hmsCompanyAddressLine2.val(),ProjLocCountry_c:s,ProjLocCity_c:this.hmsProjectCity.val(),ProjLocPostCode_c:this.hmsPostalCode.val(),ProjType_c:this.hmsProjectType.val().toUpperCase(),BriefDescription_c:this.hmsTextarea.val(),ChannelTypeCd:window.ITC.OIC_API_DETAILS.SOURCE_INFO};"IN"==o?d.State_c=r:d.StateText_c=r,"IN"==s?d.ProjLocState_c=l:d.ProjLocStateText_c=l,this.loader.removeClass("hide"),getLoaderScrollTop(this.loader),m&&"true"==u&&initRestAPIDataSecurityService(c,function(){invokeRestAPIWithDataSecurity(t,"post",i,d,"application/json","json",function(){},function(){},function(e){e&&"SUCCESS"===e.Result?(e=e.Response.split(":").at(1),e=a.replace("${serviceRequestNumber}",e),this.formContainer.hide(),this.successMsg.removeClass("hide").html(e),scrollToTop(),pushEventToDataLayer("page","form","name",this.pageTitle),analyticSSattelite("Form_Submision")):(this.successMsg.html("").addClass("hide"),this.errplaceholder.html(n).show(),getScrollDownToErrorMsg(this.errplaceholder),this.$el.data("layerPageName")&&(e=[{layerType:"page",sublLayerType:"form",dataElement:"name",value:this.pageTitle},{layerType:"page",sublLayerType:"error",dataElement:"name",value:result.resultMsg}],pushEventToMulitpleDataLayer(e),analyticSSattelite("Form_Error_Tracking"))),this.loader.addClass("hide")}.bind(e),function(){this.errplaceholder.html(n).show(),getScrollDownToErrorMsg(this.errplaceholder),this.loader.addClass("hide")}.bind(e))})}})})(window,window.jQuery),((e,a)=>{e.AddComponent("hotelRestaurantHighlights",{init:function(t){this.$el=t;var i=this;a(window).on("load",function(){var e=t.find("#"+t.find(".itc-tripadvisor div").attr("id"));0<e.length&&0<e.children().length?i.getTripAdvisorHref(e):setTimeout(function(){i.getTripAdvisorHref(e)},100)})},getTripAdvisorHref:function(e){var t=e.find(".cdsComponent.cdsLocName a"),e=e.find(".cdsComponent.logo a");0<t.length&&0<e.length&&t.attr("href")&&e.attr("href",t.attr("href"))}})})(window,window.jQuery),((e,n)=>{e.AddComponent("listHotelsandResorts",{init:function(e){this.$el=e,this.$el.find(".itc-hotels-and-resorts--template").data("templateId")&&this.renderListHotelsandResort(),n(".map-hotels-and-resorts").css("display","none"),this.hotelsAndResortsList=Array.from(e.find(".list-hotels-and-resorts__items")),this.getAllBrandsOfDest=this.hotelsAndResortsList.map(function(e){return e.dataset.brandValue.toUpperCase()}),this.initiateFilteredView(e),this.loadGridView(e),this.loadMapView(e)},renderListHotelsandResort:function(){return n.Deferred().promise()},selectedHotel:function(){this.$el.find(".list-hotels-and-resorts").find(".list-hotels-and-resorts__items").each(function(e){n(this).find(".cmp-button").on("click",function(e){e.preventDefault();e=n(this).parent().data("currentObj");window.ITC.pubsub.publish("current-hotel-and-resort",e)})})},initiateFilteredView:function(e){var t=this,i=window.location.search,i=new URLSearchParams(i).get("brand"),a=(a=i&&2!==i.length&&"["===i.charAt(0)&&"]"===i.charAt(i.length-1)?i.slice(1,-1).toUpperCase().split(","):[]).filter(function(e){return t.getAllBrandsOfDest.includes(e)});this.hotelsAndResortsList.forEach(function(e){var t=e.dataset.brandValue.toUpperCase();a&&0!==a.length&&!a.includes(t)&&(e.style.display="none")})},loadGridView:function(e){e.find(".itc-hotels-and-resorts__grid-btn").on("click",function(e){e.preventDefault(),n(".itc-hotels-and-resorts__gridview").removeClass("in-act"),n(".itc-hotels-and-resorts__mapview").addClass("in-act"),n(".map-hotels-and-resorts").css("display","none"),n(".list-hotels-and-resorts").css("display","flex")})},loadMapView:function(e){var t=this;e.find(".itc-hotels-and-resorts__map-btn").on("click",function(e){e.preventDefault(),n(".itc-hotels-and-resorts__mapview").removeClass("in-act"),n(".itc-hotels-and-resorts__gridview").addClass("in-act");var a=[];n(".list-hotels-and-resorts").find(".list-hotels-and-resorts__items").each(function(e){var t=n(this).find(".itc-teaser__cta").data("currentObj"),i=[];i.push(t.hotelUrl),i.push(t.latitude),i.push(t.longitude),i.push(t.hotel),i.push(t.brandValue),i.push(t.brandColor),a.push(i)}),n(".list-hotels-and-resorts").css("display","none");n(".map-hotels-and-resorts").css("display","block");e=getCenter(a);initMap(a,t.$el.find(".itc-hotels-and-resorts__map")[0],e)})}})})(window,window.jQuery),((e,t)=>{e.AddComponent("hotelsRetaurantOverview",{init:function(e){this.$el=e,t(document).ready(function(){t('a[href^="tel:"]').each(function(){var e=t(this).attr("href").split(",");t(this).attr("href",e[0])})})}})})(window,window.jQuery),((e,u)=>{e.AddComponent("itcVideoHTML5",{init:function(e){var t=this;this.videoEl=e,this.screenWidth=u(window).width(),0<this.videoEl.length&&(this.setVideoUrl(!0),window.addEventListener("resize",debounce(function(){t.setVideoUrl()},300)))},setVideoUrl:function(e){var t=this,i=u(window).width(),a=window.ITC.screenSize.screenMd,n=this.videoEl.data("desktop-src"),o=this.videoEl.data("desktop-poster")||"",r=this.videoEl.data("mobile-src"),s=this.videoEl.data("mobile-poster")||"",l=this.videoEl.attr("autoplay"),d="",c="",h=u('<source type="video/mp4"/>'),c=i<a?(d=s,r):(d=o,n);h.attr("src",c),void 0!==l&&!1!==l?setTimeout(function(){e?(t.videoEl.find("source").remove(),t.videoEl.append(h)):t.checkIfNotSameDevice(i)&&(t.videoEl.find("source").attr("src",c),t.videoEl[0].load(),t.videoEl[0].play()),t.screenWidth=i},500):((e||this.checkIfNotSameDevice(i))&&(this.videoEl.find("source").remove(),this.videoEl.attr("poster",d).append(h),this.videoEl[0].load()),this.screenWidth=i)},checkIfNotSameDevice:function(e){var t=window.ITC.screenSize.screenMd;return this.screenWidth<t&&t<=e||this.screenWidth>=t&&e<t}})})(window,window.jQuery),((e,s)=>{e.AddComponent("itcVideo",{init:function(e){this.$el=e,this.playerYT="",this.initYoutube()},initYoutube:function(){var e,t=this,i=this.$el.filter(".itc-video--youtube").eq(0).find(".itc-video--youtube-holder"),a=s("<img/>");i.length<1||("autoplay"!=i.data("autoplay")?(e=i.data("embed")||"",a.attr({src:"https://img.youtube.com/vi/"+e+"/maxresdefault.jpg",height:i.data("height")}),i.append(a),i.on("click",function(){t.iFrameVideo()})):this.iFrameVideo())},iFrameVideo:function(){var e=this.$el.filter(".itc-video--youtube").eq(0),t=e.find(".itc-video--youtube-holder"),i=t.data("controls"),a=t.data("embed")||"",i=null==i||i?"1":"0",n=s("<iframe/>"),o=t.data("width"),r=t.data("height"),t={class:t.data("class-name"),frameborder:"0",allowfullscreen:"",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",src:"https://www.youtube.com/embed/"+a+"?rel=0&showinfo=0&autoplay=1&controls="+i+"&mute=1&enablejsapi=1"};o&&(t.width=o),r&&(t.height=r),n.attr(t),e.html("").append(n),this.setupPlayer(e)},setupPlayer:function(e){var t=this;null!=window.YT&&window.YT.ready(function(){t.player=new YT.Player(e.find("iframe")[0],{events:{onReady:t.playVideoYT.bind(t)}})})},playVideoYT:function(){this.player.playVideo()},pauseVideoYT:function(){this.player.pauseVideo()},playPauseButton:function(e){var t=e.find("video")[0];null!=t.attributes.autoplay&&($el.toggleClass("playing"),s(".itc-video__button").toggleClass("hide")),s(".itc-video__button").on("click",function(){s(this).hasClass("play")?t.play():t.pause(),$el.toggleClass("playing"),s(".itc-video__button").toggleClass("hide")})}})})(window,window.jQuery),((e,o)=>{var r=e.GetService("contentService"),s=e.GetComponent("renderer");e.AddComponent("listHotels",{init:function(e){this.$el=e,this.$el.find(".itc-listhotels").data("templateId")&&this.renderListPTHotels()},getFilteredPTHotelsList:function(e){var t=window.location.search,t=new URLSearchParams(t),i=t.get("brand"),t=t.get("destination"),a=i&&2!==i.length&&"["===i.charAt(0)&&"]"===i.charAt(i.length-1)?i.toUpperCase().slice(1,-1).split(","):[],n=t&&2!==t.length&&"["===t.charAt(0)&&"]"===t.charAt(t.length-1)?t.toUpperCase().slice(1,-1).split(","):[];return a&&0!==a.length&&(e=e.filter(function(e){if(null!=e&&e.brandValue&&a.includes(null==e?void 0:e.brandValue.toUpperCase()))return e})),e=n&&0!==n.length?e.filter(function(e){if(null!=e&&e.cityValue&&n.includes(null==e?void 0:e.cityValue.toUpperCase()))return e}):e},renderListPTHotels:function(){var i=this,a=this,n=o.Deferred(),e=this.$el.data("api-url"),t={name:"list-hotels",offerType:this.$el.data("offertype")};return r.get(e,t).then(function(e){var t;e&&e.offers&&e.offers.hotels?n.resolve(e):n.reject(e.ErrMsg),e&&e.offers&&e.offers.hotels&&(t=0!==(t=i.getFilteredPTHotelsList(e.offers.hotels)).length?t:e.offers.hotels,s.init(a.$el.find(".itc-listhotels"),{hotels:t}),a.selectedHotel(t),a.$el.find(".loader-cmp").hide(),window.ITC.pubsub.publish("total-hotel-offers",{hotels:t}),t.length<2)&&!window.edit_mode&&a.$el.hide()}).fail(function(){a.$el.find(".loader-cmp").hide(),window.edit_mode||a.$el.hide()}),n.promise()},selectedHotel:function(t){this.$el.find(".list-hotels__items").each(function(e){o(this).find(".cmp-button").on("click",function(e){e.preventDefault();e=t[o(this).parent().data("currentObj")];window.ITC.pubsub.publish("open-fill-accom-data",{tab:"accommodation",type:"hotels",list:e,fullList:t})})})}})})(window,window.jQuery),(e=>{var a=e.GetService("contentService");e.AddComponent("loginFromToken",{init:function(e){this.$el=e;e=getUrlParams();e&&e.stkn&&this.loginFromToken(e.stkn)},loginFromToken:function(e){var t=this.$el.data("api-url")||"/",i=this.$el.data("redirect-url")||"/";a.get(t,{stkn:e,requestType:"validateToken"},!0).fail(function(){alert("Login failed")}.bind(this)).then(function(e){var t;e&&""==e.errorSpcMessage?(t={loggedIn:"true",firstName:e.itcSpcFName||"",lastName:e.itcSpcLName||"",memberId:e.itcSpcMemNum||"",tier:e.itcSpcTier||""},t=JSON.stringify(t),setCookieDetail(window.ITC.cookie.userInfo,t),window.ITC.pubsub.publish("activate-login",{})):(e.errorSpcMessage&&alert(e.errorSpcMessage),location.href=i)}.bind(this))}})})(window,window.jQuery),((e,d)=>{e.GetService("contentService"),e.GetComponent("renderer"),e.AddComponent("loginDropdown",{init:function(e){this.$el=e,this.vars=e.data("vars"),this.beforeLoginEl=e.find(".itc-login__before-login"),this.afterLoginEl=e.find(".itc-login__after-login"),sessionStorage.setItem("logoutUrlPath",e.find(".logout-data").data("logouturl")),sessionStorage.setItem("logoutUrl",this.vars.logoutRedirectUrl),this.userNameEl=e.find(".itc-login__name"),this.idleTimer=this.vars.idleTime&&""!=this.vars.idleTime?this.vars.idleTime:18e4,this.resetTimer=this.vars.resetTime&&""!=this.vars.resetTime?this.vars.resetTime:this.idleTimer/2,this.memberTierEl=e.find(".itc-login__member-tier"),this.memberIdEl=e.find(".itc-login__member-id"),this.loginButton=e.find("#loginDropdownMenuButton"),this.$el.on("click","a.itc-login__signin",function(e){sessionStorage.removeItem("login-via-ftp"),sessionStorage.setItem("login-via-ftp","false")}),this.windowResize(),this.toggleLoginContent(),this.bindEvent(),window.ITC.pubsub.subscribe("activate-login",this.toggleLoginContent.bind(this))},bindEvent:function(){this.$el.on("click",".itc-login__signout",function(){}),this.loginButton.on("click",function(){var e=d(this).closest(".header-prime__links").find(".search-box__overlay"),t=d(".reservation-overlay");e.hasClass("hide")||e.addClass("hide"),t.hasClass("show")&&t.removeClass("show").hide()})},setMainHeaderHeight:function(){var e=d(".header-prime"),t=d(".header-prime__placeholder");e.length&&t.length&&(e=e.outerHeight(),t.css("height",e))},windowResize:function(){var e=this;window.addEventListener("resize",debounce(function(){e.setMainHeaderHeight()},100))},showLoginDropdown:function(e,t){e?t&&(this.userNameEl.text(t.fName+" "+t.lName),this.memberTierEl.text(t.tier),this.memberIdEl.text(t.id),this.beforeLoginEl.addClass("hide"),this.afterLoginEl.removeClass("hide")):(this.userNameEl.text(""),this.beforeLoginEl.removeClass("hide"),this.afterLoginEl.addClass("hide")),setTimeout(function(){this.setMainHeaderHeight()}.bind(this),500)},idleTime:function(){var t,i=0,a=!1,n=this,o=n.idleTimer/1e3,r=n.resetTimer/1e3,e=getCookieDetail(window.ITC.cookie.userInfo);function s(){""!=getCookieDetail(window.ITC.cookie.userInfo)&&(a=!0)}function l(){clearInterval(t),i=0,t=setInterval(function(){var e;i++,n.vars&&(e=getCookieDetail(window.ITC.cookie.userInfo),void 0!==d.cookie(window.ITC.cookie.userInfo)&&""!=d.cookie(window.ITC.cookie.userInfo)||clearInterval(t),o<=i&&!a?(clearInterval(t),location.reload()):r<=i&&a&&(a=!1,l(),setCookieDetail(window.ITC.cookie.userInfo,e,parseFloat(n.idleTimer))))},1e3)}setCookieDetail(window.ITC.cookie.userInfo,e,parseFloat(n.idleTimer)),window.onload=l,window.onmousemove=s,window.onmousedown=s,window.ontouchstart=s,window.onclick=s,window.onkeydown=s,window.addEventListener("scroll",s,!0)},toggleLoginContent:function(){var e;this.loginData=getCookieDetail(window.ITC.cookie.userInfo),""!=this.loginData&&(this.loginData=JSON.parse(this.loginData),this.loginData.loggedIn)?(e={fName:this.loginData.firstName||"",lName:this.loginData.lastName||"",tier:this.loginData.tier||"",id:this.loginData.memberId||""},this.idleTime(),this.showLoginDropdown(!0,e)):this.showLoginDropdown(!1)},analyticsCall:function(e,t){t=[{layerType:"page",sublLayerType:"pageInfo",dataElement:"pageName",value:d(".analytics-hidden-element").data("page-name")},{layerType:"account",sublLayerType:"info",dataElement:"custID",value:t}];pushEventToMulitpleDataLayer(t),analyticSSattelite(e)}})})(window,window.jQuery),((e,n)=>{var o=e.GetService("contentService"),r=e.GetComponent("renderer");e.AddComponent("magazineArchivesListing",{init:function(e){this.$el=e,this.year=this.$el.find("[name='archiveYear']");var t=this;this.$el.find(".itc-magazine-archives-listing").data("templateId")&&this.renderListArchives(),e.on("click",".dropdown-menu > li >  a",function(e){e.preventDefault(),t.renderListArchives()})},renderListArchives:function(){var t=this,i=n.Deferred(),e=this.$el.data("api-url"),a=this.$el.data("magazine-type"),a={year:this.year.val(),magazineType:a};return o.get(e,a).then(function(e){e?i.resolve(e):i.reject(e.ErrMsg),e&&("string"==typeof e&&(e=JSON.parse(e)),r.init(t.$el.find(".itc-magazine-archives-listing"),{archives:e}),t.$el.find(".loader-cmp").hide(),window.ITC.pubsub.publish("magazine-archives",{archives:e}))}).fail(function(){t.$el.find(".loader-cmp").hide()}),i.promise()}})})(window,window.jQuery),((e,t)=>{e.AddComponent("namasteMagazineGiftExpComp",{init:function(e){this.$el=e,t(document).ready(function(){t('a[href^="tel:"]').each(function(){var e=t(this).attr("href").split(",");t(this).attr("href",e[0])})})}})})(window,window.jQuery),((e,o,t)=>{var s=e.GetService("contentService"),l=null==(t=JSON.parse(null==(t=document.querySelector("#root"))||null==(t=t.dataset)?void 0:t.pks))?void 0:t.csepk,d=""!==l?"true":"false",c=window.crypto||window.msCrypto;e.AddComponent("newsletterForm",{init:function(t){this.$el=t,this.formContainer=t.find(".newsletter-subscription-form_container"),this.successMsg=this.$el.find(".subscription__msg-area > .success-msg"),this.errorMsg=this.$el.find(".subscription__msg-area > .error-msg"),this.formMsg=this.$el.data("message-form"),this.loaderEl=this.$el.find(".loader-cmp"),this.newsletterFirstName=this.$el.find("#newsletterFirstName"),this.newsletterLastName=this.$el.find("#newsletterLastName"),this.newsletterEmail=this.$el.find("#newsletterEmail"),this.newsletterPhone=this.$el.find("#newsletterPhone"),this.newsletterCountry=this.$el.find("#dropdownNewsletterCountry"),this.newsletterState=this.$el.find("#dropdownNewsletterState"),this.newsletterStateField=this.$el.find("[name='newsletterStateField']"),this.newsletterCCode=this.$el.find("#dropdownCCode"),this.newsletterCity=this.$el.find("#dropdownNewsletterCity"),this.newsletterCheckbox=this.$el.find("#newsletterCheckbox"),this.newsletterRecaptha=this.$el.find("#newsletterRecaptha");var i=this,a=!1,e=getUserCookie(),n=(window.addEventListener("pageshow",function(e){e.persisted&&(o("form").get(0).reset(),i.newsletterEmail.val(""),t.find(".itc-select").each(function(){o(this).find(".dropdown-menu > li >  a")[0].click()}),t.find(".itc-select--country-menu").find("li a[data-value='India']").trigger("click"))}),o("body").on("click",".newsletter-country-list li a",function(){i.newsletterCountry.trigger("change")}),this.formValidation(t),this.loaderEl.hide(),o(".oninput-event").on("input click focus tap",function(e){a||(pushEventToDataLayer("page","form","name","newsletter-subscription-form"),analyticSSattelite("Form_Start")),a=!0}),o(".newsletter-form").find("button.dropdown-toggle").siblings(".dropdown-menu"));select2DropdownMenu(n,!0,"India",""),o(n).on("select2:select",function(e){o(this).valid();i.bindEventForDropdowns(e,this)}),e&&e.member_number&&this.getData(e)},getData:function(e){this.$el.find("#newsletterFirstName").val(e.member_firstname),this.$el.find("#newsletterLastName").val(e.member_lastname),this.$el.find("#newsletterEmail").val(e.email_address),this.$el.find("#newsletterPhone").val(e.mobile_number)},bindEventForDropdowns:function(e,t){var i=this,e=o(e.currentTarget).val();o(t).hasClass("newsletter-country-list")&&("India"!=e?(i.newsletterStateField.parent().closest("div").removeClass("hide"),i.newsletterState.addClass("hide"),i.newsletterState.parent().closest("div").css("display","none")):(i.newsletterStateField.parent().closest("div").addClass("hide"),i.newsletterState.removeClass("hide"),i.newsletterState.parent().closest("div").css("display","inline-block")))},formValidation:function(t){var i=this,e=".newsletter__form";window.ITC.enableFormForValidation(t.find(e)),t.find(e).validate({focusInvalid:!1,invalidHandler:function(e,t){t.numberOfInvalids()&&o("html, body").animate({scrollTop:o(t.errorList[0].element).offset().top-150},200)},submitHandler:i.submitForm.bind(i),rules:{newsletterFirstName:{required:!0,personName:!0},newsletterLastName:{required:!0,personName:!0},newsletterEmail:{required:!0,email:!0},newsletterCountry:{required:!0},newsletterState:{required:!0},newsletterStateField:{required:!0},newsletterCCode:{required:!1},newsletterCity:{required:!0},newsletterPhone:{required:{depends:function(){return"+91"==t.find("#dropdownCCode span").text()}},indianMobile:{depends:function(){return"+91"==t.find("#dropdownCCode span").text()}}},newsletterCheckbox:{required:!0},newsletterRecaptha:{required:!0}},messages:{newsletterFirstName:{required:i.formMsg.newsletterFirstName,personName:i.formMsg.newsletterValidFirstName},newsletterLastName:{required:i.formMsg.newsletterLastName,personName:i.formMsg.newsletterValidLastName},newsletterEmail:{required:i.formMsg.newsletterEmail,email:i.formMsg.newsletterValidEmail},newsletterCountry:{required:i.formMsg.newsletterCountry},newsletterState:{required:i.formMsg.newsletterState},newsletterStateField:{required:i.formMsg.newsletterStateField},newsletterCCode:{required:i.formMsg.newsletterCCode},newsletterCity:{required:i.formMsg.newsletterCity},newsletterPhone:{required:i.formMsg.newsletterPhone,indianMobile:i.formMsg.newsletterValidPhone},newsletterCheckbox:{required:i.formMsg.newsletterCheckbox},newsletterRecaptha:{required:i.formMsg.newsletterRecaptha}}}),t.find(".newsletter-reset").on("click",function(){t.find(".newsletter__form").validate().resetForm(),t.find(".itc-select").find("#dropdownCCode").next(".dropdown-menu").find("li:first-child a").click(),o(".newsletter-form").find("button.dropdown-toggle").siblings(".dropdown-menu").val("").trigger("change"),t.find(".select2-selection__arrow").removeClass("hide")}),t.on("click",".dropdown-menu.itc-select--country-menu > li >  a",function(e){e.preventDefault(),"India"!==o(this).data("value")&&"+91"!==t.find("#dropdownCCode span").text()&&i.newsletterPhone.next(".validation-error-placeholder").find("label").hide()})},submitForm:function(e,t){var i=this,a=this.$el.data("url")||"/",n={templateType:"newsletter",firstName:this.newsletterFirstName.val(),lastName:this.newsletterLastName.val(),email:this.newsletterEmail.val(),phone:this.newsletterPhone.val(),countryCode:this.newsletterCCode.find("span").text(),country:this.newsletterCountry.val(),state:("India"!=this.newsletterCountry.val()?this.newsletterStateField:this.newsletterState).val(),city:this.newsletterCity.val(),checkbox:this.newsletterCheckbox.prop("checked"),reCaptha:this.newsletterRecaptha.prop("checked")};function o(e){e&&e.submitted?(this.formContainer.hide(),this.successMsg.removeClass("hide").html(this.formMsg.defaultSuccessMsg),scrollToTop(),pushEventToDataLayer("page","form","name","newsletter-subscription-form"),analyticSSattelite("Form_Submision")):(this.errorMsg.removeClass("hide").html(this.formMsg.defaultErr),getScrollDownToErrorMsg(this.errorMsg),e=[{layerType:"page",sublLayerType:"form",dataElement:"name",value:"newsletter-subscription-form"},{layerType:"page",sublLayerType:"form",dataElement:"error",value:this.formMsg.defaultErr}],pushEventToMulitpleDataLayer(e),analyticSSattelite("Form_Error_Tracking")),this.loaderEl.hide()}function r(e){this.errorMsg.removeClass("hide").html(this.formMsg.defaultErr),getScrollDownToErrorMsg(this.errorMsg);var t=[{layerType:"page",sublLayerType:"form",dataElement:"name",value:"newsletter-subscription-form"},{layerType:"page",sublLayerType:"form",dataElement:"error",value:this.formMsg.defaultErr}];pushEventToMulitpleDataLayer(t),analyticSSattelite("Form_Error_Tracking"),this.loaderEl.hide()}this.loaderEl.show(),getLoaderScrollTop(this.loaderEl),c&&"true"==d?initRestAPIDataSecurityService(l,function(){invokeRestAPIWithDataSecurity(a,"post","",n,"application/json","json",function(){},function(){this.loaderEl.hide()}.bind(i),o.bind(i),r.bind(i))}):(n.encrypt="none",s.post(a,n,!0).fail(r.bind(this)).then(o.bind(this)))},verifyCaptcha:function(){document.getElementById("g-recaptcha-error").innerHTML=""}})})(window,window.jQuery),((e,i)=>{var a=e.GetComponent("renderer");e.AddComponent("notifyComp",{init:function(e){var t=this;this.$el=e,this.heightPlaceholder=i(".itc-notification__placeholder"),window.ITC.pubsub.subscribe("itc-notification",this.showNotification.bind(this)),this.windowResize(),this.addHeight(),this.closeNotification(),t.smartBannerTimeOut=setTimeout(function(){0<i(".smartbanner").length&&t.handleNotificationPos()},3e3)},showNotification:function(e,t){t&&t.show&&(this.$el.find(".itc-notification").removeClass("hide"),this.$el.find(".itc-notification--dynamic").addClass("hide"),this.$el.find(".itc-notification-popup").data("templateId"))&&(t=t&&t.content,a.init(this.$el.find(".itc-notification-popup"),_objectSpread({},t)))},closeNotification:function(){var e=this,t=this.$el;t.on("click",".itc-notification__header .close",function(){t.addClass("hide"),e.heightPlaceholder.addClass("hide")})},windowResize:function(){var e=this;window.addEventListener("resize",debounce(function(){e.addHeight()},200))},addHeight:function(){var e=this.$el.attr("class"),t=this.$el.innerHeight();e.indexOf("hide")<0&&this.heightPlaceholder.css("height",t)},handleNotificationPos:function(){i(".itc-notification").addClass("itc-notification--shifted"),i(".smartbanner .smartbanner__exit").click(function(e){e.preventDefault(),i(".itc-notification").removeClass("itc-notification--shifted")}),clearTimeout(self.smartBannerTimeOut)}})})(window,window.jQuery),((e,i)=>{var n=e.GetService("contentService");e.GetComponent("renderer"),e.AddComponent("nomineeDetailsComp",{init:function(e){this.$el=e,this.nomineeDetailsName=this.$el.find("#nomineeDetailsName"),this.nomineeDetailsRelationship=this.$el.find("#nomineeDetailsRelationship"),this.nomineeDetailsEmail=this.$el.find("#nomineeDetailsEmail"),this.nomineeDetailsPhone=this.$el.find("#nomineeDetailsPhone"),this.successMsg=this.$el.find(".nomineedetailsContainer__form__msg-area > .success-msg"),this.errorMsg=this.$el.find(".nomineedetailsContainer__form__msg-area > .error-msg"),this.loaderEl=this.$el.find(".loader-cmp"),this.getPersonalInfo(),window.ITC.pubsub.subscribe("personal-info",this.capturePernalInfotData.bind(this)),window.ITC.pubsub.subscribe("pernsonal-info-form-data",this.getData.bind(this)),this.formValidation(e),this.loaderEl.hide(),this.pageTitle=i("#hiddenPageTitle").text();var t=!1;i(".oninput-event").on("input click focus tap",function(e){t||(pushEventToDataLayer("page","form","name",this.pageTitle),analyticSSattelite("Form_Start")),t=!0})},getPersonalInfo:function(){var e,t=cookieToObj(window.ITC.cookie.userInfo);t&&t.memberId&&(t={memberId:t.memberId},this.loaderEl.show(),e=this.$el.data("url"),n.get(e,t,!0).then(function(e){e&&window.ITC.pubsub.publish("pernsonal-info-form-data",e)}))},getData:function(e,t){t=t&&t.listOfItcHotelCqfLoyMember&&t.listOfItcHotelCqfLoyMember.loyMember;t&&0<t.length&&(this.$el.find("#nomineeDetailsName").val(t[0].FName),this.$el.find("#nomineeDetailsEmail").val(t[0].email),this.$el.find("#nomineeDetailsPhone").val(t[0].mob),this.loaderEl.hide())},resetServiceMessages:function(){this.errorMsg.html("").addClass("hide"),this.successMsg.html("").addClass("hide")},formValidation:function(e){var t=this,i=".nomineedetailsContainer-form",a=getObjFromHtml(e.data("message-form"));window.ITC.enableFormForValidation(e.find(i)),e.find(i).validate({submitHandler:t.submitForm.bind(t),onclick:t.resetServiceMessages.bind(t),onkeyup:t.resetServiceMessages.bind(t),onfocusout:function(e){return t.errorMsg.html("").addClass("hide"),t.successMsg.html("").addClass("hide"),!0},rules:{nomineeDetailsName:{required:!0},nomineeDetailsRelationship:{required:!0},nomineeDetailsEmail:{required:!0,email:!0},nomineeDetailsPhone:{required:!0,indianMobile:!0}},messages:{nomineeDetailsName:{required:a.nomineeDetailsName},nomineeDetailsRelationship:{required:a.nomineeDetailsRelationship},nomineeDetailsEmail:{required:a.nomineeDetailsEmail,email:a.nomineeDetailsEmail},nomineeDetailsPhone:{required:a.nomineeDetailsPhone,indianMobile:a.nomineeDetailsValidPhone}}})},capturePernalInfotData:function(e,t){this.capturePernalInfotData=t},submitForm:function(){var e=this.$el.data("url")||"/",t=getObjFromHtml(this.$el.data("message-form")),i=t&&t.apiSuccess?t.apiSuccess:"",a=t&&t.apiError?t.apiError:"",t=cookieToObj(window.ITC.cookie.userInfo);t&&t.memberId&&(t={memberId:t.memberId,nomineeName:this.nomineeDetailsName.val(),relationship:this.nomineeDetailsRelationship.val(),email:this.nomineeDetailsEmail.val().toLowerCase(),mob:this.nomineeDetailsPhone.val()},n.post(e,t,!0).fail(function(){var e;this.errorMsg.html(a).removeClass("hide"),this.successMsg.html("").addClass("hide"),a&&(e=[{layerType:"page",sublLayerType:"form",dataElement:"name",value:this.pageTitle},{layerType:"page",sublLayerType:"error",dataElement:"name",value:a}],pushEventToMulitpleDataLayer(e),analyticSSattelite("Form_Error_Tracking"))}.bind(this)).then(function(e){e&&"Y"==e.resultMsg?(this.errorMsg.html("").addClass("hide"),this.successMsg.html(i).removeClass("hide"),pushEventToDataLayer("page","form","name",this.pageTitle),analyticSSattelite("Form_Submision")):(this.errorMsg.html(e.errorMsg).removeClass("hide"),this.successMsg.html("").addClass("hide"),e=[{layerType:"page",sublLayerType:"form",dataElement:"name",value:this.pageTitle},{layerType:"page",sublLayerType:"error",dataElement:"name",value:e.errorMsg}],pushEventToMulitpleDataLayer(e),analyticSSattelite("Form_Error_Tracking"))}.bind(this)))}})})(window,window.jQuery),(e=>{var n=e.GetComponent("renderer");e.AddComponent("OfferListing",{init:function(e){this.$el=e,window.ITC.pubsub.subscribe("offer",this.getData.bind(this)),window.ITC.pubsub.subscribe("view",this.switchView.bind(this)),this.getUrlParams=getUrlParams(window.location.href),this.hotel=this.getUrlParams?this.getUrlParams.hotel:""},switchView:function(e,t){"listView"==t?this.$el.addClass("list-view"):"gridView"==t&&this.$el.removeClass("list-view")},getData:function(e,t){if(this.$el.find(".itc-offer-listing").data("templateId")){t.totalList=t.totalList.filter(function(t,e,i){return e==i.indexOf(i.filter(function(e){return e.offer.offerCode==t.offer.offerCode})[0])});for(var i,a=0;a<t.totalList.length;a++)this.hotel==t.totalList[a].hotel.value&&((i=document.createElement("span")).id="hotelid",i.setAttribute("data-hotelid",t.totalList[a].hotel.hotelCode),pushEventToDataLayer("page","pageInfo","hotelID",t.totalList[a].hotel.hotelCode),i.className="hide",document.body.appendChild(i));window.ITC.pubsub.publish("offerCount",t.totalList.length),n.init(this.$el.find(".itc-offer-listing"),{dataObject:t.totalList})}}})})(window,window.jQuery),((e,t)=>{e.AddComponent("offerOverview",{init:function(e){this.reserveBtn=t(".offer-overview__reserve-btn"),this.hotelListBtn=t(".offer-overview__list-btn"),this.hotelCallToReserveBtn=t(".offer-overview__call-to-reserve-btn"),this.singleHotelData="",this.reserveBtnClick.apply(this),window.ITC.pubsub.subscribe("total-hotel-offers",this.getTotalObj.bind(this)),1<=this.hotelCallToReserveBtn.length&&this.hotelListBtn.addClass("hide")},getTotalObj:function(e,t){var i=t&&t.hotels||[];this.hotelCallToReserveBtn.length<1&&(1==i.length?(this.reserveBtn.removeClass("hide"),this.reserveBtn.find("span").append(" "+t.hotels[0].title),this.singleHotelData={tab:"accommodation",type:"hotels",list:t.hotels[0]}):1<i.length&&this.hotelListBtn.removeClass("hide"))},reserveBtnClick:function(){var e=this;this.reserveBtn.click(function(){""!=e.singleHotelData&&window.ITC.pubsub.publish("open-fill-accom-data",e.singleHotelData)})}})})(window,window.jQuery),(e=>{e.AddComponent("placeholderAnimation",{init:function(e){function a(e,t,i){d([],t.split(""),e,i)}function n(t,i){setTimeout(function(){for(var e=r[Math.floor(Math.random()*r.length)];e=r[Math.floor(Math.random()*r.length)],t===e;);a(i,e,n)},o)}var t=e.data("delay-after-word")||1500,o=e.data("animation-start")||1500,r=(r=e.data("placeholder-text"))&&(r.values||[]),s=function(e,t){return Math.floor(Math.random()*(t-e+1)+e)},l=function(e,t){e.setAttribute("placeholder",t)},d=function(e,t,i,a){if(!t.length)return"function"==typeof a&&a(e.join(""),i);e.push(t.shift()),setTimeout(function(){l(i,e.join("")),d(e,t,i,a)},s(50,90))};r&&r.length&&setTimeout(function(){a(e[0],r[0],n)},t)}})})(window,window.jQuery),(e=>{e.AddComponent("reactComponent",{init:function(e){}})})(window,window.jQuery),((e,a,t)=>{var s=e.GetService("contentService"),l=null==(t=JSON.parse(null==(t=document.querySelector("#root"))||null==(t=t.dataset)?void 0:t.pks))?void 0:t.csepk,d=""!==l?"true":"false",c=window.crypto||window.msCrypto;e.AddComponent("requestCallForm",{init:function(e){this.$el=e,this.requestCCode=this.$el.find("[name='requestCCode']"),this.successMsg=e.find(".requestCall__backend-success"),this.errorMsg=e.find(".requestCall__backend-error"),this.requestPhone=this.$el.find("#requestPhone"),this.formMsg=this.$el.data("message-form"),this.tncCheckbox=this.$el.find("#tncCheckbox"),this.formContainer=this.$el.find(".form-requestCall-container"),this.loader=e.find(".requestCall__loader"),a("form").get(0).reset();var t=!1,e=(this.formValidation(e),window.ITC.pubsub.subscribe("request-form-data",this.captureFullEnrollmentData.bind(this)),getUserCookie()),i=(a(".oninput-event").on("input click focus tap",function(e){t||(pushEventToDataLayer("page","form","name","requestCall"),analyticSSattelite("Form_Start")),t=!0}),a(".form-requestCall").find("button.dropdown-toggle").siblings(".dropdown-menu"));select2DropdownMenu(i,!1,"India",""),e&&e.member_number&&this.getData(e)},getData:function(e){this.$el.find("#requestPhone").val(e.mobile_number)},formValidation:function(e){var t=".form-requestCall";window.ITC.enableFormForValidation(e.find(t)),e.find(t).validate({submitHandler:this.submitForm.bind(this),rules:{requestCCode:{required:!0},tncCheckbox:{required:!0},requestPhone:{required:!0,indianMobile:{depends:function(){return"+91"==e.find("#requestCountryCode span").text()}}},requestRecaptha:{required:!0}},messages:{requestCCode:{required:this.formMsg.requestCCode},requestPhone:{required:this.formMsg.requestPhone,indianMobile:this.formMsg.requestValidPhone},tncCheckbox:{required:this.formMsg.tncCheckbox},requestRecaptha:{required:this.formMsg.requestRecaptha}}}),e.find(".requestCall-reset").on("click",function(){e.find(".form-requestCall").validate().resetForm(),a(".form-requestCall").find("button.dropdown-toggle").siblings(".dropdown-menu").val("").trigger("change"),e.find(".select2-selection__arrow").removeClass("hide")})},captureFullEnrollmentData:function(e,t){this.enrollmentFormFullData=t},submitForm:function(){var e=this,t=this.$el.data("url")||"/",i=moment().format(),a=this.$el.data("keysValue"),n={"api-version":"1.0","security-id":"660102520e2fc0c54cec5c254afc0e85fab7b3a053c45f20096cfddb15c64302","flow-id":"X6OnFAVw","client-identifier":"123","start-time":i,"contact-numbers":this.requestCCode.val().replace("+","")+this.requestPhone.val(),keysname:"$flow.key.itcagentnum",keysvalue:a};function o(){this.errorMsg.html(this.formMsg.defaultErr).removeClass("hide"),this.successMsg.html("").addClass("hide")}function r(e){e&&"Success"==e["api-response-message"]?(this.loader.addClass("hide"),this.formContainer.hide(),scrollToTop(),this.errorMsg.html("").addClass("hide"),this.successMsg.html(this.formMsg.defaultSuccessMsg).removeClass("hide"),this.$el.data("layerPageName")&&(pushEventToDataLayer("page","form","name","requestCall"),analyticSSattelite("Form_Submision"))):(this.loader.addClass("hide"),this.errorMsg.html(this.formMsg.defaultErr).removeClass("hide"),this.successMsg.html("").addClass("hide"),this.$el.data("layerPageName")&&(e=[{layerType:"page",sublLayerType:"form",dataElement:"name",value:"requestCall"},{layerType:"page",sublLayerType:"error",dataElement:"name",value:e.resultMsg}],pushEventToMulitpleDataLayer(e),analyticSSattelite("Form_Error_Tracking")))}this.loader.removeClass("hide"),c&&"true"==d?initRestAPIDataSecurityService(l,function(){invokeRestAPIWithDataSecurity(t,"post",n,"application/json","json",function(){},function(){},r.bind(e),o.bind(e))}):(n.encrypt="none",s.post(t,n).fail(o.bind(this)).then(r.bind(this)))}})})(window,window.jQuery),((e,T,t)=>{var c=e.GetService("contentService"),i=e.GetComponent("renderer"),n=null==(t=JSON.parse(null==(t=document.querySelector("#root"))||null==(t=t.dataset)?void 0:t.pks))?void 0:t.csepk,h=null==t?void 0:t.oicpk,u=null==t?void 0:t.oicEndPoint,o=null==t?void 0:t.template,m=""!==h?"true":"false",f=window.crypto||window.msCrypto;e.AddComponent("reservationAccomodation",{init:function(i){var a=this;return _asyncToGenerator(_regenerator().m(function e(){var t;return _regenerator().w(function(e){for(;;)switch(e.n){case 0:return a.$el=i,a.selectedObj={},a.skipImmediateAccomBinding=!1,a.accomForm=i.find(".reservation-accom-form"),a.search=i.find("#accomCity"),a.searchObj=i.find("[name='accomSearchObj']"),a.searchType=i.find("[name='accomSearchType']"),a.arrivalDate=i.find("#accomArrivalDate"),a.departDate=i.find("#accomDepartDate"),a.couponType=i.find("#accomCouponType"),a.couponCode=i.find("#accomCouponCode"),a.travelType=i.find("[name='accomTravelType[]']"),a.nearMeClicked=!1,a.loader=i.find(".reservation-accom__loader"),a.locationUrl=i.data("location-url"),a.synxisForm=i.find(".reservation--synxis-form"),a.promoCode=i.data("promo-code"),a.prefillDropDown=i.data("prefill-dropdown"),a.isMemberOffer=i.data("member-offer"),a.memberOnlyMsg=i.data("memberonly-msg"),a.offerExpiredMessage=i.data("offer-expired-message"),a.offerStartDate=i.data("offer-start-date"),a.offerEndDate=i.data("offer-end-date"),a.offerEndFlag=!1,a.todaysBookingDate=getTodaysDate(window.ITC.dateFormat.format1),a.tomorrowBookingDate=getDateInFormat(moment().add(1,"days"),window.ITC.dateFormat.format1),a.closeSearch(),!o||""===o||"hotelpage"!==o&&"offerpage"!==o||a.checkForUTMParameters(),t=a,T(document).ready(function(){t.prefillDropDown&&""!=t.prefillDropDown&&T(".itc-select .dropdown-item").filter('[data-title="'+t.prefillDropDown+'"]').trigger("click")}),a.promoCode&&""!=a.promoCode&&document.getElementById("accomCouponCode").setAttribute("value",a.promoCode),e.n=1,getAuthorizationHeader(n,f);case 1:a.apiAuthHeader=e.v,a.overlayClose(i),a.bindEventForSearchBtn(i),a.getDates(),a.initCalender(),a.initSearchBox(),a.formValidation(i),a.initCurrentLocation(),a.addDateRestriction(),window.ITC.pubsub.subscribe("reservation-accom-data",a.captureFullReservData.bind(a)),window.ITC.pubsub.subscribe("current-location-details",a.bindLocationDetails.bind(a)),window.ITC.pubsub.subscribe("total-hotel-offers",a.captureFullReservData.bind(a)),window.ITC.pubsub.subscribe("open-fill-accom-data",function(e,t){this.skipImmediateAccomBinding=!0,this.bindDefaultValues(e,t)}.bind(a));case 2:return e.a(2)}},e)}))()},checkForUTMParameters:function(){var e=new URLSearchParams(window.location.search);0!==Array.from(e).length&&((e.has("CC")||e.has("cc"))&&(this.prefillDropDown="Coupon Code",this.promoCode=e.get("CC")||e.get("cc")),e.has("PC")||e.has("pc"))&&(this.prefillDropDown="Promo Code",this.promoCode=e.get("PC")||e.get("pc"))},configureApiHeaders:function(){var e={"x-token":cookieToObj(window.ITC.cookie.authToken).token},t=this.apiAuthHeader;return _objectSpread(_objectSpread({},e),t)},getDates:function(){var e,t;this.offerStartDate&&this.offerEndDate?new Date(this.offerStartDate)<new Date(this.todaysBookingDate)&&new Date(this.offerEndDate)<new Date(this.todaysBookingDate)?this.setDates(this.todaysBookingDate,this.tomorrowBookingDate):(e=new Date(this.offerStartDate)<new Date(this.todaysBookingDate)?this.todaysBookingDate:this.offerStartDate,t=getDateInFormat(moment(e).add(1,"days"),window.ITC.dateFormat.format1),this.setDates(e,t)):this.setDates()},overlayClose:function(e){var t=this;T(window.ITC.overlay.reservation).on("hidden.bs.modal",function(){e.find("form").validate().resetForm(),t.resetField(),e.find(".reservation-form-btn").find(".offer-closed")&&e.find(".reservation-form-btn .offer-closed").remove(),t.bindDefaultValues()})},resetField:function(){this.$el.find(".reservation-accom-form")[0].reset(),this.$el.find("#accomCouponTypedropdown").next(".dropdown-menu").find("li:first-child a").trigger("click")},openSearch:function(){this.$el.find(".reservation-accom__search").addClass("active").find(".reservation-accom__recent-search").removeClass("hide")},closeSearch:function(){var a=this;T(document).on("click",function(e){var t="reservation-accom__search",i=e.target.className!=t,e=T(e.target).closest("."+t).length<=0;i&&e&&a.hideRecentSearch()})},initCurrentLocation:function(){var t=this;this.$el.find(".getCurrentLocation").on("click",function(){var e=getObjFromHtml(t.$el.data("message-form")),e={locationBlocked:e.locationBlocked,locationNotFound:e.locationNotFound};t.nearMeClicked=!0,t.loader.removeClass("hide"),getCurrentLocation("destinations",e,t.locationUrl)})},bindLocationDetails:function(e,t){var i,a,n=getObjFromHtml(this.$el.data("message-form")),n={locationBlocked:n.locationBlocked,locationNotFound:n.locationNotFound};this.nearMeClicked&&t&&t.status&&(t.city||t.airport)?(i={type:t.type,list:{}},t.airport?i.list={title:t.airport,value:t.airport.toLowerCase()}:t.city&&(i.list={title:t.city,value:t.city.toLowerCase()}),(a=keyExistInObj(this.reservationFullData,t.type)?this.reservationFullData[i.type].filter(function(e){if(e.title||e.value)return e.title.toLowerCase()==i.list.value||e.value.toLowerCase()==i.list.value}):a)&&0<a.length?(a[0].value&&(i.list.value=a[0].value),this.bindDefaultValues(e,i),this.loader.addClass("hide"),this.nearMeClicked=!1):"airports"!=t.type?getCurrentLocation("airports",n,this.locationUrl):(this.loader.addClass("hide"),this.nearMeClicked=!1)):(this.loader.addClass("hide"),this.nearMeClicked=!1)},initSearchBox:function(){var n=this;this.search.keyup(function(){var e=T(this).val(),t=T(this).data("search-length")||2,i={};e.length>=t&&(i=n.getFilteredList(n.reservationFullData,e,!1),keyValueExist(i))?n.openSearch():n.hideRecentSearch(),n.printSearchValues(i)}),this.search.on("focus",function(){var e=n.search.val();n.offerType&&""==e&&(n.printSearchValues(n.reservationFullData),n.openSearch())}),this.search.on("keypress",function(e){var t,i,a;13!==e.keyCode&&13!==e.which||(e.preventDefault(),e=isJSON(n.searchObj.val())?JSON.parse(n.searchObj.val()):{},i=(t=T(".reservation-accom__recent-search-list li:first > button")).length,a=getObjFromHtml(n.$el.data("message-form")),n.search.val()!=e.title&&i?(t.trigger("click"),n.accomForm.submit()):alert(a.searchSelectMsg))})},setSearch:function(e){var t=e&&0<Object.keys(e).length?Object.keys(e)[0]:"",e=e&&e[t]?e[t][0]:"",i=""!=e?e.title:"";""!=e&&(e=JSON.stringify(e)),this.updateSearchField(i,e,t)},printSearchValues:function(e){var t=T(".reservation-accom__recent-search-list");t.data("templateId")&&i.init(t,e)},getFilteredList:function(e,i,a){var n={},o=["title","value","city","destinationName","destinationValue","aliasName"];return T.each(e,function(e,t){t=t.filter(function(e){var t=!1;return t=e[o[0]]&&stringExist(e[o[0]],i,a)||e[o[1]]&&stringExist(e[o[1]],i,a)||e[o[2]]&&stringExist(e[o[2]],i,a)||e[o[3]]&&stringExist(e[o[3]],i,a)||e[o[4]]&&stringExist(e[o[4]],i,a)||e[o[5]]&&stringExist(e[o[5]],i,a)?!0:t});t.length&&(n[e]=t)}),n},hideRecentSearch:function(){T(".reservation-accom__search").removeClass("active").find(".reservation-accom__recent-search").addClass("hide")},captureFullReservData:function(e,t){"total-hotel-offers"===e?(this.reservationFullData=t,this.bindDefaultValues(),this.offerType=!0):"reservation-accom-data"===e&&(this.skipImmediateAccomBinding?this.skipImmediateAccomBinding=!1:(this.reservationFullData=t,this.bindDefaultValues()))},setDates:function(e,t){getTodaysDate(window.ITC.dateFormat.format1),getDateInFormat(moment().add(1,"days"),window.ITC.dateFormat.format1);e=null!=e?""!=e?e:"":this.todaysBookingDate,t=null!=t?""!=t?t:"":this.tomorrowBookingDate;this.arrivalDate.val(e),this.departDate.val(t),this.$el.find(".reservation-form-btn").find(".offer-closed")&&this.$el.find(".reservation-form-btn .offer-closed").remove(),this.setDateOnWidgetStrip(e,t)},setDateOnWidgetStrip:function(e,t){var i,a,n=1;e&&(e=new Date(e),t=new Date(t),i=getDateInFormat(new Date(e),window.ITC.dateFormat.format3),a=getDateInFormat(new Date(t),window.ITC.dateFormat.format3),n=getDaysDiffFromDates(e,t),T(".reservation-calender__arrive-date").html(i),T(".reservation-calender__depart-date").html(a),T(".reservation-calender__day-count").html(n))},bindDefaultValues:function(e,t){var i,a,n,o,r="",s="",l=(this.$el.data("search-room"),t&&t.list?(r=t.list.value,s=t.type,t.fullList):(r=this.$el.data("search-value")||"",s=this.$el.data("search-type")||"",this.reservationFullData[s]||[]));r&&s&&l.length?0<(l=l.filter(function(e){if(e.value||e.title)return e.value==r||e.title.toLowerCase()==r})).length&&(this.selectedObj=t&&t.list?_objectSpread(_objectSpread({},l[0]),t.list):l[0],this.updateSearchField(this.selectedObj.title,JSON.stringify(this.selectedObj),s)):this.updateSearchField("","",""),this.prefillDropDown&&""!==this.prefillDropDown&&T(".itc-select .dropdown-item").filter('[data-title="'+this.prefillDropDown+'"]').trigger("click"),this.promoCode&&""!==this.promoCode&&this.couponCode.val(this.promoCode),"open-fill-accom-data"==e?(openModal(window.ITC.overlay.reservation),l=new Date,s=new Date,e=new Date,o=n="",i=JSON.stringify(t.list),t.list&&""!==t.list.startDate&&(s=(a=new Date(t.list.startDate.split(" ").join("-")))<l?l:a,e=new Date(s.getTime()+864e5),n=this.getDateLabelsInStringFormat(s),o=this.getDateLabelsInStringFormat(e)),this.setDates(n,o),this.addDateRestriction(i),t.tab&&setTimeout(function(){reservationActiveTab(t.tab)})):this.selectedObj.startDate?this.initCalender(this.selectedObj):(this.getDates(),this.initCalender())},getDateLabelsInStringFormat:function(e){return e.getDate().toLocaleString().padStart(2,"0")+" "+e.toLocaleString("default",{month:"short"})+" "+e.getFullYear()},updateSearchField:function(e,t,i){this.search.val(e),this.searchObj.val(t),this.searchType.val(i),""!=t&&(this.selectedObj=JSON.parse(t))},bindEventForSearchBtn:function(e){var a=this;e.on("click",".reservation-accom__search-val",function(){var e=T(this).find("[name=searched-obj]").val(),t=T(this).find("[name=searched-type]").val(),i=T(this).find("[name=searched-value]").val();a.updateSearchField(i,e,t),a.hideRecentSearch(),a.addDateRestriction(e)})},addDateRestriction:function(t){var e,i={},a=getDateInFormat(new Date,window.ITC.dateFormat.format1);t?((t=JSON.parse(t)).minStay&&(i.minDays=parseFloat(t.minStay)+1),t.maxStay&&(i.maxDays=parseFloat(t.maxStay)+1),t.startDate&&(t.leadTime&&""!=t.leadTime&&0<t.leadTime&&(e=getDaysDiffFromDates(new Date(a),new Date(t.startDate)))<t.leadTime?(e=t.leadTime-e,i.startDate=addOrSubtractDays(t.startDate,e,window.ITC.dateFormat.format1,"add")):i.startDate=t.startDate),t.endDate&&(i.endDate=t.endDate),t.days&&(i.days=t.days,i.beforeShowDay=function(e){return enableDatesByDays(e,t.days)}),this.initCalender(i)):this.offerStartDate&&this.offerEndDate&&(new Date(this.offerStartDate)<new Date(a)&&new Date(this.offerEndDate)<new Date(a)?i.startDate=this.offerStartDate:i.startDate=new Date(this.offerStartDate)<new Date(a)?a:this.offerStartDate,i.endDate=this.offerEndDate,this.initCalender(i))},initCalender:function(e){var t,i,a=T(".date-range-picker").data("dateRangePicker"),n=this.arrivalDate.val(),o=this.departDate.val(),r=_objectSpread({},{bookType:"room",minDays:2}),s=(e?(r=_objectSpread(_objectSpread({},r),e),e.startDate&&(!e.days||(e.days,e.days.length<1))?(t=n&&new Date(n)>new Date(e.startDate)?n:e.startDate,i=(e.minDays?moment(t).add(parseFloat(e.minDays),"days"):moment(t).add(1,"days")).format(window.ITC.dateFormat.format1),this.setDates(t,i)):(e.days&&e.days.length,n&&o?this.setDates(n,o):this.setDates())):this.offerStartDate&&this.offerEndDate&&(new Date(this.offerStartDate)<s&&new Date(this.offerEndDate)<s?r.startDate=getTodaysDate(window.ITC.dateFormat.format1):r.startDate=new Date(this.offerStartDate)<s?getTodaysDate(window.ITC.dateFormat.format1):this.offerStartDate,r.endDate=this.offerEndDate),a&&T(".date-range-picker").data("dateRangePicker").destroy(),new Date(getTodaysDate(window.ITC.dateFormat.format1)));(!r.startDate||new Date(r.startDate)<s)&&(r.startDate=getTodaysDate(window.ITC.dateFormat.format1)),initDateRangePicker(this.$el,r),r.endDate&&new Date(r.endDate)<s?(this.offerEndFlag=!0,T(".date-range-picker").find(".date-picker-wrapper .normal-top").addClass("hide"),T(".date-range-picker").find(".date-picker-wrapper .drp_top-bar").addClass("offer-closed"),T(".date-range-picker").find(".date-picker-wrapper .drp_top-bar").hasClass("offer-closed")&&T(".date-range-picker").find(".date-picker-wrapper .drp_top-bar").html(this.offerExpiredMessage)):this.offerEndFlag=!1},formValidation:function(e){var t=this,i=getObjFromHtml(e.data("message-form"));window.ITC.enableFormForValidation(e.find(".reservation-accom-form")),e.find(".reservation-accom-form").validate({submitHandler:t.submitForm.bind(t),rules:{accomCity:{required:!0},accomArrivalDate:{required:!0},accomDepartDate:{required:!0},"accomTravelType[]":{required:i.travelMandatory,maxlength:1}},messages:{accomCity:{required:i.search},accomArrivalDate:{required:i.arrivalDate},accomDepartDate:{required:i.departDate},accomCouponType:{required:i.promoType},"accomTravelType[]":{required:i.travelType,maxlength:i.travelType}}}),this.couponCode.keyup(function(){T(".member-offer").html(""),T(".member-offer").css("display","none"),0<T(this).val().trim().length?t.couponType.attr("required","true"):(t.couponType.removeAttr("required","true"),t.couponType.valid())}),this.couponType.change(function(){T(".member-offer").html(""),T(".member-offer").css("display","none"),""==T(this).val().trim()&&t.couponCode.length&&(t.couponCode.val(""),T(this).removeAttr("required"))})},createFormElements:function(e){var t=this,i=_objectSpread({},e);Object.keys(i).forEach(function(e){t.synxisForm.append("<input type='text' name='"+e+"' value='"+i[e]+"'/>")})},getAccessToken:function(e,t){var i,a,n,o,r=this,s=u+window.ITC.OIC_API_DETAILS.SYNXIS_TOKEN_GENERATION_API,l=this.configureApiHeaders(),d=cookieToObj(window.ITC.cookie.memberDetails);d&&""!==d&&d.email_address&&""!==d.email_address?(i=function(){1==e?(e+=1,this.getAccessToken(e,t),pushEventToMulitpleDataLayer([{layerType:"page",sublLayerType:"form",dataElement:"name",value:"accomodation-form"},{layerType:"page",sublLayerType:"error",dataElement:"name",value:"User was logged in but failed to get access token for synxis login"}]),analyticSSattelite("Form_Error_Tracking")):(this.synxisForm.submit(),this.synxisForm.html(""),this.captureAnalyticsData(t),pushEventToDataLayer("page","form","name","accomodation-form"),this.loader.addClass("hide"))},a=function(e){e&&e.access_token&&this.synxisForm.append('<input type="text" name="session" value="'+e.access_token+'"/>'),this.synxisForm.submit(),this.synxisForm.html(""),this.captureAnalyticsData(t),pushEventToDataLayer("page","form","name","accomodation-form"),this.loader.addClass("hide")},n={EmailAddress:d.email_address,Source:"WebSite"},f&&"true"==m?initRestAPIDataSecurityService(h,function(){invokeRestAPIWithDataSecurity(s,"post",l,n,"application/json","json",function(){},function(){},a.bind(r),i.bind(r))}):(params.encrypt="none",c.post(s,n,!0).fail(i.bind(this)).then(a.bind(this)))):this.isMemberOffer?(T(".member-offer").html(this.memberOnlyMsg),T(".member-offer").css("display","block"),this.loader.addClass("hide")):((o=this).synxisForm.submit(),this.synxisForm.html(""),this.captureAnalyticsData(t),pushEventToDataLayer("page","form","name","accomodation-form"),setTimeout(function(){o.loader.addClass("hide")},1e3))},captureAnalyticsData:function(e){var t;void 0!==T(".analytics-hidden-element").data("page-name")&&pushEventToDataLayer("page","pageInfo","pageName",T(".analytics-hidden-element").data("page-name")),e&&e.hotel&&(t=[{layerType:"product",sublLayerType:"prodInfo",dataElement:"ID",value:e.hotel},{layerType:"product",sublLayerType:"prodInfo",dataElement:"hotel",value:e.hotel}],pushEventToMulitpleDataLayer(t)),e&&e.city&&(e&&e.hotel?pushEventToDataLayer("product","prodInfo","destination",e.city):(t=[{layerType:"product",sublLayerType:"prodInfo",dataElement:"ID",value:e.city},{layerType:"product",sublLayerType:"prodInfo",dataElement:"destination",value:e.city},{layerType:"product",sublLayerType:"prodInfo",dataElement:"hotel",value:""}],pushEventToMulitpleDataLayer(t))),e&&e.arrive&&pushEventToDataLayer("product","prodInfo","checkInDate",e.arrive),e&&e.depart&&pushEventToDataLayer("product","prodInfo","checkOutDate",e.depart),e&&e.adult&&(0<e.child?(pushEventToDataLayer("product","prodInfo","guests",parseInt(e.adult)+parseInt(e.child)),pushEventToDataLayer("product","prodInfo","child",parseInt(e.child))):pushEventToDataLayer("product","prodInfo","guests",parseInt(e.adult)),pushEventToDataLayer("product","prodInfo","adult",parseInt(e.adult))),e&&e.stayLength&&pushEventToDataLayer("product","prodInfo","stayLength",e.stayLength),e&&e.bookingTime&&pushEventToDataLayer("product","prodInfo","bookingTime",e.bookingTime),e&&e.Promo&&pushEventToDataLayer("product","prodInfo","promo",e.Promo),e&&e.rate&&pushEventToDataLayer("product","prodInfo","rate",e.rate),e&&e.coupon&&pushEventToDataLayer("product","prodInfo","coupon",e.coupon),e&&e.specialCodeType&&pushEventToDataLayer("product","prodInfo","specialCodeType",e.specialCodeType),e&&e.specialCode&&pushEventToDataLayer("product","prodInfo","specialCode",e.specialCode),e&&e.rooms&&pushEventToDataLayer("product","prodInfo","rooms",e.rooms),e&&e.room&&pushEventToDataLayer("product","prodInfo","roomCode",e.room),e&&e.journey&&pushEventToDataLayer("product","prodInfo","journey",e.journey),e&&e.hotelID&&pushEventToDataLayer("page","pageInfo","hotelID",e.hotelID),e&&e.config&&pushEventToDataLayer("page","pageInfo","journey",e.config),analyticSSattelite("Hotel_Booking_Widget")},submitForm:function(e,t){var i=isJSON(this.searchObj.val())?JSON.parse(this.searchObj.val()):{},a=(i.value,this.searchType.val()),n=new Date(this.arrivalDate.val()),o=new Date(this.departDate.val()),r=getDaysDiffFromDates(n,o),s=this.$el.find('[name="reservationRooms"]').val(),l=this.$el.find('[name="reservationAdults"]').val(),d=this.$el.find('[name="reservationChilds"]').val(),c=this.$el.find('[id="accomCouponTypedropdown"]').text().trim(),c=T(".itc-select .dropdown-item").filter('[data-title="'+c+'"]').data("config"),h=this.couponType.val(),u=this.couponCode.val().trim(),m=this.$el.find("[name='accomTravelType[]']:checked").val(),f=this.$el.data("search-room"),p=this.$el.data("offer-code"),g=this.$el.data("room-code"),v=(this.$el.data("promo-code"),this.$el.data("sbe-theme")&&""!==this.$el.data("sbe-theme")?this.$el.data("sbe-theme"):"ITCHL"),b={},w={},y=new Date,C=new Date,_=getObjFromHtml(this.$el.data("message-form")),n=getDateInFormat(n,window.ITC.dateFormat.format2),o=getDateInFormat(o,window.ITC.dateFormat.format2);C.setDate(y.getDate()+1),b.hotelID=i.hotelCode,b.journey=""!=m?m:"no-selection",m=m||i.hotelType||"",c&&""!=c&&"none"!=c&&(m=c),this.offerEndFlag&&this.$el.find(".reservation-form-btn .offer-closed").length<1&&(this.$el.find(".reservation-form-btn").prepend('<div class="offer-closed"></div>'),this.$el.find(".reservation-form-btn .offer-closed").html(this.offerExpiredMessage)),!this.offerEndFlag&&i&&(this.search.val()!=i.title?(this.search.focus(),alert(_.searchSelectMsg)):i.synxisUrl&&(n===getDateInFormat(y,window.ITC.dateFormat.format2)?b.bookingTime="Same Day":n===getDateInFormat(C,window.ITC.dateFormat.format2)?b.bookingTime="Next Day":b.bookingTime="Future Day",b.adult=l,b.arrive=n,b.stayLength=r,i.chainCode&&(b.chain=i.chainCode),b.child=d,m&&""!=m&&(b.config=m.charAt(0).toUpperCase()+m.slice(1)),b.currency=i.currencyCode||"INR",b.depart=o,"hotels"==a?(b.hotel=i.hotelCode,b.level="hotel"):(b.dest=i.value,b.level="chain"),b.locale="en-US",p&&""!=p?b.rate=p:i.offerCode&&(b.rate=i.offerCode),g&&""!=g&&(b.room=g),f&&""!=f?b.room=f:i.roomCode&&""!=i.roomCode&&(b.room=i.roomCode),b.rooms=s,""!=h&&""!=u?b[h]=u:""!=u&&(b.Promo=u),""!=h&&(b.specialCodeType=h),b.specialCode=""!=u?u:"NA",b.theme=v,this.synxisForm.attr("action",i.synxisUrl),this.createFormElements(b),this.loader.removeClass("hide"),(w=_objectSpread({},b)).hotel="hotels"==a?i.title:"",i.city?w.city=i.city:i.destinationName?w.city=i.destinationName:i.title&&(w.city=i.title),this.getAccessToken(1,w)))}})})(window,window.jQuery),((e,c,t)=>{e.GetService("contentService");var s=e.GetComponent("renderer"),h=null==(t=JSON.parse(null==(t=document.querySelector("#root"))||null==(t=t.dataset)?void 0:t.pks))?void 0:t.csepk,u=null==t?void 0:t.oicpk,m=null==t?void 0:t.oicEndPoint,f=""!==u?"true":"false",p=window.crypto||window.msCrypto;e.AddComponent("reservationDining",{init:function(t){var a=this;return _asyncToGenerator(_regenerator().m(function e(){var i;return _regenerator().w(function(e){for(;;)switch(e.n){case 0:return a.$el=t,a.country="",a.hotelTitle="",a.city=a.$el.find("#diningCity"),a.hotel=a.$el.find("#diningHotel"),a.restaurant=a.$el.find("#diningRestaurant"),a.fromDate=a.$el.find("#diningDate"),a.guests=a.$el.find("#diningGuests"),a.time=a.$el.find("#diningTime"),a.name=a.$el.find("#diningName"),a.phone=a.$el.find("#diningPhone"),a.email=a.$el.find("#diningEmail"),a.reservationType=a.$el.find("#reservationType"),a.reservationComments=a.$el.find("#diningComments"),a.successMsg=a.$el.find(".reservation-dining__msg-area > .success-msg"),a.errorMsg=a.$el.find(".reservation-dining__msg-area > .error-msg"),a.formMsg=getObjFromHtml(a.$el.data("message-form")),a.tncCheckbox=a.$el.find("#tncCheckbox"),a.cityTemplateEl=a.$el.find(".dining-city-list"),a.hotelTemplateEl=a.$el.find(".dining-hotel-list"),a.restaurantTemplateEl=a.$el.find(".dining-restaurant-list"),a.timingTemplateEl=a.$el.find(".dining-timeslot-list"),a.recaptcha=a.$el.find("#diningRecaptcha"),a.loader=t.find(".reservation-dining__loader"),i=a,c("#diningDate").on("change.daterenagepicker",function(e){i.restaurant.trigger("change")}),a.prefillValues=a.initPrefiledValues(),a.formValidation(t),a.overlayClose(t),a.initDateFields(),a.addDiningDateRestriction(t),a.bindEventForDropdowns(),window.ITC.pubsub.subscribe("reservation-dining-data",a.captureFullReservData.bind(a)),window.ITC.pubsub.subscribe("fill-reserve-hotel-data",a.bindHotelTileData.bind(a)),window.ITC.pubsub.subscribe("reservation-tab-change",a.tabChanged.bind(a)),c(i.city).on("change",function(){var e=c(this).val(),t=c(i.hotelTemplateEl).children().length-1;e&&1==t?(c(i.hotelTemplateEl).find("li:eq(1) a").trigger("click"),i.getRestaurantDropdown()):e&&(c(i.hotelTemplateEl).addClass("show"),c(i.restaurantTemplateEl).removeClass("show")),i.getHotelDropdown(),i.getToggleDropdown()}),e.n=1,getAuthorizationHeader(h,p);case 1:a.apiAuthHeader=e.v;case 2:return e.a(2)}},e)}))()},getToggleDropdown:function(){var e=this;c("button.dropdown-toggle").not("#diningRestaurantdropdown,#diningHoteldropdown").on("click",function(){e.resetDropdown(".dining-restaurant-list,.dining-hotel-list")}),c("#diningRestaurantdropdown").on("click",function(){c(this).siblings().find(e.restaurantTemplateEl).toggleClass("show"),e.resetDropdown(e.hotelTemplateEl)}),c("#diningHoteldropdown").on("click",function(){c(this).siblings().find(e.hotelTemplateEl).toggleClass("show"),e.resetDropdown(e.restaurantTemplateEl)})},resetDropdown:function(e){c(e).hasClass("show")&&c(e).removeClass("show")},getHotelDropdown:function(){var e=this;c(e.hotel).on("change",function(){c(this).val()&&(c(e.hotelTemplateEl).removeClass("show"),e.getRestaurantDropdown())})},getRestaurantDropdown:function(){var e=this;c(e.restaurantTemplateEl).addClass("show"),c(e.restaurant).on("change",function(){c(this).val()&&c(e.restaurantTemplateEl).removeClass("show")})},getPersonalInfo:function(){var e=cookieToObj(window.ITC.cookie.memberDetails);if(e&&e.member_number)return e},initDateFields:function(){this.fromDate.val(this.prefillValues.date),this.name.val(this.prefillValues.fName),this.email.val(this.prefillValues.emailCookie),this.phone.val(this.prefillValues.phoneCookie)},addDiningDateRestriction:function(e){var t,i;this.formMsg.diningDateRange?(t=getTodaysDate(window.ITC.dateFormat.format1),i=getDateInFormat(moment(t).add(parseInt(this.formMsg.diningDateRange)-1,"days"),window.ITC.dateFormat.format1),initSingleDatePicker(e,{startDate:t,endDate:i})):initSingleDatePicker(e)},initPrefiledValues:function(){var e,t,i,a=this.getPersonalInfo();return a&&(e=a.member_firstname+" "+a.member_lastname,t=a.email_address,i=a.mobile_number),{city:this.$el.data("city")||"",hotel:this.$el.data("hotel")||"",restaurant:this.$el.data("restaurant")||"",date:this.$el.data("date")||getTodaysDate(window.ITC.dateFormat.format1),fName:e,emailCookie:t,phoneCookie:i}},formValidation:function(e){var t=this,i=".reservation-dining-form";window.ITC.enableFormForValidation(e.find(i)),e.find(i).validate({submitHandler:t.submitForm.bind(t),rules:{diningCity:{required:!0},diningHotel:{required:!0},diningRestaurant:{required:!0},diningGuests:{required:!0,digits:!0,min:1,max:t.formMsg.diningGuestCount},diningDate:{required:!0},diningTime:{required:!0},diningName:{required:!0,personName:!0},diningPhone:{required:!0,indianMobile:!0},tncCheckbox:{required:!0},diningEmail:{required:!0,email:!0},diningComments:{required:!1,description:!0},diningRecaptcha:{required:!0}},messages:{diningCity:{required:t.formMsg.diningCity},diningHotel:{required:t.formMsg.diningHotel},diningRestaurant:{required:t.formMsg.diningRestaurant},diningGuests:{required:t.formMsg.diningGuests,digits:t.formMsg.diningGuestMinErr,min:t.formMsg.diningGuestMinErr,max:t.formMsg.diningGuestMaxErr},diningDate:{required:t.formMsg.diningDate},diningTime:{required:t.formMsg.diningTime},tncCheckbox:{required:t.formMsg.tncCheckbox},diningName:{required:t.formMsg.diningName,personName:t.formMsg.diningNameExpressionValidation},diningPhone:{required:t.formMsg.diningPhone,indianMobile:t.formMsg.diningPhone},diningEmail:{required:t.formMsg.diningEmail,email:t.formMsg.diningEmail},diningComments:{required:t.formMsg.diningProperComments,description:t.formMsg.diningProperComments},diningRecaptcha:{required:t.formMsg.diningRecaptcha}}})},tabChanged:function(e,t){this.resetFields(this.$el)},overlayClose:function(e){var t=this;c(window.ITC.overlay.reservation).on("hidden.bs.modal",function(){t.resetFields(e)})},resetFields:function(e){this.$el.find(".reservation-dining-form")[0].reset();var t=this.initPrefiledValues();this.fromDate.val(t.date),this.guests.val(""),this.$el.find("#diningTimedropdown").next(".dropdown-menu").find("li:first-child a").trigger("click"),this.name.val(t.fName),this.phone.val(t.phoneCookie),this.email.val(t.emailCookie),this.reservationComments.val(""),this.$el.find("#diningCitydropdown").next(".dropdown-menu").find("li:first-child a").trigger("click"),this.$el.find("#diningHoteldropdown").next(".dropdown-menu").find("li:first-child a").trigger("click"),this.$el.find("#diningRestaurantdropdown").next(".dropdown-menu").find("li:first-child a").trigger("click"),this.$el.find("#reservationTypedropdown").next(".dropdown-menu").find("li:first-child a").trigger("click"),e.find("form").validate().resetForm(),this.errorMsg.html("").addClass("hide"),this.successMsg.html("").addClass("hide")},captureFullReservData:function(e,t){var i=this;this.reservationFullDataBckup=t,this.reservationFullData=Object.assign({},t),this.reservationFullData.destinations=sortArrObjByKey(this.reservationFullData.destinations,"title"),this.reservationFullData.destinations=this.filterJSON(),this.cityTemplateEl.data("templateId")&&(s.init(this.cityTemplateEl,{result:this.reservationFullData.destinations}),setTimeout(function(){i.fromDate.val(i.prefillValues.date),""!=i.prefillValues.city&&i.cityTemplateEl.find("[data-value='"+i.prefillValues.city+"']").trigger("click"),i.city.trigger("change"),""!=i.prefillValues.hotel&&i.hotelTemplateEl.find("[data-value='"+i.prefillValues.hotel+"']").trigger("click"),i.hotel.trigger("change"),""!=i.prefillValues.restaurant&&i.restaurantTemplateEl.find("[data-value='"+i.prefillValues.restaurant+"']").trigger("click")},0,i))},bindEventForDropdowns:function(){var r=this;this.city.on("change",function(){var e=this.value,e=0<(e=filterData(r.reservationFullData.destinations,"value",e)).length?e[0].hotels:[];r.hotelTemplateEl.data("templateId")&&(s.init(r.hotelTemplateEl,{result:e}),r.hotelTemplateEl.find("li:first-child a").trigger("click"),r.hotel.trigger("change"))}),this.hotel.on("change",function(){var e=this.value,t=0<(t=filterData(r.reservationFullData.destinations,"value",r.city.val())).length?t[0].hotels:[],e=0<(t=filterData(t,"value",e)).length?t[0].restaurants:[];r.country=0<t.length?t[0].country:"",r.hotelTitle=0<t.length?t[0].title:"",r.restaurantTemplateEl.data("templateId")&&(s.init(r.restaurantTemplateEl,{result:e}),r.restaurantTemplateEl.find("li:first-child a").trigger("click"))}),this.restaurant.on("change",function(){var e=this.value,t=filterData(r.reservationFullData.destinations,"value",r.city.val()),i=new Array,t=0<t.length?t[0].hotels:[];t=0<(t=filterData(t,"value",r.hotel.val())).length?t[0].restaurants:[];for(var a=0<(a=filterData(t,"value",e)).length?a[0].restaurantAvailableTimeList:[],n=0;n<a.length;n++){var o=r.getTimeStops(null==(o=a[n])?void 0:o.startTime,null==(o=a[n])?void 0:o.endTime,null==(o=a[n])?void 0:o.applicableDays);i.push.apply(i,_toConsumableArray(o))}""!=r.restaurant.val()&&(0==i.length?(c("#diningTimedropdown").prop("disabled",!0),c(".no-time-slots").text(r.formMsg.diningNoTimeSlots),c(".no-time-slots").removeClass("hide")):(c("#diningTimedropdown").removeAttr("disabled"),c(".no-time-slots").text(""),c(".no-time-slots").toggleClass("hide"))),r.timingTemplateEl.data("templateId")&&(s.init(r.timingTemplateEl,{result:i}),r.timingTemplateEl.find("li:first-child a").trigger("click"))})},getDayInWords:function(e){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][e.getDay()]},getTimeStops:function(e,t,i){var a,n=this.fromDate.val(),o=new Date(n),r=(moment(o).startOf("day"),this.getDayInWords(o)),s=moment(n+" "+e,"DD MMM YYYY HH:mm"),l=moment(n+" "+t,"DD MMM YYYY HH:mm"),d=(d=moment()).add(6,"hours"),c=(l.isBefore(s)&&l.add(1,"day"),[]),h=[];for(a=!(i&&0<i.length)||-1!==(null==i?void 0:i.findIndex(function(e){return e.toUpperCase()===r.toUpperCase()}));s<=l&&a;)c.push(new moment(s).format("DD MMM YYYY HH:mm")),s.add(30,"minutes");for(var u=0;u<c.length;u++)moment(c[u])>=d&&(null!=c[u+1]&&h.push({title:moment(c[u]).format("HH:mm")+"-"+moment(c[u+1]).format("HH:mm")}),u==c.length-1)&&h.splice(u,1);return h},bindHotelTileData:function(e,t){var i=t;i&&i.tab&&setTimeout(function(){reservationActiveTab(t.tab)}),(i||i.list)&&(i.list.cityValue?this.prefillValues.city=i.list.cityValue:i.list.city&&(this.prefillValues.city=i.list.city),i.list.value&&(this.prefillValues.hotel=i.list.value),i.list.restaurant&&(this.prefillValues.restaurant=i.list.restaurant),i.list.date)&&(this.prefillValues.date=i.list.date)},filterJSON:function(){var i=[];return this.reservationFullData.destinations.forEach(function(e){var t=Object.assign({},e),e=e.hotels.filter(function(e){return 0<e.restaurants.length});0<(t.hotels=e).length&&i.push(t)}),i},captureDiningAnalyticsData:function(){void 0!==c(".analytics-hidden-element").data("page-name")&&pushEventToDataLayer("page","pageInfo","pageName",c(".analytics-hidden-element").data("page-name")),""!==this.city.val()&&pushEventToDataLayer("widget","dining","city",this.city.data("title")),""!==this.hotel.val()&&pushEventToDataLayer("widget","dining","hotel",this.hotel.data("title")),""!==this.restaurant.val()&&pushEventToDataLayer("widget","dining","restaurant",this.restaurant.data("title")),""!==this.guests.val()&&pushEventToDataLayer("widget","dining","guests",this.guests.val()),""!==this.fromDate.val()&&pushEventToDataLayer("widget","dining","date",this.fromDate.val()),""!==this.time.val()&&pushEventToDataLayer("widget","dining","timeslot",this.time.val()),""!==this.time.val()&&pushEventToDataLayer("widget","dining","resType",this.reservationType.val()),analyticSSattelite("Dining_Widget")},getRestaurantEmail:function(t,i,a){var e,n="";return n=t&&i&&a?(e=this.reservationFullData.destinations.filter(function(e){return e.value==t})[0].hotels.filter(function(e){return e.value==i})[0].restaurants.filter(function(e){return e.value==a}))&&e[0]?e[0].restaurantEmail:"":n},configureApiHeaders:function(){return _objectSpread({},getAuthorizationHeader(h,p))},submitForm:function(){var d=this;return _asyncToGenerator(_regenerator().m(function e(){var t,i,a,n,o,r,s,l;return _regenerator().w(function(e){for(;;)switch(e.n){case 0:return l=function(e){e&&"SUCCESS"===e.Result?(e=e.Response.split(":").at(1),e=a.replace("${serviceRequestNumber}",e),this.resetFields(this.$el),this.successMsg.html(e).removeClass("hide"),this.errorMsg.html("").addClass("hide"),this.$el.find("#diningTimedropdown").next(".dropdown-menu").find("li:first-child a").trigger("click"),this.$el.find("#diningCitydropdown").next(".dropdown-menu").find("li:first-child a").trigger("click"),this.$el.find("#diningHoteldropdown").next(".dropdown-menu").find("li:first-child a").trigger("click"),this.$el.find("#diningRestaurantdropdown").next(".dropdown-menu").find("li:first-child a").trigger("click"),this.$el.find(".itc-select").each(function(){c(this).find(".dropdown-menu > li >  a")[0].click()}),this.captureDiningAnalyticsData(),c(".analytics-hidden-element").data("page-name")&&pushEventToDataLayer("page","form","name",c(".analytics-hidden-element").data("page-name"))):(this.errorMsg.html(n).removeClass("hide"),this.successMsg.html("").addClass("hide"),c(".analytics-hidden-element").data("page-name")&&(pushEventToMulitpleDataLayer([{layerType:"page",sublLayerType:"form",dataElement:"name",value:"dining-form"},{layerType:"page",sublLayerType:"error",dataElement:"name",value:n}]),analyticSSattelite("Form_Error_Tracking"))),this.loader.addClass("hide")},s=function(){this.errorMsg.html(n).removeClass("hide"),this.successMsg.html("").addClass("hide"),pushEventToMulitpleDataLayer([{layerType:"page",sublLayerType:"form",dataElement:"name",value:"dining-form"},{layerType:"page",sublLayerType:"error",dataElement:"name",value:n}]),analyticSSattelite("Form_Error_Tracking"),this.loader.addClass("hide")},t=m+window.ITC.OIC_API_DETAILS.TABLE_RESERVATION_API,e.n=1,getAuthorizationHeader(h,p);case 1:i=e.v,a=d.formMsg&&d.formMsg.apiSuccess?d.formMsg.apiSuccess:"",n=d.formMsg&&d.formMsg.apiError?d.formMsg.apiError:"",""!=(o=getCookieDetail(window.ITC.cookie.localeData))&&JSON.parse(o),d.loader.removeClass("hide"),d.errorMsg.html("").addClass("hide"),d.successMsg.html("").addClass("hide"),r={Title:"Table Reservation",SRType_c:"CUSTOMER_REQUEST",L1TYPE_c:"TABLE_RESERVATIONS",HotelResort_c:d.hotel.val(),City_c:d.$el.find("#diningCitydropdown > span").text().toUpperCase(),Restaurant_c:d.restaurant.val(),TimeSlot_c:d.time.val().split("-").join(" - "),SpecialRequests_c:d.reservationType.val().replaceAll(/\s/g,"").toUpperCase(),GuestEmail_c:d.email.val(),GuestPhoneNumber_c:d.phone.val(),GuestName_c:d.name.val(),NoOfDiners_c:d.guests.val(),ReservationDate_c:new Date(d.fromDate.val()).toLocaleString("en-IN",{year:"numeric",month:"2-digit",day:"2-digit"}).split("/").reverse().join("-"),AdditionalDetails_c:d.reservationComments.val(),ChannelTypeCd:window.ITC.OIC_API_DETAILS.SOURCE_INFO},dataLayer.push({event:"reservation_request",hotel_name:d.hotelTitle,hotel_city:d.$el.find("#diningCitydropdown > span").text(),hotel_country:d.country,restaurant_name:d.restaurant.val(),number_of_diners:d.guests.val(),date:new Date(d.fromDate.val()).toLocaleString("en-IN",{year:"numeric",month:"2-digit",day:"2-digit"}).split("/").join("-"),time_slot:d.time.val(),special_request:d.reservationType.val()}),p&&"true"==f?initRestAPIDataSecurityService(u,function(){invokeRestAPIWithDataSecurity(t,"post",i,r,"application/json","json",function(){},function(){},l.bind(d),s.bind(d))}):(d.errorMsg.html(n).removeClass("hide"),d.successMsg.html("").addClass("hide"),d.loader.addClass("hide"));case 2:return e.a(2)}},e)}))()}})})(window,window.jQuery),((e,n,t)=>{e.GetService("contentService");var a=e.GetComponent("renderer"),c=null==(t=JSON.parse(null==(t=document.querySelector("#root"))||null==(t=t.dataset)?void 0:t.pks))?void 0:t.csepk,h=null==t?void 0:t.oicpk,u=null==t?void 0:t.oicEndPoint,m=""!==h?"true":"false",f=window.crypto||window.msCrypto;e.AddComponent("reservationMeeting",{init:function(t){var a=this;return _asyncToGenerator(_regenerator().m(function e(){var i;return _regenerator().w(function(e){for(;;)switch(e.n){case 0:return(i=a).$el=t,a.country="",a.hotelTitle="",a.city=a.$el.find("#meetingCity"),a.hotel=a.$el.find("#meetingHotel"),a.event=a.$el.find("#meetingType"),a.toDate=a.$el.find("#meetingDateTo"),a.fromDate=a.$el.find("#meetingDateFrom"),a.guests=a.$el.find("#meetingPersons"),a.name=a.$el.find("#meetingName"),a.phone=a.$el.find("#meetingPhone"),a.rooms=a.$el.find("#meetingRooms"),a.email=a.$el.find("#meetingEmail"),a.meetingComments=a.$el.find("#meetingComments"),a.tncCheckboxMice=a.$el.find("#tncCheckboxMice"),a.meetingTypecheckbox=a.$el.find("[name='meetingTypecheckbox']"),a.successMsg=a.$el.find(".reservation-meeting__msg-area > .success-msg"),a.errorMsg=a.$el.find(".reservation-meeting__msg-area > .error-msg"),a.cityTemplateEl=a.$el.find(".meeting-city-list"),a.hotelTemplateEl=a.$el.find(".meeting-hotel-list"),a.recaptcha=a.$el.find("#meetingRecaptcha"),a.loader=t.find(".reservation-meeting__loader"),a.prefillValues=a.initPrefiledValues(),a.formValidation(t),a.overlayClose(t),a.initDateFields(),initDateRangePicker(t),a.bindEventForDropdowns(),window.ITC.pubsub.subscribe("reservation-meeting-data",a.captureFullReservData.bind(a)),window.ITC.pubsub.subscribe("reservation-tab-change",a.tabChanged.bind(a)),a.$el.data("layerPageName")&&a.$el.data("satellite")&&(pushEventToDataLayer("page","pageInfo","pageName",a.$el.data("layerPageName")),analyticSSattelite("Form_Start")),n(i.city).on("change",function(){var e=n(this).val(),t=n(i.hotelTemplateEl).children().length-1;e&&1==t?n(i.hotelTemplateEl).find("li:eq(1) a").trigger("click"):e&&n(i.hotelTemplateEl).addClass("show"),i.getHotelDropdown(),i.getToggleDropdown()}),e.n=1,getAuthorizationHeader(c,f);case 1:a.apiAuthHeader=e.v;case 2:return e.a(2)}},e)}))()},getPersonalInfo:function(){var e=cookieToObj(window.ITC.cookie.memberDetails);if(e&&e.member_number)return e},getToggleDropdown:function(){var e=this;n("button.dropdown-toggle").not("#meetingHoteldropdown").on("click",function(){e.resetDropdown(".meeting-hotel-list")}),n("#meetingHoteldropdown").on("click",function(){n(this).siblings().find(e.hotelTemplateEl).toggleClass("show")})},resetDropdown:function(e){n(e).hasClass("show")&&n(e).removeClass("show")},getHotelDropdown:function(){var e=this;n(e.hotel).on("change",function(){n(this).val()&&n(e.hotelTemplateEl).removeClass("show")})},initDateFields:function(){this.fromDate.val(this.prefillValues.dateFrom),this.toDate.val(this.prefillValues.dateTo),this.name.val(this.prefillValues.fName),this.email.val(this.prefillValues.emailCookie),this.phone.val(this.prefillValues.phoneCookie)},initPrefiledValues:function(){var e,t,i,a=this.getPersonalInfo();return a&&(e=a.member_firstname+" "+a.member_lastname,t=a.email_address,i=a.mobile_number),{city:this.$el.data("city")||"",hotel:this.$el.data("hotel")||"",dateFrom:this.$el.data("date-from")||getTodaysDate(window.ITC.dateFormat.format1),dateTo:this.$el.data("date-to")||getTodaysDate(window.ITC.dateFormat.format1),fName:e,emailCookie:t,phoneCookie:i}},formValidation:function(e){var t=getObjFromHtml(e.data("message-form")),i=".reservation-meeting-form";window.ITC.enableFormForValidation(e.find(i)),e.find(i).validate({submitHandler:this.submitForm.bind(this),rules:{meetingCity:{required:!0},meetingHotel:{required:!0},meetingPersons:{required:{depends:function(){return""===e.find("#meetingRooms").val()}},digits:!0,min:1,max:t.meetingPersonCount},meetingRooms:{required:{depends:function(){return""===e.find("#meetingPersons").val()}},digits:!0,min:1,max:t.meetingRoomCount},meetingDateFrom:{required:!0},meetingDateTo:{required:!0},meetingName:{required:!0,personName:!0},meetingPhone:{required:!0,indianMobile:!0},meetingEmail:{required:!0,email:!0},tncCheckboxMice:{required:!0},meetingComments:{required:!1,description:!0},meetingRecaptcha:{required:!0}},messages:{meetingCity:{required:t.meetingCity},meetingHotel:{required:t.meetingHotel},meetingPersons:{required:t.meetingPersons,digits:t.meetingMinErr,min:t.meetingMinErr,max:t.meetingMaxErr},meetingRooms:{required:t.meetingRooms,digits:t.meetingRoomMinErr,min:t.meetingRoomMinErr,max:t.meetingRoomMaxErr},meetingDateFrom:{required:t.meetingDateFrom},meetingDateTo:{required:t.meetingDateTo},tncCheckboxMice:{required:t.tncCheckboxMice},meetingName:{required:t.meetingName,personName:t.meetingNameExpressionValidation},meetingPhone:{required:t.meetingPhone,indianMobile:t.meetingPhone},meetingEmail:{required:t.meetingEmail,email:t.meetingEmail},meetingComments:{required:t.meetingProperComments,description:t.meetingProperComments},meetingRecaptcha:{required:t.meetingRecaptcha}}})},tabChanged:function(e,t){this.resetFields(this.$el)},overlayClose:function(e){var t=this;n(window.ITC.overlay.reservation).on("hidden.bs.modal",function(){t.resetFields(e)})},resetFields:function(e){this.$el.find(".reservation-meeting-form")[0].reset();var t=this.initPrefiledValues();this.$el.find("#meetingTypedropdown").next(".dropdown-menu").find("li:first-child a").trigger("click"),this.toDate.val(t.dateTo),this.fromDate.val(t.dateFrom),this.guests.val(""),this.rooms.val(""),this.meetingComments.val(""),this.name.val(t.fName),this.phone.val(t.phoneCookie),this.email.val(t.emailCookie),this.meetingTypecheckbox.each(function(){this.checked=!1}),this.$el.find("#meetingCitydropdown").next(".dropdown-menu").find("li:first-child a").trigger("click"),this.$el.find("#meetingHoteldropdown").next(".dropdown-menu").find("li:first-child a").trigger("click"),e.find("form").validate().resetForm(),this.errorMsg.html("").addClass("hide"),this.successMsg.html("").addClass("hide")},captureFullReservData:function(e,t){var i=this;this.reservationFullDataBckup=t,this.reservationFullData=Object.assign({},t),this.reservationFullData.destinations=sortArrObjByKey(this.reservationFullData.destinations,"title"),this.reservationFullData.destinations=this.filterJSON(),this.cityTemplateEl.data("templateId")&&(a.init(this.cityTemplateEl,{result:this.reservationFullData.destinations}),this.city.trigger("change"),""==i.prefillValues.city&&t&&t.list&&t.list.city&&(this.prefillValues.city=t.list.city),""==i.prefillValues.hotel&&t&&t.list&&t.list.value&&(this.prefillValues.hotel=t.list.value),t.tab&&setTimeout(function(){reservationActiveTab(t.tab)}),setTimeout(function(){i.fromDate.val(i.prefillValues.dateFrom),i.fromDate.val(i.prefillValues.dateTo),""!=i.prefillValues.city&&i.cityTemplateEl.find("[data-value='"+i.prefillValues.city+"']").trigger("click"),i.city.trigger("change"),""!=i.prefillValues.hotel&&i.hotelTemplateEl.find("[data-value='"+i.prefillValues.hotel+"']").trigger("click")},0,i))},bindEventForDropdowns:function(){var i=this;this.city.on("change",function(){var e=this.value,t=0<(t=filterData(i.reservationFullData.destinations,"value",e)).length?t[0].hotels:[];i.hotelTemplateEl.data("templateId")&&(a.init(i.hotelTemplateEl,{result:t}),i.hotelTemplateEl.find("li:first-child a").trigger("click")),""!==e&&pushEventToDataLayer("widget","meetings","destination",e)}),this.hotel.on("change",function(){var e=this.value,t=0<(t=filterData(i.reservationFullData.destinations,"value",i.city.val())).length?t[0].hotels:[],t=filterData(t,"value",e);i.country=0<t.length?t[0].country:"",i.hotelTitle=0<t.length?t[0].title:"",""!==this.value&&pushEventToDataLayer("widget","meetings","hotel",this.value)}),this.event.on("change",function(){""!==this.value&&pushEventToDataLayer("widget","meetings","eventType",this.value)}),this.guests.on("change",function(){""!==this.value&&pushEventToDataLayer("widget","meetings","persons",this.value)}),this.rooms.on("change",function(){""!==this.value&&pushEventToDataLayer("widget","meetings","rooms",this.value)}),this.fromDate.on("change",function(){""!==this.value&&pushEventToDataLayer("widget","meetings","startTime",this.value)}),this.toDate.on("change",function(){""!==this.value&&pushEventToDataLayer("widget","meetings","endTime",this.value)})},filterJSON:function(){return this.reservationFullData.destinations.filter(function(e){return 0<e.hotels.length})},configureApiHeaders:function(){return _objectSpread({},getAuthorizationHeader(c,f))},submitForm:function(){var d=this;return _asyncToGenerator(_regenerator().m(function e(){var t,i,a,n,o,r,s,l;return _regenerator().w(function(e){for(;;)switch(e.n){case 0:return l=function(e){var t;e&&"SUCCESS"===e.Result?(t=e.Response.split(":").at(1),t=a.replace("${serviceRequestNumber}",t),this.resetFields(this.$el),this.successMsg.html(t).removeClass("hide"),this.errorMsg.html("").addClass("hide"),this.$el.find("#meetingCitydropdown").next(".dropdown-menu").find("li:first-child a").trigger("click"),this.$el.find("#meetingHoteldropdown").next(".dropdown-menu").find("li:first-child a").trigger("click"),this.$el.data("layerPageName")&&(pushEventToDataLayer("page","form","name",this.$el.data("layerPageName")),analyticSSattelite("Form_Submision"))):(this.errorMsg.html(n).removeClass("hide"),this.successMsg.html("").addClass("hide"),this.$el.data("layerPageName")&&(t=[{layerType:"page",sublLayerType:"form",dataElement:"name",value:this.$el.data("layerPageName")},{layerType:"page",sublLayerType:"error",dataElement:"name",value:e.Result}],pushEventToMulitpleDataLayer(t),analyticSSattelite("Form_Error_Tracking"))),this.loader.addClass("hide")},s=function(){var e;this.errorMsg.html(n).removeClass("hide"),this.successMsg.html("").addClass("hide"),this.$el.data("layerPageName")&&(e=[{layerType:"page",sublLayerType:"form",dataElement:"name",value:this.$el.data("layerPageName")},{layerType:"page",sublLayerType:"error",dataElement:"name",value:n}],pushEventToMulitpleDataLayer(e),analyticSSattelite("Form_Error_Tracking")),this.loader.addClass("hide")},t=u+window.ITC.OIC_API_DETAILS.LEAD_REQUEST_API,e.n=1,getAuthorizationHeader(c,f);case 1:i=e.v,o=getObjFromHtml(d.$el.data("message-form")),a=o&&o.apiSuccess?o.apiSuccess:"",n=o&&o.apiError?o.apiError:"",""!=(o=getCookieDetail(window.ITC.cookie.localeData))&&JSON.parse(o),d.loader.removeClass("hide"),d.errorMsg.html("").addClass("hide"),d.successMsg.html("").addClass("hide"),r={LeadType_c:"Weddings"===d.event.val()||"Socials"===d.event.val()?"Wedding-Social":"MICE-W",Destination_c:getCapitalizedString(d.$el.find("#meetingCitydropdown > span").text()),HotelFcl_c:d.hotel.val(),NoOfGuest_c:d.guests.val(),EventStartDate1_c:new Date(d.fromDate.val()).toLocaleString("en-IN",{year:"numeric",month:"2-digit",day:"2-digit"}).split("/").reverse().join("-"),EventEndDate1_c:new Date(d.toDate.val()).toLocaleString("en-IN",{year:"numeric",month:"2-digit",day:"2-digit"}).split("/").reverse().join("-"),NumberOfRooms_c:d.rooms.val(),Description:d.meetingComments.val(),Name:d.name.val(),PrimaryPhoneNumber:d.phone.val(),PrimaryContactEmailAddress:d.email.val(),Roomrequired_c:"N",ChannelType:window.ITC.OIC_API_DETAILS.LEAD_SOURCE_INFO},dataLayer.push({event:"wedding_request",hotel_name:d.hotelTitle,hotel_city:d.$el.find("#meetingCitydropdown > span").text(),hotel_country:d.country,number_of_rooms:d.rooms.val(),nature_of_event:d.event.val(),number_of_guests:d.guests.val(),event_start_date:new Date(d.fromDate.val()).toLocaleString("en-IN",{year:"numeric",month:"2-digit",day:"2-digit"}).split("/").join("-"),event_end_date:new Date(d.toDate.val()).toLocaleString("en-IN",{year:"numeric",month:"2-digit",day:"2-digit"}).split("/").join("-"),rooms_requirement:d.$el.find("[name='meetingTypecheckbox']:checked").val()}),f&&"true"==m?initRestAPIDataSecurityService(h,function(){invokeRestAPIWithDataSecurity(t,"post",i,r,"application/json","json",function(){},function(){},l.bind(d),s.bind(d))}):(d.errorMsg.html(n).removeClass("hide"),d.successMsg.html("").addClass("hide"),d.loader.addClass("hide"));case 2:return e.a(2)}},e)}))()}})})(window,window.jQuery),((e,n)=>{var r=e.GetService("contentService");e.AddComponent("reservationWidget",{init:function(e){this.$el=e,this.hideOverlayClickOut(e,"reservation-overlay"),this.onOverlayShow(e),this.onTabChange(),this.captureDataAnalytics(),this.onOverlapTop(e)},hideOverlayClickOut:function(e,a){n(document).on("click",function(e){var t=n(e.target).attr("id")==a,e=0<n(e.target).closest(window.ITC.overlay.reservation).length,i=n("#"+a);t||e||!i.length||i.modal("hide")})},onOverlayShow:function(i){var a=this;n(window.ITC.overlay.reservation).on("show.bs.modal",function(){var e=i.data("default-tab"),t=a;reservationActiveTab(e),a.getReservationData(),setTimeout(function(){var e=n(i).find("#reservation-overlay");n(e).hasClass("show")&&t.downloadAppBanner(e)},200)})},onOverlapTop:function(e){var t;n(e).hasClass("overlap-top")&&0<(t=n(document).find(".itc-headMask--video")).length&&(t=n(t).find("video"),n(t)[0],0<n("video:is([controls])").length)&&n(e).css("bottom","3rem")},downloadAppBanner:function(e){0<n(document).find(".smartbanner").length?n(e).addClass("add-height"):n(e).hasClass("add-height")&&n(e).removeClass("add-height")},getReservationData:function(){var e=getCookieDetail(window.ITC.cookie.diningData),t=getCookieDetail(window.ITC.cookie.accomodationData),i=getCookieDetail(window.ITC.cookie.meetingData),a=this.$el.data("api-url"),n=this.$el.data("accom-url"),o=this.$el.data("meeting-url");""!=e?(e=JSON.parse(e.replace(/\+/g," ")),e=orderHotelsByBrand(e),window.ITC.pubsub.publish("reservation-dining-data",e)):r.get(a).then(function(e){e&&(e=orderHotelsByBrand(e),window.ITC.pubsub.publish("reservation-dining-data",e))}),""!=i?(i=JSON.parse(i.replace(/\+/g," ")),i=orderHotelsByBrand(i),window.ITC.pubsub.publish("reservation-meeting-data",i)):r.get(o).then(function(e){e&&(e=orderHotelsByBrand(e),window.ITC.pubsub.publish("reservation-meeting-data",e))}),""!=t?(t=JSON.parse(t.replace(/\+/g," ")),window.ITC.pubsub.publish("reservation-accom-data",t)):r.get(n).then(function(e){e&&window.ITC.pubsub.publish("reservation-accom-data",e)})},captureDataAnalytics:function(){this.$el.find(".itc-tabs > .itc-tabs__navlist > .itc-tabs__nav-item").on("click",function(){n(this).hasClass("tab-dining")?pushEventToDataLayer("page","pageInfo","pageName","Dining"):n(this).hasClass("tab-meetings-events")?pushEventToDataLayer("page","pageInfo","pageName","Meetings & Events"):n(this).hasClass("tab-accommodation")?pushEventToDataLayer("page","pageInfo","pageName","Accommodation"):n(this).hasClass("tab-wedding")&&pushEventToDataLayer("page","pageInfo","pageName","Plan Your Dream Wedding")})},onTabChange:function(){this.$el.find(".itc-tabs .itc-tabs__nav-trigger").on("click",function(){window.ITC.pubsub.publish("reservation-tab-change",{})})}})})(window,window.jQuery),((e,h)=>{var i=e.GetComponent("renderer");e.AddComponent("RoomsUserOverlay",{init:function(e){this.el=e,this.counterButtons(e),this.initCloseOverlay(e),this.initAddRoomBtn(e),this.getValues(e),this.initDeleteRow(e),this.addRooms(!0)},initAddRoomBtn:function(e){e.find(".room-user-overlay__add-room").click(this.addRooms.bind(this,!1))},addRooms:function(e){var t=this.el.find(".room-user-overlay__template");this.roomObj.length<this.roomsMax&&!e&&this.roomObj.push(this.defaultRoomObj),t.data("templateId")&&(i.init(t,{result:this.roomObj}),this.updateInputFields(this))},counterButtons:function(e){var c=this,t=h(".reservation-accom__room-user > .dropdown-menu").parent();stopClosingBS4Dropdown(t),e.on("click",".counter-button",function(e){e.preventDefault();var e=h(this).closest(".room-user-overlay__table-row"),t=h(this).hasClass("inc-button"),i=h(this).closest("div").find("input[type=number]"),a=i.val(),n=0<h(this).closest(".room-user-overlay__adult-counter").length,o=0<h(this).closest(".room-user-overlay__child-counter").length,r=0,s=0,l=0,d=h(this).closest(".room-user-overlay__table-row").data("index"),a=""===a?0:a;if(n?(s=e.find(".counter-input-child").val(),r=parseFloat(a)+parseFloat(s)):o&&(l=e.find(".counter-input-adult").val(),r=parseFloat(a)+parseFloat(l)),t&&r<c.totalCount){if(n&&a>=c.adultsMax||o&&a>=c.childsMax)return;a=parseFloat(a)+1}else if(!t&&0<a){if(n&&a<=c.adultsMin||o&&a<=c.childsMin)return;a=parseFloat(a)-1}i.val(a),c.roomObj[d]={adults:n?a:l,childs:o?a:s},c.updateInputFields()})},initCloseOverlay:function(e){var t=this;h(".room-user-overlay__close").on("click",function(){h(this).closest(".reservation-accom__room-user").find("#reservation-room-user-btn").trigger("click")}),h(window.ITC.overlay.reservation).on("hidden.bs.modal",function(){t.resetFields(e,t)})},resetFields:function(e,t){h('[name="reservationRooms"]').val("1"),h('[name="reservationAdults"]').val("1"),h('[name="reservationChilds"]').val("0"),e.find(".counter-input-adult").val("1"),e.find(".counter-input-child").val("0");for(var i=e.find(".room-user-overlay__table-row").length;1<i;i--)e.find(".room-user-overlay__table-row .room-user_delete .room-user-overlay__delete-room").trigger("click");h(".reservation-rooms-count").html("1"),h(".reservation-users-adult-count").html("1"),h(".reservation-users-child-count").html("0"),e.find(".counter-input-adult")[0].defaultValue="1",e.find(".counter-input-child")[0].defaultValue="0",t.getValues(e)},initDeleteRow:function(e){var t=this;e.on("click",".room-user-overlay__delete-room",function(){var e=h(this).closest(".room-user-overlay__table-row").data("index");t.roomObj.splice(e,1),t.addRooms(!0),t.updateInputFields()})},getValues:function(e){var t=this;this.roomsMax=parseFloat(e.data("rooms-max")||"4"),this.roomsMin=parseFloat(e.data("rooms-min")||"1"),this.adultsMax=parseFloat(e.data("adults-max")||"3"),this.adultsMin=parseFloat(e.data("adults-min")||"1"),this.childsMax=parseFloat(e.data("childs-max")||"2"),this.childsMin=parseFloat(e.data("childs-min")||"0"),this.totalCount=parseFloat(e.data("total-count")||"4"),this.defaultRoomObj={adults:t.adultsMin,childs:t.childsMin},this.roomObj=[],h.each(new Array(this.roomsMin),function(e){t.roomObj.push(t.defaultRoomObj)})},updateInputFields:function(){var e=this.el.find(".counter-input-adult").length,t=0,i=0;this.el.find(".counter-input-adult").each(function(){t+=parseFloat(h(this).val())}),this.el.find(".counter-input-child").each(function(){i+=parseFloat(h(this).val())}),h(".reservation-rooms-count").html(e),h("[name=reservationRooms]").val(e),1<e?(h(".reservation-rooms-text").addClass("hide"),h(".reservation-rooms-more").removeClass("hide")):(h(".reservation-rooms-text").removeClass("hide"),h(".reservation-rooms-more").addClass("hide")),h(".reservation-users-adult-count").html(t),h("[name=reservationAdults]").val(t),1<t?(h(".reservation-users-adult-text").addClass("hide"),h(".reservation-users-more").removeClass("hide")):(h(".reservation-users-adult-text").removeClass("hide"),h(".reservation-users-more").addClass("hide")),h(".reservation-users-child-count").html(i),h("[name=reservationChilds]").val(i),1<i?(h(".reservation-users-child-text").addClass("hide"),h(".reservation-users-child-more").removeClass("hide")):(h(".reservation-users-child-text").removeClass("hide"),h(".reservation-users-child-more").addClass("hide"))}})})(window,window.jQuery),((e,t)=>{e.AddComponent("reserveButton",{init:function(e){e.on("click",function(){var e=t(this).data("current-obj");e&&"dining"==e.tab&&window.ITC.pubsub.publish("fill-reserve-hotel-data",e),e&&"meetings-events"==e.tab&&window.ITC.pubsub.publish("reservation-meeting-data",e),e&&e.prepopulateDataTab&&"dining"==e.prepopulateDataTab&&e.list&&window.ITC.pubsub.publish("fill-reserve-hotel-data",e),openModal(window.ITC.overlay.reservation),setTimeout(function(){e&&"accommodation"==e.tab&&e.list&&window.ITC.pubsub.publish("open-fill-accom-data",e)},500,e)})}})})(window,window.jQuery),(e=>{var r=e.GetComponent("renderer");e.AddComponent("RestaurantListing",{init:function(e){this.$el=e,window.ITC.pubsub.subscribe("restaurant",this.getData.bind(this)),this.getUrlParams=getUrlParams(window.location.href),this.hotel=this.getUrlParams?this.getUrlParams.hotel:""},getData:function(e,o){if(this.$el.find(".itc-restaurantListing").data("templateId")){for(var t=0;t<o.totalList.length;t++)(i=>{var a="",n="";o.totalList[i].cuisine.forEach(function(e,t){0==t?a=e.title:a+=", "+e.title}),o.totalList[i].mealPeriod.forEach(function(e,t){0==t?n=e.title:t==o.totalList[i].mealPeriod.length-1?n+=" & "+e.title:n+=", "+e.title}),o.totalList[i].cuisines=a,o.totalList[i].mealPeriods=n})(t);for(var i,a=0;a<o.totalList.length;a++)this.hotel==o.totalList[a].hotel.value&&((i=document.createElement("span")).id="hotelid",i.setAttribute("data-hotelid",o.totalList[a].hotel.hotelCode),i.className="hide",document.body.appendChild(i),pushEventToDataLayer("page","pageInfo","hotelID",o.totalList[a].hotel.hotelCode));var n=[],n=0!==(n=0<o.totalList.length?getFilteredRestaurantList(o.totalList,window.location.search):n).length?n:o.totalList;this.$el.parents().siblings().find(".global-filters> *").find(".global-filters__total-results-count").text(n.length),r.init(this.$el.find(".itc-restaurantListing"),{dataObject:n})}}})})(window,window.jQuery),((e,i)=>{e.AddComponent("scrollToPosition",{init:function(e){this.$el=e,this.scrollEl=e.data("container-selector"),this.scrollStopPos=e.data("scroll-stop-pos"),this.bindEvents()},bindEvents:function(){var t=this;this.$el.on("click",function(){var e=i(t.scrollEl);if(t.scrollEl&&""!=t.scrollEl&&e.length)return e=0,e=null!=t.scrollStopPos?t.scrollStopPos:110<(e=i(t.scrollEl).offset().top-110)?e:110,i("html, body").animate({scrollTop:e},500),!1})}})})(window,window.jQuery),((e,o)=>{var n=e.GetService("contentService"),t=e.GetComponent("renderer");e.AddComponent("searchBox",{init:function(e){this.$el=e,this.config=e.data("config"),this.searchIcon=e.find(".search-box__btn-search"),this.closeIcon=e.find(".search-box__btn-close"),this.searchField=e.find(".search-box__field"),this.listingArea=e.find(".search-box__content-area"),this.searchOverlay=e.find(".search-box__overlay"),this.bindEvents(),this.hideOverlayClickOut("search-box")},bindEvents:function(){var a=this;this.searchIcon.on("click",function(){a.searchOverlay.toggleClass("hide")}),this.closeIcon.on("click",function(){a.searchOverlay.toggleClass("hide")}),this.searchField.on("keyup",debounce(function(e){var t=a.getConfigValue("minSearchLength"),e=o(e.target).val().trim().length;(""!=t?parseFloat(t):3)<=e?a.getSearchData():a.listingArea.html("")},200)),this.$el.on("click",".search-box__content-list-btn",function(){var e=o(this).data("value"),t=a.getConfigValue("searchPageTarget"),i=a.getConfigValue("searchPageUrl"),e=e?e.trim():"",t=""!=t?t:"_blank",i=""!=i?i:"/";localStorage.setItem("search-key",e),window.open(i,t)})},getConfigValue:function(e){var t="";return t=this.config&&""!=this.config&&e?null!=this.config[e]?this.config[e]:"":t},getSearchData:function(){var t=this,e={},i=this.getConfigValue("resourceUrl"),a=(a=this.searchField.val()||"").trim();e.searchKey=a,""!=i&&""!=a&&n.get(i,e,!0).fail(function(){}).then(function(e){e&&0<e.length?t.printListingValues(e):(e=[{layerType:"page",sublLayerType:"pageInfo",dataElement:"pageName",value:o(".analytics-hidden-element").data("page-name")},{layerType:"internal",sublLayerType:"search",dataElement:"term",value:a}],pushEventToMulitpleDataLayer(e),analyticSSattelite("Null_Search"))})},printListingValues:function(e){this.listingArea.data("templateId")&&t.init(this.listingArea,{results:e})},hideOverlayClickOut:function(a){var n=this;o(document).on("click",function(e){var t=o(e.target).attr("class"),t=!!t&&-1<t.indexOf(a),e=0<o(e.target).closest("."+a).length,i=o("."+a);t||e||!i.length||n.searchOverlay.addClass("hide")})}})})(window,window.jQuery),((e,n)=>{var o=e.GetService("contentService"),i=e.GetComponent("renderer");e.AddComponent("searchListing",{init:function(e){this.$el=e,this.fullSearchObj=[],this.config=e.data("config"),this.searchField=e.find(".search-listing__field"),this.searchBtn=e.find(".search-listing__btn-search"),this.listingArea=e.find(".search-listing__content-area"),this.searchContentHeading=e.find(".search-hotel-listing-item"),this.resultInfo=e.find(".search-listing__result-info"),this.loader=e.find(".search-listing__loader"),this.msgInfo=e.find(".search-listing__msg-info"),this.startIndex=0,this.minOnLoad=this.getConfigValue("minOnLoad"),this.minOnBtnLoad=this.getConfigValue("minOnBtnLoad"),this.minOnLoad=""!=this.minOnLoad?parseFloat(this.minOnLoad):5,this.minOnBtnLoad=""!=this.minOnBtnLoad?parseFloat(this.minOnBtnLoad):5,this.getSearchVal(),this.bindEvents(),this.getSearchData()},getSearchKey:function(){return localStorage.getItem("search-key")},setLatestSearchKey:function(e){localStorage.setItem("search-key",e)},getSearchVal:function(){var e=this.getSearchKey();this.searchField.val(e)},showOrHideLoadMoreBtn:function(){var e=this.$el.find(".search-listing__load-more"),t=this.fullSearchObj.length;this.startIndex<t?e.removeClass("hide"):e.addClass("hide")},getSpecificRecords:function(e,t,i){var a=[];return e&&e.length&&(a=e.slice(t,t+i),this.startIndex=this.startIndex+i),a},bindEvents:function(){var a=this;this.searchField.keyup(function(e){var t=a.getConfigValue("minSearchLength"),i=n(this).val().trim().length,t=""!=t?parseFloat(t):3;13==e.keyCode&&t<=i&&a.getSearchData()}),this.searchBtn.on("click",function(){a.getSearchData()}),this.$el.on("click",".search-listing__load-more",function(){a.printListingValues(a.minOnBtnLoad)})},getConfigValue:function(e){var t="";return t=this.config&&""!=this.config&&e?null!=this.config[e]?this.config[e]:"":t},getSearchData:function(){var i=this,e={},t=this.getConfigValue("resourceUrl"),a=(a=this.searchField.val()||"").trim();e.searchKey=a,this.loader.removeClass("hide"),""!=t&&""!=a&&o.get(t,e,!0).fail(function(){i.msgInfo.html(i.getConfigValue("apiError")).removeClass("hide"),i.loader.addClass("hide")}).then(function(e){var t;i.msgInfo.html("").addClass("hide"),e&&0<e.length?(t=[{layerType:"page",sublLayerType:"pageInfo",dataElement:"pageName",value:n(".analytics-hidden-element").data("page-name")},{layerType:"internal",sublLayerType:"search",dataElement:"term",value:i.searchField.val()},{layerType:"internal",sublLayerType:"search",dataElement:"results",value:e.length}],pushEventToMulitpleDataLayer(t),analyticSSattelite("Internal_Search"),i.fullSearchObj=e):(i.fullSearchObj=[],t=[{layerType:"page",sublLayerType:"pageInfo",dataElement:"pageName",value:n(".analytics-hidden-element").data("page-name")},{layerType:"internal",sublLayerType:"search",dataElement:"term",value:i.searchField.val()}],pushEventToMulitpleDataLayer(t),analyticSSattelite("Null_Search")),i.setLatestSearchKey(i.searchField.val()),i.printResultInfo(),i.printListingValues(i.minOnLoad,!0),i.loader.addClass("hide")})},printResultInfo:function(){var e={count:this.fullSearchObj.length,searchKey:this.searchField.val()};this.resultInfo.data("templateId")&&i.init(this.resultInfo,e)},printListingValues:function(e,t){t&&(this.listingArea.html(""),this.startIndex=0);t=this.getSpecificRecords(this.fullSearchObj,this.startIndex,e);this.listingArea.data("templateId")&&i.init(this.listingArea,{results:t,searchKey:this.searchField.val()},!0),this.showOrHideLoadMoreBtn()}})})(window,window.jQuery),((e,t)=>{e.AddComponent("socialHandles",{init:function(e){this.socialClick(e)},socialClick:function(e){e.find(".social-handles__social-click").on("click",function(){var e=t(this).closest(".social-handles__social-icon").find(".social-handles__social-link").hasClass("hide");t(".social-handles__social-icon").find(".social-handles__social-link, .triangle-down-css").addClass("hide"),e?t(this).closest(".social-handles__social-icon").find(".social-handles__social-link, .triangle-down-css").removeClass("hide"):t(this).closest(".social-handles__social-icon").find(".social-handles__social-link, .triangle-down-css").addClass("hide")}),t("document").not(".social-handles__social-click").click(function(){t(".social-handles__social-icon").find(".social-handles__social-link, .triangle-down-css").removeClass("hide")})}})})(window,window.jQuery),((e,o,t)=>{var d=e.GetService("contentService"),a=null==(t=JSON.parse(null==(t=document.querySelector("#root"))||null==(t=t.dataset)?void 0:t.pks))?void 0:t.csepk,c=null==t?void 0:t.oicpk,h=null==t?void 0:t.oicEndPoint,u=""!==c?"true":"false",m=window.crypto||window.msCrypto;e.AddComponent("sso",{init:function(t){var i=this;return _asyncToGenerator(_regenerator().m(function e(){return _regenerator().w(function(e){for(;;)switch(e.n){case 0:return i.$el=t,e.n=1,getAuthorizationHeader(a,m);case 1:i.apiAuthHeader=e.v,i.attachEvents();case 2:return e.a(2)}},e)}))()},attachEvents:function(){var t=this;this.$el.on("click",function(e){e.preventDefault(),o(document).find("body").append("<div class='sso-loader loader-cmp'><div class='spinner-border'></div></div>"),t.$el.attr("disabled")||(t.$el.attr("disabled","disabled"),t.getAccessToken())})},createAndSubmitForm:function(e,a){var t=this.$el.data("sso-target"),i=this.$el.parent(),n=o("<form>",{action:e,method:"post",id:"sso-form",name:"sso-form",target:t||"_self"});a&&Object.keys(a).forEach(function(e,t){var i="session"!=e?"sso-":"";n.append(o("<input>",{type:"hidden",id:i+e,name:i+e,value:a[e]}))}),i.append(n),o("#sso-form").trigger("submit"),i.find("#sso-form").remove(),this.$el.removeAttr("disabled"),o(document).find("body > .sso-loader").remove()},configureApiHeaders:function(){var e={"x-token":cookieToObj(window.ITC.cookie.authToken).token},t=this.apiAuthHeader;return _objectSpread(_objectSpread({},e),t)},getAccessToken:function(){var e,t,i,a=this,n=this.$el.data("sso-url"),o=getUrlParams(n),r=h+window.ITC.OIC_API_DETAILS.SYNXIS_TOKEN_GENERATION_API,s=this.configureApiHeaders(),l=cookieToObj(window.ITC.cookie.memberDetails);l&&""!==l&&l.email_address&&""!==l.email_address?(e=function(){this.createAndSubmitForm(n,o)},t=function(e){e&&e.access_token&&(o.session=e.access_token),this.createAndSubmitForm(n,o)},i={EmailAddress:l.email_address,Source:"WebSite"},m&&"true"==u?initRestAPIDataSecurityService(c,function(){invokeRestAPIWithDataSecurity(r,"post",s,i,"application/json","json",function(){},function(){},t.bind(a),e.bind(a))}):(params.encrypt="none",d.post(r,i,!0).fail(e.bind(this)).then(t.bind(this)))):this.createAndSubmitForm(n,o)}})})(window,window.jQuery),((e,u)=>{e.AddComponent("tabComp",{init:function(e){var s=this,a=e.find(".itc-dropdown__dropbtn"),n=e.find(".itc-dropdown__content"),t=e.find(".itc-tabs__left-arrow"),i=e.find(".itc-tabs__right-arrow");this.tabIndex=1,this.$el=e,this.dropdownBtn=a,this.dropdownContent=n,this.leftArrowBtn=t,this.rightArrowbtn=i,this.hideTabDropdownClickOut("itc-dropdown"),this.leftArrowBtn.on("click",function(){var e=u(this).closest(".itc-tabs__item").attr("aria-posinset");s.moveTabPanel(Number(e)-1,e)}),this.rightArrowbtn.on("click",function(){var e=u(this).closest(".itc-tabs__item").attr("aria-posinset");s.moveTabPanel(Number(e)+1,e)}),e.on("click",a,function(e){u(e.target).hasClass("itc-dropdown__dropbtn")&&(e.preventDefault(),e.stopPropagation(),u(e.target).parent().find(".itc-dropdown__content").toggleClass("hide"))}),e.on("click",n.find("li button"),function(e){var t,i;u(e.target).closest(".itc-dropdown__content").length&&(e.stopPropagation(),e.preventDefault(),i=u(e.target).text(),t=u(e.target).parent().attr("id"),a.text(i),u(e.target).parents(".itc-dropdown__content").toggleClass("hide"),i=u(e.target).parent().attr("id"),e=u(e.target).parents(".itc-tabs").attr("id"),i=u("#"+e).find(".itc-tabs__nav-item").find("#"+i)[0],u("#"+e).hasClass("dropdown"))&&(s.setActiveAndInactive(i,this,e),s.setSlickSliderOnClick(t))}),u(document).mouseup(function(e){var t=n;t.is(e.target)||t.has(e.target).length});var l=[37,38,39,40],d=13,c=32,o=33,h=34;(e=e).each(function(){var r=u(this).find(".itc-tabs__navlist");e.on("keydown",".itc-tabs__nav-item .itc-tabs__nav-trigger",function(e){var t,i=e.which,a=e.target,n=u(a).attr("id"),o=e.target.parentNode.parentNode.parentNode.id;-1<u.inArray(i,l)?(t=s.findAdjacentTab(a,r,i))&&(e.preventDefault(),t.focus(),s.setActiveAndInactive(t,r,o),s.setSlickSliderOnClick(n)):i===d||i===c?(e.preventDefault(),a.click(),s.setSlickSliderOnClick(n)):i===h&&(e.preventDefault(),t=u("#"+this.getAttribute("aria-controls")))&&(t.focus(),s.setSlickSliderOnClick(n))}),e.on("click",".itc-tabs__nav-item .itc-tabs__nav-trigger",function(){var e=u(this).closest(".itc-tabs").attr("id"),t=u("#"+e).find(".itc-tabs__nav-item.is-active .itc-tabs__nav-trigger")[0],i=u(this).attr("id"),a=window.navigator.userAgent.indexOf("MSIE ");n.find("#"+i+" button").trigger("click"),t!==u(this)[0]&&-1!==a&&(a={previousTarget:t,newTarget:u(this)[0]},t=new CustomEvent("rb.itc-tabs.tabChanged",{detail:a}),u(this)[0].dispatchEvent(t)),s.setActiveAndInactive(this,r,e),s.setSlickSliderOnClick(i)})}),e.on("keydown",".itc-tabs__panel",function(e){e.which===o&&(e.preventDefault(),e=u(this).closest(".itc-tabs").find(".itc-tabs__navlist").find(".itc-tabs__nav-item.is-active .itc-tabs__nav-trigger")[0])&&e.focus()})},moveTabPanel:function(e,t){var i=this.$el.find(".itc-tabs__slide .itc-tabs__item ");(e=e>i.length?1:e)<1&&(e=i.length);for(var a=0;a<i.length;a++)i.eq(a).hide(),u(document).find("#tab-panel-"+(a+1)).removeClass("is-current");i.eq(e-1).show(),u(document).find("#tab-panel-"+e).addClass("is-current")},findAdjacentTab:function(e,t,i){i=37===i||38===i?"prev":"next",e=("prev"==i?u(e.parentNode).prev():u(e.parentNode).next())[0];return e||(t=t.find(".itc-tabs__nav-item"),e="prev"==i?t[t.length-1]:t[0]),u(e).find(".itc-tabs__nav-trigger")[0]},setActiveAndInactive:function(e,t,i){var a=u(e).attr("aria-controls"),n=u(e).offset();u("#"+i).find(".itc-tabs__nav-item").each(function(){var e=u(this).find(".itc-tabs__nav-trigger")[0];e&&(e.tabIndex=-1,e.setAttribute("aria-selected","false")),u(this).removeClass("is-active")}),u("#"+i).find(".itc-tabs__panel").each(function(){u(this).removeClass("is-current").attr("aria-hidden","true")}),u(e).parent().addClass("is-active"),u("#"+i).find("#"+a).addClass("is-current").removeAttr("aria-hidden"),u(e)[0].tabIndex=0,u(e)[0].setAttribute("aria-selected","true"),n&&null!=n.left&&(i=u(window).width(),a=(u(e).closest("ul.itc-tabs__navlist").scrollLeft()||0)+n.left-i/3,u(e).closest("ul.itc-tabs__navlist").scrollLeft(a))},setSlickSliderOnClick:function(e){var t=u("[aria-labelledby="+e+"]").find(".js-carousel, .js-carousel-mobile").filter(".slick-initialized");0<t.length&&t.each(function(e){u(t[e]).slick("refresh")})},hideTabDropdownClickOut:function(n){var o=this;u(document).on("click",function(e){var t=u(e.target).attr("class"),t=!!t&&-1<t.indexOf(n),e=0<u(e.target).closest("."+n).length,i=o.$el.find("."+n),a=o.dropdownContent.attr("class"),a=a&&-1<a.indexOf("hide");t||e||!i.length||a||o.dropdownContent.addClass("hide")})}})})(window,window.jQuery),(e=>{e.AddComponent("timerComp",{init:function(e){this.$el=e,this.timerContainer=e.find(".itc-timer__container"),this.timerCounter=e.find(".itc-timer__counter"),this.targetDate=e.find(".itc-timer__counter").data("target-date"),this.daysInstance=e.find(".days-block .itc-timer__counter-days"),this.hoursInstance=e.find(".hours-block .itc-timer__counter-hours"),this.minutesInstance=e.find(".minutes-block .itc-timer__counter-minutes"),this.secondsInstance=e.find(".seconds-block .itc-timer__counter-seconds"),this.daysCounterText=e.find(".days-block .itc-timer__counter-text"),this.hrsCounterText=e.find(".hours-block .itc-timer__counter-text"),this.minutesCounterText=e.find(".minutes-block .itc-timer__counter-text"),this.secondsCounterText=e.find(".seconds-block .itc-timer__counter-text"),this.timerTitleActive=e.find(".itc-timer__title--active"),this.timerBtnWrapperActive=e.find(".itc-timer__button-wrapper--active"),this.timerBtnWrapperExpired=e.find(".itc-timer__button-wrapper--expired"),this.timerTitleExpired=e.find(".itc-timer__title--expired"),this.daysBlock=e.find(".days-block"),this.hoursBlock=e.find(".hours-block"),this.minutesBlock=e.find(".minutes-block"),this.secondsBlock=e.find(".seconds-block"),this.showCountDownData={timerContainer:this.timerContainer,variation:this.timerCounter.data("timer-variation"),daysBlock:this.daysBlock,hoursBlock:this.hoursBlock,minutesBlock:this.minutesBlock,secondsBlock:this.secondsBlock,daysInstance:this.daysInstance},this.countDownTimerData={daysInstance:this.daysInstance,hoursInstance:this.hoursInstance,minutesInstance:this.minutesInstance,secondsInstance:this.secondsInstance,daysCounterText:this.daysCounterText,hrsCounterText:this.hrsCounterText,minutesCounterText:this.minutesCounterText,secondsCounterText:this.secondsCounterText,timerCounter:this.timerCounter,timerTitleActive:this.timerTitleActive,timerBtnWrapperActive:this.timerBtnWrapperActive,timerBtnWrapperExpired:this.timerBtnWrapperExpired,timerTitleExpired:this.timerTitleExpired,daysBlock:this.daysBlock,hoursBlock:this.hoursBlock,minutesBlock:this.minutesBlock},this.showCountDown(this.showCountDownData),this.countDownTimer(this.countDownTimerData)},showCountDown:function(e){var t=e.variation,i=e.timerContainer,a=e.daysInstance,n=e.daysBlock,o=e.hoursBlock,r=e.minutesBlock,e=e.secondsBlock;i.show(),"dhms"!=t&&("hms"==t?n.hide():"ms"==t?(n.hide(),o.hide()):"days"==t&&(o.hide(),r.hide(),e.hide(),n.css({"flex-direction":"row","justify-content":"space-evenly",width:"112px"}),a.css({"margin-left":"10px","font-size":"32px"}),a.text("days for launch")))},countDownTimer:function(e){var a,n,o,r,s=e.daysInstance,l=e.hoursInstance,d=e.minutesInstance,c=e.secondsInstance,h=e.daysCounterText,u=e.timerCounter,m=e.timerTitleActive,f=e.timerBtnWrapperActive,p=e.timerBtnWrapperExpired,g=e.timerTitleExpired,v=e.daysBlock,b=e.hoursBlock,w=e.minutesBlock,y=e.hrsCounterText,C=e.minutesCounterText,_=e.secondsCounterText,T=u.data("timer-variation"),D=new Date(u.data("target-date")),k=setInterval(function(){var e=new Date,e=D.getTime()-e.getTime(),t=(a=Math.floor(e/864e5),Math.floor(e/1e3)),t=(o=Math.floor(t%3600/60).toLocaleString("en-US",{minimumIntegerDigits:2}),r=Math.floor(t%60).toLocaleString("en-US",{minimumIntegerDigits:2}),"dhms"==T?n=Math.floor(e%864e5/36e5).toLocaleString("en-US",{minimumIntegerDigits:2}):"hms"==T?n=Math.floor(t/3600).toLocaleString("en-US",{minimumIntegerDigits:2}):"ms"==T&&(n=Math.floor(t/60/60).toLocaleString("en-US",{minimumIntegerDigits:2})),s.data("multi-label")),i=s.data("single-label"),i=(h.text(a<=1?i:t),0==a&&"days"!=T&&v.hide(),s.text(a.toLocaleString("en-US",{minimumIntegerDigits:2})),l.data("multi-label")),t=l.data("single-label"),t=(y.text(n<=1?t:i),0==n||"days"==T?b.hide():0==n&&"ms"!=T||b.show(),l.text(n),d.data("multi-label")),i=d.data("single-label"),i=(d.text(o),C.text(o<=1?i:t),0==a&&0==n&&(b.hide(),0==o)&&w.hide(),c.data("multi-label")),t=c.data("single-label");_.text(r<=1?t:i),c.text(r),(e<0?(clearInterval(k),u.hide(),m.hide(),f.hide(),p.show(),g):(u.addClass("display-flex"),u.show(),m.show(),f)).show()},1e3)}})})(window,window.jQuery),$(function(){$("body").tooltip({selector:'[data-toggle="tooltip"]',boundary:"window"})}),((e,a)=>{e.AddComponent("popupComp",{init:function(e){this.$el=e,this.bindEvents(),this.$el.find(".popup-overlay").hide()},bindEvents:function(){this.$el.find(".open-popup a").on("click",function(e){e.preventDefault();var t,e=a(this).attr("href"),i=a(e),e=i.find(".popup-close");i.length&&(t=function(){i.fadeOut(200)},i.fadeIn(200).css("display","flex"),e.off("click").on("click",t),i.off("click").on("click",function(e){e.target===i[0]&&t()}))})}})})(window,window.jQuery),((e,o)=>{e.AddComponent("websiteNotification",{init:function(e){this.$el=e,this.modalContent=e.find(".modal-content"),this.showWebsiteNotificationPopup=e.find(".showWebsiteNotificationPopup"),this.close=e.find(".modal-header .close");var t=JSON.parse(document.querySelector("#root").dataset.pks),i=(this.wcmMode=t.wcmMode,this),t=(this.notificationBannerHeight=0,this.notificationBanner(i),e.find(".text-content"),e.find(".read-more")),a=e.find(".itc-website-notification__modal").data("current-page"),n=(window.addEventListener("storage",function(e){if((e=e||window.event).newValue)if("getSessionStorage"==e.key)localStorage.setItem("websiteNotification",JSON.stringify(sessionStorage)),localStorage.removeItem("websiteNotification");else if("websiteNotification"==e.key){var t,i=JSON.parse(e.newValue);for(t in i)sessionStorage.setItem(t,i[t])}}),localStorage.setItem("getSessionStorage",!0),localStorage.removeItem("getSessionStorage"),isMobileAndTablet()||o(window).on("resize",function(){i.getPopupHeight(i)}),o(window).on("load",function(){sessionStorage.getItem("websiteNotification")&&"true"!==sessionStorage.getItem("websiteNotification")||(sessionStorage.setItem("websiteNotification",!0),"EDIT"===i.wcmMode||"/content/itchotels/language-masters/en"!=a&&"/content/itchotels/in/en"!=a?(o(i.modalContent).css("display","none"),o(i.showWebsiteNotificationPopup).css("display","initial")):((1<o(".itc-website-notification__modal .modal-content").length?o('.itc-website-notification__modal .modal-content[data-index="1"]'):o('.itc-website-notification__modal .modal-content[data-index="0"]')).css("display","initial"),o(i.showWebsiteNotificationPopup).css("display","none")),i.getPopupHeight(i))}),0);o(".text-content").on("scroll",function(e){var t=o(this).scrollTop();5<=Math.abs(n-t)&&(n<t?o(e.currentTarget).parents().siblings(".read-more").find("i").removeClass("fa-angle-down").addClass("fa-angle-up"):o(e.currentTarget).parents().siblings(".read-more").find("i").removeClass("fa-angle-up").addClass("fa-angle-down"),n=t)}),t.on("click",function(e){o(e.currentTarget).find("i").hasClass("fa-angle-down")?o(e.currentTarget).siblings(".itc-website-notification__area__text-content").find(".text-content").animate({scrollTop:o(e.currentTarget).siblings(".itc-website-notification__area__text-content").find(".text-content").prop("scrollHeight")},1e3):o(e.currentTarget).find("i").hasClass("fa-angle-up")&&o(e.currentTarget).siblings(".itc-website-notification__area__text-content").find(".text-content").animate({scrollTop:0})}),o(this.showWebsiteNotificationPopup).on("click",function(e){(1<o(".itc-website-notification__modal .modal-content").length?o('.itc-website-notification__modal .modal-content[data-index="1"]'):o('.itc-website-notification__modal .modal-content[data-index="0"]')).css("display","initial"),o(i.showWebsiteNotificationPopup).css("display","none"),i.getPopupHeight(i)}),o(this.close).on("click",function(e){i.showIcon(e,i)}),o(document).on("scroll",function(e){e.originalEvent&&(o(i.modalContent).css("display","none"),i.modalContent.is(":hidden"))&&o(i.showWebsiteNotificationPopup).css("display","initial")}),document.addEventListener("smartbanner.view",function(){i.downloadAppBanner(i)})},getPopupHeight:function(e){e.modalContent.is(":visible")&&o(e.modalContent).each(function(e){var t=0,i=this;o(i).find(".text-content p").each(function(){t+=parseInt(o(this).outerHeight(!0))}),t>o(i).height()&&isMobileAndTablet()?(o(i).find(".read-more").css("display","initial"),o(i).find(".read-more").find("i").hasClass("fa-angle-up")?o(i).find(".read-more").find("i").addClass("fa-angle-up"):o(i).find(".read-more").find("i").addClass("fa-angle-down")):t<o(i).height()&&!isMobileAndTablet()?o(this).css("height","fit-content"):t>o(i).height()&&!isMobileAndTablet()?o(this).css("height",""):t<o(i).height()&&isMobileAndTablet()&&o(i).find(".read-more").css("display","none")})},showIcon:function(e,t){e=o(e.currentTarget).closest(".modal-content").data("index");"1"==e&&(o('.itc-website-notification__modal .modal-content[data-index="1"]').css("display","none"),o('.itc-website-notification__modal .modal-content[data-index="0"]').css("display","initial"),t.getPopupHeight(t)),"0"==e&&(o('.itc-website-notification__modal .modal-content[data-index="0"]').css("display","none"),sessionStorage.setItem("websiteNotification",!1),o(t.showWebsiteNotificationPopup).css("display","initial"))},notificationBanner:function(e){var t;(t=o(document).find("[data-component='notifyComp'] .itc-notification__container")).is(":visible")&&(e.notificationBannerHeight=o(t).height(),e.addHeightToPopUp(e.notificationBannerHeight,e)),o(t).find("button.close").on("click",function(){e.removeHeightFromPopUp(e),e.notificationBannerHeight=0,e.downloadAppBanner(e)})},addHeightToPopUp:function(e,t){o(t.modalContent).addClass("modal-height"),o(t.modalContent).siblings(".showWebsiteNotificationPopup").addClass("icon-height"),o(t.modalContent).siblings(".showWebsiteNotificationPopup").css("margin-top",e),o(t.modalContent).css("margin-top",e)},removeHeightFromPopUp:function(e){o(e.modalContent).removeClass("modal-height"),o(e.modalContent).siblings(".showWebsiteNotificationPopup").removeClass("icon-height"),o(e.modalContent).siblings(".showWebsiteNotificationPopup").css("margin-top",""),o(e.modalContent).css("margin-top","")},downloadAppBanner:function(e){var t,i=o(document).find(".smartbanner");0<i.length&&(t=i.outerHeight(),0<e.notificationBannerHeight?(o(e.modalContent).siblings(".showWebsiteNotificationPopup").css("margin-top",t+e.notificationBannerHeight),o(e.modalContent).css("margin-top",t+e.notificationBannerHeight)):e.addHeightToPopUp(t,e),o(i).find("a.smartbanner__exit").on("click",function(){e.removeHeightFromPopUp(e),e.notificationBanner(e)}))}})})(window,window.jQuery),((e,n)=>{e.AddComponent("whyBookUs",{init:function(e){this.$el=e,this.knowMoreBtn=e.find(".itc-whybookus__panel-left__knowmore"),this.closeDetailBtn=e.find(".itc-whybookus__close-btn"),this.bindEvents(),this.hideOpenView("itc-whybookus")},bindEvents:function(){var e=this;this.knowMoreBtn.on("click",function(){e.$el.addClass("active")}),this.closeDetailBtn.on("click",function(){e.$el.removeClass("active")})},hideOpenView:function(a){n("body").on("click",function(e){var t=n(e.target).attr("class"),t=!!t&&-1<t.indexOf(a),e=0<n(e.target).closest("."+a).length,i=n("."+a);t||e||!i.length||-1<i.attr("class").indexOf("active")&&i.removeClass("active")})}})})(window,window.jQuery),(e=>{(0,window.jQuery)(document).ready(function(){e.initializeComponents()})})(window);
